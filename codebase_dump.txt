


--- FILE: ./id ---

hipment- . \\n


--- FILE: ./vite.config.js ---

import { defineConfig } from 'vite';
import laravel from 'laravel-vite-plugin';
import vue from '@vitejs/plugin-vue';
import tailwindcss from '@tailwindcss/vite';

export default defineConfig({
    // --- ADD THIS BLOCK ---
    resolve: {
        alias: {
            vue: 'vue/dist/vue.esm-bundler.js',
        },
    },
    // ---------------------
    plugins: [
        laravel({
            input: ['resources/css/app.css', 'resources/js/app.js'],
            refresh: true,
        }),
        vue({
            template: {
                transformAssetUrls: {
                    base: null,
                    includeAbsolute: false,
                },
            },
        }),
        tailwindcss(),
    ],
});

--- FILE: ./package.json ---

{
    "$schema": "https://www.schemastore.org/package.json",
    "private": true,
    "type": "module",
    "scripts": {
        "build": "vite build",
        "dev": "vite"
    },
    "devDependencies": {
        "@tailwindcss/vite": "^4.0.0",
        "@vitejs/plugin-vue": "^6.0.3",
        "axios": "^1.11.0",
        "concurrently": "^9.0.1",
        "laravel-vite-plugin": "^2.0.0",
        "tailwindcss": "^4.1.18",
        "vite": "^7.0.7",
        "vue": "^3.5.26"
    },
    "dependencies": {
        "pinia": "^3.0.4",
        "vue-router": "^4.6.4"
    }
}


--- FILE: ./phpunit.xml ---

<?xml version="1.0" encoding="UTF-8"?>
<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="vendor/phpunit/phpunit/phpunit.xsd"
         bootstrap="vendor/autoload.php"
         colors="true"
>
    <testsuites>
        <testsuite name="Unit">
            <directory>tests/Unit</directory>
        </testsuite>
        <testsuite name="Feature">
            <directory>tests/Feature</directory>
        </testsuite>
    </testsuites>
    <source>
        <include>
            <directory>app</directory>
        </include>
    </source>
    <php>
        <env name="APP_ENV" value="testing"/>
        <env name="APP_MAINTENANCE_DRIVER" value="file"/>
        <env name="BCRYPT_ROUNDS" value="4"/>
        <env name="BROADCAST_CONNECTION" value="null"/>
        <env name="CACHE_STORE" value="array"/>
        <env name="DB_DATABASE" value="testing"/>
        <env name="MAIL_MAILER" value="array"/>
        <env name="QUEUE_CONNECTION" value="sync"/>
        <env name="SESSION_DRIVER" value="array"/>
        <env name="PULSE_ENABLED" value="false"/>
        <env name="TELESCOPE_ENABLED" value="false"/>
        <env name="NIGHTWATCH_ENABLED" value="false"/>
    </php>
</phpunit>


--- FILE: ./resources/css/app.css ---

@import "tailwindcss";

@theme {
    --font-sans: 'Inter', 'Figtree', sans-serif;
}

:root {
    /* LIGHT MODE */
    --bg-body: #F9FAFB;      /* Cool Gray 50 */
    --bg-card: #FFFFFF;
    --border-color: #E5E7EB; /* Gray 200 */
    
    --text-main: #111827;    /* Gray 900 */
    --text-body: #4B5563;    /* Gray 600 */
    --text-muted: #9CA3AF;
    
    --brand-primary: #2563EB; /* Royal Blue */
    --brand-glow: rgba(37, 99, 235, 0.15);
}

.dark {
    /* DARK MODE */
    --bg-body: #09090B;      /* Zinc 950 */
    --bg-card: #18181B;      /* Zinc 900 */
    --border-color: #27272A; /* Zinc 800 */
    
    --text-main: #FAFAFA;
    --text-body: #A1A1AA;
    --text-muted: #52525B;
    
    --brand-primary: #6366F1; /* Indigo 500 */
    --brand-glow: rgba(99, 102, 241, 0.2);
}

@layer components {
    .horizon-shell {
        @apply min-h-screen bg-[var(--bg-body)] text-[var(--text-body)] font-sans antialiased selection:bg-[var(--brand-primary)] selection:text-white transition-colors duration-300;
    }

    /* === HORIZONTAL NAV === */
    .h-nav-container {
        @apply sticky top-0 z-50 bg-[var(--bg-card)] border-b border-[var(--border-color)] shadow-sm;
    }

    .h-nav-wrapper {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    /* Top Row (Logo + Actions) */
    .h-top-bar {
        @apply h-16 flex items-center justify-between border-b border-[var(--border-color)];
    }

    /* Bottom Row (Links) - FIXED SCROLLBAR */
    .h-bottom-bar {
        @apply h-12 flex items-center gap-6 overflow-x-auto;
        /* Standard CSS to hide scrollbars */
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE/Edge */
    }
    
    /* Chrome/Safari Scrollbar Hide */
    .h-bottom-bar::-webkit-scrollbar {
        display: none;
    }

    /* Navigation Links */
    .h-link {
        @apply text-sm font-medium text-[var(--text-body)] transition-colors hover:text-[var(--text-main)] whitespace-nowrap flex items-center gap-2 px-1;
    }

    .h-link-active {
        @apply text-[var(--brand-primary)] font-bold relative;
    }

    /* Active Indicator Line */
    .h-link-active::after {
        content: '';
        @apply absolute -bottom-[13px] left-0 right-0 h-[2px] bg-[var(--brand-primary)];
    }

    /* === UI ELEMENTS === */
    .ui-card {
        @apply bg-[var(--bg-card)] border border-[var(--border-color)] rounded-xl p-6 shadow-sm;
    }

    .ui-btn {
        @apply inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all active:scale-95;
    }

    .ui-btn-primary {
        @apply bg-[var(--brand-primary)] text-white hover:brightness-110 shadow-[0_0_15px_var(--brand-glow)];
    }

    .theme-toggle {
        @apply p-2 rounded-full text-[var(--text-body)] hover:bg-[var(--bg-body)] hover:text-[var(--text-main)] cursor-pointer transition-colors;
    }
}

--- FILE: ./resources/views/welcome.blade.php ---

<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>{{ config('app.name', 'Laravel') }}</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=instrument-sans:400,500,600" rel="stylesheet" />

        <!-- Styles / Scripts -->
        @if (file_exists(public_path('build/manifest.json')) || file_exists(public_path('hot')))
            @vite(['resources/css/app.css', 'resources/js/app.js'])
        @else
            <style>
                /*! tailwindcss v4.0.7 | MIT License | https://tailwindcss.com */@layer theme{:root,:host{--font-sans:'Instrument Sans',ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-serif:ui-serif,Georgia,Cambria,"Times New Roman",Times,serif;--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(.971 .013 17.38);--color-red-100:oklch(.936 .032 17.717);--color-red-200:oklch(.885 .062 18.334);--color-red-300:oklch(.808 .114 19.571);--color-red-400:oklch(.704 .191 22.216);--color-red-500:oklch(.637 .237 25.331);--color-red-600:oklch(.577 .245 27.325);--color-red-700:oklch(.505 .213 27.518);--color-red-800:oklch(.444 .177 26.899);--color-red-900:oklch(.396 .141 25.723);--color-red-950:oklch(.258 .092 26.042);--color-orange-50:oklch(.98 .016 73.684);--color-orange-100:oklch(.954 .038 75.164);--color-orange-200:oklch(.901 .076 70.697);--color-orange-300:oklch(.837 .128 66.29);--color-orange-400:oklch(.75 .183 55.934);--color-orange-500:oklch(.705 .213 47.604);--color-orange-600:oklch(.646 .222 41.116);--color-orange-700:oklch(.553 .195 38.402);--color-orange-800:oklch(.47 .157 37.304);--color-orange-900:oklch(.408 .123 38.172);--color-orange-950:oklch(.266 .079 36.259);--color-amber-50:oklch(.987 .022 95.277);--color-amber-100:oklch(.962 .059 95.617);--color-amber-200:oklch(.924 .12 95.746);--color-amber-300:oklch(.879 .169 91.605);--color-amber-400:oklch(.828 .189 84.429);--color-amber-500:oklch(.769 .188 70.08);--color-amber-600:oklch(.666 .179 58.318);--color-amber-700:oklch(.555 .163 48.998);--color-amber-800:oklch(.473 .137 46.201);--color-amber-900:oklch(.414 .112 45.904);--color-amber-950:oklch(.279 .077 45.635);--color-yellow-50:oklch(.987 .026 102.212);--color-yellow-100:oklch(.973 .071 103.193);--color-yellow-200:oklch(.945 .129 101.54);--color-yellow-300:oklch(.905 .182 98.111);--color-yellow-400:oklch(.852 .199 91.936);--color-yellow-500:oklch(.795 .184 86.047);--color-yellow-600:oklch(.681 .162 75.834);--color-yellow-700:oklch(.554 .135 66.442);--color-yellow-800:oklch(.476 .114 61.907);--color-yellow-900:oklch(.421 .095 57.708);--color-yellow-950:oklch(.286 .066 53.813);--color-lime-50:oklch(.986 .031 120.757);--color-lime-100:oklch(.967 .067 122.328);--color-lime-200:oklch(.938 .127 124.321);--color-lime-300:oklch(.897 .196 126.665);--color-lime-400:oklch(.841 .238 128.85);--color-lime-500:oklch(.768 .233 130.85);--color-lime-600:oklch(.648 .2 131.684);--color-lime-700:oklch(.532 .157 131.589);--color-lime-800:oklch(.453 .124 130.933);--color-lime-900:oklch(.405 .101 131.063);--color-lime-950:oklch(.274 .072 132.109);--color-green-50:oklch(.982 .018 155.826);--color-green-100:oklch(.962 .044 156.743);--color-green-200:oklch(.925 .084 155.995);--color-green-300:oklch(.871 .15 154.449);--color-green-400:oklch(.792 .209 151.711);--color-green-500:oklch(.723 .219 149.579);--color-green-600:oklch(.627 .194 149.214);--color-green-700:oklch(.527 .154 150.069);--color-green-800:oklch(.448 .119 151.328);--color-green-900:oklch(.393 .095 152.535);--color-green-950:oklch(.266 .065 152.934);--color-emerald-50:oklch(.979 .021 166.113);--color-emerald-100:oklch(.95 .052 163.051);--color-emerald-200:oklch(.905 .093 164.15);--color-emerald-300:oklch(.845 .143 164.978);--color-emerald-400:oklch(.765 .177 163.223);--color-emerald-500:oklch(.696 .17 162.48);--color-emerald-600:oklch(.596 .145 163.225);--color-emerald-700:oklch(.508 .118 165.612);--color-emerald-800:oklch(.432 .095 166.913);--color-emerald-900:oklch(.378 .077 168.94);--color-emerald-950:oklch(.262 .051 172.552);--color-teal-50:oklch(.984 .014 180.72);--color-teal-100:oklch(.953 .051 180.801);--color-teal-200:oklch(.91 .096 180.426);--color-teal-300:oklch(.855 .138 181.071);--color-teal-400:oklch(.777 .152 181.912);--color-teal-500:oklch(.704 .14 182.503);--color-teal-600:oklch(.6 .118 184.704);--color-teal-700:oklch(.511 .096 186.391);--color-teal-800:oklch(.437 .078 188.216);--color-teal-900:oklch(.386 .063 188.416);--color-teal-950:oklch(.277 .046 192.524);--color-cyan-50:oklch(.984 .019 200.873);--color-cyan-100:oklch(.956 .045 203.388);--color-cyan-200:oklch(.917 .08 205.041);--color-cyan-300:oklch(.865 .127 207.078);--color-cyan-400:oklch(.789 .154 211.53);--color-cyan-500:oklch(.715 .143 215.221);--color-cyan-600:oklch(.609 .126 221.723);--color-cyan-700:oklch(.52 .105 223.128);--color-cyan-800:oklch(.45 .085 224.283);--color-cyan-900:oklch(.398 .07 227.392);--color-cyan-950:oklch(.302 .056 229.695);--color-sky-50:oklch(.977 .013 236.62);--color-sky-100:oklch(.951 .026 236.824);--color-sky-200:oklch(.901 .058 230.902);--color-sky-300:oklch(.828 .111 230.318);--color-sky-400:oklch(.746 .16 232.661);--color-sky-500:oklch(.685 .169 237.323);--color-sky-600:oklch(.588 .158 241.966);--color-sky-700:oklch(.5 .134 242.749);--color-sky-800:oklch(.443 .11 240.79);--color-sky-900:oklch(.391 .09 240.876);--color-sky-950:oklch(.293 .066 243.157);--color-blue-50:oklch(.97 .014 254.604);--color-blue-100:oklch(.932 .032 255.585);--color-blue-200:oklch(.882 .059 254.128);--color-blue-300:oklch(.809 .105 251.813);--color-blue-400:oklch(.707 .165 254.624);--color-blue-500:oklch(.623 .214 259.815);--color-blue-600:oklch(.546 .245 262.881);--color-blue-700:oklch(.488 .243 264.376);--color-blue-800:oklch(.424 .199 265.638);--color-blue-900:oklch(.379 .146 265.522);--color-blue-950:oklch(.282 .091 267.935);--color-indigo-50:oklch(.962 .018 272.314);--color-indigo-100:oklch(.93 .034 272.788);--color-indigo-200:oklch(.87 .065 274.039);--color-indigo-300:oklch(.785 .115 274.713);--color-indigo-400:oklch(.673 .182 276.935);--color-indigo-500:oklch(.585 .233 277.117);--color-indigo-600:oklch(.511 .262 276.966);--color-indigo-700:oklch(.457 .24 277.023);--color-indigo-800:oklch(.398 .195 277.366);--color-indigo-900:oklch(.359 .144 278.697);--color-indigo-950:oklch(.257 .09 281.288);--color-violet-50:oklch(.969 .016 293.756);--color-violet-100:oklch(.943 .029 294.588);--color-violet-200:oklch(.894 .057 293.283);--color-violet-300:oklch(.811 .111 293.571);--color-violet-400:oklch(.702 .183 293.541);--color-violet-500:oklch(.606 .25 292.717);--color-violet-600:oklch(.541 .281 293.009);--color-violet-700:oklch(.491 .27 292.581);--color-violet-800:oklch(.432 .232 292.759);--color-violet-900:oklch(.38 .189 293.745);--color-violet-950:oklch(.283 .141 291.089);--color-purple-50:oklch(.977 .014 308.299);--color-purple-100:oklch(.946 .033 307.174);--color-purple-200:oklch(.902 .063 306.703);--color-purple-300:oklch(.827 .119 306.383);--color-purple-400:oklch(.714 .203 305.504);--color-purple-500:oklch(.627 .265 303.9);--color-purple-600:oklch(.558 .288 302.321);--color-purple-700:oklch(.496 .265 301.924);--color-purple-800:oklch(.438 .218 303.724);--color-purple-900:oklch(.381 .176 304.987);--color-purple-950:oklch(.291 .149 302.717);--color-fuchsia-50:oklch(.977 .017 320.058);--color-fuchsia-100:oklch(.952 .037 318.852);--color-fuchsia-200:oklch(.903 .076 319.62);--color-fuchsia-300:oklch(.833 .145 321.434);--color-fuchsia-400:oklch(.74 .238 322.16);--color-fuchsia-500:oklch(.667 .295 322.15);--color-fuchsia-600:oklch(.591 .293 322.896);--color-fuchsia-700:oklch(.518 .253 323.949);--color-fuchsia-800:oklch(.452 .211 324.591);--color-fuchsia-900:oklch(.401 .17 325.612);--color-fuchsia-950:oklch(.293 .136 325.661);--color-pink-50:oklch(.971 .014 343.198);--color-pink-100:oklch(.948 .028 342.258);--color-pink-200:oklch(.899 .061 343.231);--color-pink-300:oklch(.823 .12 346.018);--color-pink-400:oklch(.718 .202 349.761);--color-pink-500:oklch(.656 .241 354.308);--color-pink-600:oklch(.592 .249 .584);--color-pink-700:oklch(.525 .223 3.958);--color-pink-800:oklch(.459 .187 3.815);--color-pink-900:oklch(.408 .153 2.432);--color-pink-950:oklch(.284 .109 3.907);--color-rose-50:oklch(.969 .015 12.422);--color-rose-100:oklch(.941 .03 12.58);--color-rose-200:oklch(.892 .058 10.001);--color-rose-300:oklch(.81 .117 11.638);--color-rose-400:oklch(.712 .194 13.428);--color-rose-500:oklch(.645 .246 16.439);--color-rose-600:oklch(.586 .253 17.585);--color-rose-700:oklch(.514 .222 16.935);--color-rose-800:oklch(.455 .188 13.697);--color-rose-900:oklch(.41 .159 10.272);--color-rose-950:oklch(.271 .105 12.094);--color-slate-50:oklch(.984 .003 247.858);--color-slate-100:oklch(.968 .007 247.896);--color-slate-200:oklch(.929 .013 255.508);--color-slate-300:oklch(.869 .022 252.894);--color-slate-400:oklch(.704 .04 256.788);--color-slate-500:oklch(.554 .046 257.417);--color-slate-600:oklch(.446 .043 257.281);--color-slate-700:oklch(.372 .044 257.287);--color-slate-800:oklch(.279 .041 260.031);--color-slate-900:oklch(.208 .042 265.755);--color-slate-950:oklch(.129 .042 264.695);--color-gray-50:oklch(.985 .002 247.839);--color-gray-100:oklch(.967 .003 264.542);--color-gray-200:oklch(.928 .006 264.531);--color-gray-300:oklch(.872 .01 258.338);--color-gray-400:oklch(.707 .022 261.325);--color-gray-500:oklch(.551 .027 264.364);--color-gray-600:oklch(.446 .03 256.802);--color-gray-700:oklch(.373 .034 259.733);--color-gray-800:oklch(.278 .033 256.848);--color-gray-900:oklch(.21 .034 264.665);--color-gray-950:oklch(.13 .028 261.692);--color-zinc-50:oklch(.985 0 0);--color-zinc-100:oklch(.967 .001 286.375);--color-zinc-200:oklch(.92 .004 286.32);--color-zinc-300:oklch(.871 .006 286.286);--color-zinc-400:oklch(.705 .015 286.067);--color-zinc-500:oklch(.552 .016 285.938);--color-zinc-600:oklch(.442 .017 285.786);--color-zinc-700:oklch(.37 .013 285.805);--color-zinc-800:oklch(.274 .006 286.033);--color-zinc-900:oklch(.21 .006 285.885);--color-zinc-950:oklch(.141 .005 285.823);--color-neutral-50:oklch(.985 0 0);--color-neutral-100:oklch(.97 0 0);--color-neutral-200:oklch(.922 0 0);--color-neutral-300:oklch(.87 0 0);--color-neutral-400:oklch(.708 0 0);--color-neutral-500:oklch(.556 0 0);--color-neutral-600:oklch(.439 0 0);--color-neutral-700:oklch(.371 0 0);--color-neutral-800:oklch(.269 0 0);--color-neutral-900:oklch(.205 0 0);--color-neutral-950:oklch(.145 0 0);--color-stone-50:oklch(.985 .001 106.423);--color-stone-100:oklch(.97 .001 106.424);--color-stone-200:oklch(.923 .003 48.717);--color-stone-300:oklch(.869 .005 56.366);--color-stone-400:oklch(.709 .01 56.259);--color-stone-500:oklch(.553 .013 58.071);--color-stone-600:oklch(.444 .011 73.639);--color-stone-700:oklch(.374 .01 67.558);--color-stone-800:oklch(.268 .007 34.298);--color-stone-900:oklch(.216 .006 56.043);--color-stone-950:oklch(.147 .004 49.25);--color-black:#000;--color-white:#fff;--spacing:.25rem;--breakpoint-sm:40rem;--breakpoint-md:48rem;--breakpoint-lg:64rem;--breakpoint-xl:80rem;--breakpoint-2xl:96rem;--container-3xs:16rem;--container-2xs:18rem;--container-xs:20rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-xl:36rem;--container-2xl:42rem;--container-3xl:48rem;--container-4xl:56rem;--container-5xl:64rem;--container-6xl:72rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--text-5xl:3rem;--text-5xl--line-height:1;--text-6xl:3.75rem;--text-6xl--line-height:1;--text-7xl:4.5rem;--text-7xl--line-height:1;--text-8xl:6rem;--text-8xl--line-height:1;--text-9xl:8rem;--text-9xl--line-height:1;--font-weight-thin:100;--font-weight-extralight:200;--font-weight-light:300;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-weight-extrabold:800;--font-weight-black:900;--tracking-tighter:-.05em;--tracking-tight:-.025em;--tracking-normal:0em;--tracking-wide:.025em;--tracking-wider:.05em;--tracking-widest:.1em;--leading-tight:1.25;--leading-snug:1.375;--leading-normal:1.5;--leading-relaxed:1.625;--leading-loose:2;--radius-xs:.125rem;--radius-sm:.25rem;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--radius-4xl:2rem;--shadow-2xs:0 1px #0000000d;--shadow-xs:0 1px 2px 0 #0000000d;--shadow-sm:0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;--shadow-md:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--shadow-lg:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--shadow-xl:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--shadow-2xl:0 25px 50px -12px #00000040;--inset-shadow-2xs:inset 0 1px #0000000d;--inset-shadow-xs:inset 0 1px 1px #0000000d;--inset-shadow-sm:inset 0 2px 4px #0000000d;--drop-shadow-xs:0 1px 1px #0000000d;--drop-shadow-sm:0 1px 2px #00000026;--drop-shadow-md:0 3px 3px #0000001f;--drop-shadow-lg:0 4px 4px #00000026;--drop-shadow-xl:0 9px 7px #0000001a;--drop-shadow-2xl:0 25px 25px #00000026;--ease-in:cubic-bezier(.4,0,1,1);--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-ping:ping 1s cubic-bezier(0,0,.2,1)infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--animate-bounce:bounce 1s infinite;--blur-xs:4px;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--blur-xl:24px;--blur-2xl:40px;--blur-3xl:64px;--perspective-dramatic:100px;--perspective-near:300px;--perspective-normal:500px;--perspective-midrange:800px;--perspective-distant:1200px;--aspect-video:16/9;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-font-feature-settings:var(--font-sans--font-feature-settings);--default-font-variation-settings:var(--font-sans--font-variation-settings);--default-mono-font-family:var(--font-mono);--default-mono-font-feature-settings:var(--font-mono--font-feature-settings);--default-mono-font-variation-settings:var(--font-mono--font-variation-settings)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}body{line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1;color:color-mix(in oklab,currentColor 50%,transparent)}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.absolute{position:absolute}.relative{position:relative}.static{position:static}.inset-0{inset:calc(var(--spacing)*0)}.-mt-\[4\.9rem\]{margin-top:-4.9rem}.-mb-px{margin-bottom:-1px}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.-ml-8{margin-left:calc(var(--spacing)*-8)}.flex{display:flex}.hidden{display:none}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.table{display:table}.aspect-\[335\/376\]{aspect-ratio:335/376}.h-1{height:calc(var(--spacing)*1)}.h-1\.5{height:calc(var(--spacing)*1.5)}.h-2{height:calc(var(--spacing)*2)}.h-2\.5{height:calc(var(--spacing)*2.5)}.h-3{height:calc(var(--spacing)*3)}.h-3\.5{height:calc(var(--spacing)*3.5)}.h-14{height:calc(var(--spacing)*14)}.h-14\.5{height:calc(var(--spacing)*14.5)}.min-h-screen{min-height:100vh}.w-1{width:calc(var(--spacing)*1)}.w-1\.5{width:calc(var(--spacing)*1.5)}.w-2{width:calc(var(--spacing)*2)}.w-2\.5{width:calc(var(--spacing)*2.5)}.w-3{width:calc(var(--spacing)*3)}.w-3\.5{width:calc(var(--spacing)*3.5)}.w-\[448px\]{width:448px}.w-full{width:100%}.max-w-\[335px\]{max-width:335px}.max-w-none{max-width:none}.flex-1{flex:1}.shrink-0{flex-shrink:0}.translate-y-0{--tw-translate-y:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.transform{transform:var(--tw-rotate-x)var(--tw-rotate-y)var(--tw-rotate-z)var(--tw-skew-x)var(--tw-skew-y)}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.items-center{align-items:center}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}:where(.space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:3.40282e38px}.rounded-sm{border-radius:var(--radius-sm)}.rounded-t-lg{border-top-left-radius:var(--radius-lg);border-top-right-radius:var(--radius-lg)}.rounded-br-lg{border-bottom-right-radius:var(--radius-lg)}.rounded-bl-lg{border-bottom-left-radius:var(--radius-lg)}.border{border-style:var(--tw-border-style);border-width:1px}.border-\[\#19140035\]{border-color:#19140035}.border-\[\#e3e3e0\]{border-color:#e3e3e0}.border-black{border-color:var(--color-black)}.border-transparent{border-color:#0000}.bg-\[\#1b1b18\]{background-color:#1b1b18}.bg-\[\#FDFDFC\]{background-color:#fdfdfc}.bg-\[\#dbdbd7\]{background-color:#dbdbd7}.bg-\[\#fff2f2\]{background-color:#fff2f2}.bg-white{background-color:var(--color-white)}.p-6{padding:calc(var(--spacing)*6)}.px-5{padding-inline:calc(var(--spacing)*5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.pb-12{padding-bottom:calc(var(--spacing)*12)}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-\[13px\]{font-size:13px}.leading-\[20px\]{--tw-leading:20px;line-height:20px}.leading-normal{--tw-leading:var(--leading-normal);line-height:var(--leading-normal)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.text-\[\#1b1b18\]{color:#1b1b18}.text-\[\#706f6c\]{color:#706f6c}.text-\[\#F53003\],.text-\[\#f53003\]{color:#f53003}.text-white{color:var(--color-white)}.underline{text-decoration-line:underline}.underline-offset-4{text-underline-offset:4px}.opacity-100{opacity:1}.shadow-\[0px_0px_1px_0px_rgba\(0\,0\,0\,0\.03\)\,0px_1px_2px_0px_rgba\(0\,0\,0\,0\.06\)\]{--tw-shadow:0px 0px 1px 0px var(--tw-shadow-color,#00000008),0px 1px 2px 0px var(--tw-shadow-color,#0000000f);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\[inset_0px_0px_0px_1px_rgba\(26\,26\,0\,0\.16\)\]{--tw-shadow:inset 0px 0px 0px 1px var(--tw-shadow-color,#1a1a0029);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.\!filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)!important}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.delay-300{transition-delay:.3s}.duration-750{--tw-duration:.75s;transition-duration:.75s}.not-has-\[nav\]\:hidden:not(:has(:is(nav))){display:none}.before\:absolute:before{content:var(--tw-content);position:absolute}.before\:top-0:before{content:var(--tw-content);top:calc(var(--spacing)*0)}.before\:top-1\/2:before{content:var(--tw-content);top:50%}.before\:bottom-0:before{content:var(--tw-content);bottom:calc(var(--spacing)*0)}.before\:bottom-1\/2:before{content:var(--tw-content);bottom:50%}.before\:left-\[0\.4rem\]:before{content:var(--tw-content);left:.4rem}.before\:border-l:before{content:var(--tw-content);border-left-style:var(--tw-border-style);border-left-width:1px}.before\:border-\[\#e3e3e0\]:before{content:var(--tw-content);border-color:#e3e3e0}@media (hover:hover){.hover\:border-\[\#1915014a\]:hover{border-color:#1915014a}.hover\:border-\[\#19140035\]:hover{border-color:#19140035}.hover\:border-black:hover{border-color:var(--color-black)}.hover\:bg-black:hover{background-color:var(--color-black)}}@media (width>=64rem){.lg\:-mt-\[6\.6rem\]{margin-top:-6.6rem}.lg\:mb-0{margin-bottom:calc(var(--spacing)*0)}.lg\:mb-6{margin-bottom:calc(var(--spacing)*6)}.lg\:-ml-px{margin-left:-1px}.lg\:ml-0{margin-left:calc(var(--spacing)*0)}.lg\:block{display:block}.lg\:aspect-auto{aspect-ratio:auto}.lg\:w-\[438px\]{width:438px}.lg\:max-w-4xl{max-width:var(--container-4xl)}.lg\:grow{flex-grow:1}.lg\:flex-row{flex-direction:row}.lg\:justify-center{justify-content:center}.lg\:rounded-t-none{border-top-left-radius:0;border-top-right-radius:0}.lg\:rounded-tl-lg{border-top-left-radius:var(--radius-lg)}.lg\:rounded-r-lg{border-top-right-radius:var(--radius-lg);border-bottom-right-radius:var(--radius-lg)}.lg\:rounded-br-none{border-bottom-right-radius:0}.lg\:p-8{padding:calc(var(--spacing)*8)}.lg\:p-20{padding:calc(var(--spacing)*20)}}@media (prefers-color-scheme:dark){.dark\:block{display:block}.dark\:hidden{display:none}.dark\:border-\[\#3E3E3A\]{border-color:#3e3e3a}.dark\:border-\[\#eeeeec\]{border-color:#eeeeec}.dark\:bg-\[\#0a0a0a\]{background-color:#0a0a0a}.dark\:bg-\[\#1D0002\]{background-color:#1d0002}.dark\:bg-\[\#3E3E3A\]{background-color:#3e3e3a}.dark\:bg-\[\#161615\]{background-color:#161615}.dark\:bg-\[\#eeeeec\]{background-color:#eeeeec}.dark\:text-\[\#1C1C1A\]{color:#1c1c1a}.dark\:text-\[\#A1A09A\]{color:#a1a09a}.dark\:text-\[\#EDEDEC\]{color:#ededec}.dark\:text-\[\#F61500\]{color:#f61500}.dark\:text-\[\#FF4433\]{color:#f43}.dark\:shadow-\[inset_0px_0px_0px_1px_\#fffaed2d\]{--tw-shadow:inset 0px 0px 0px 1px var(--tw-shadow-color,#fffaed2d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.dark\:before\:border-\[\#3E3E3A\]:before{content:var(--tw-content);border-color:#3e3e3a}@media (hover:hover){.dark\:hover\:border-\[\#3E3E3A\]:hover{border-color:#3e3e3a}.dark\:hover\:border-\[\#62605b\]:hover{border-color:#62605b}.dark\:hover\:border-white:hover{border-color:var(--color-white)}.dark\:hover\:bg-white:hover{background-color:var(--color-white)}}}@starting-style{.starting\:translate-y-4{--tw-translate-y:calc(var(--spacing)*4);translate:var(--tw-translate-x)var(--tw-translate-y)}}@starting-style{.starting\:translate-y-6{--tw-translate-y:calc(var(--spacing)*6);translate:var(--tw-translate-x)var(--tw-translate-y)}}@starting-style{.starting\:opacity-0{opacity:0}}}@keyframes spin{to{transform:rotate(360deg)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false;initial-value:rotateX(0)}@property --tw-rotate-y{syntax:"*";inherits:false;initial-value:rotateY(0)}@property --tw-rotate-z{syntax:"*";inherits:false;initial-value:rotateZ(0)}@property --tw-skew-x{syntax:"*";inherits:false;initial-value:skewX(0)}@property --tw-skew-y{syntax:"*";inherits:false;initial-value:skewY(0)}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-content{syntax:"*";inherits:false;initial-value:""}
            </style>
        @endif
    </head>
    <body class="bg-[#FDFDFC] dark:bg-[#0a0a0a] text-[#1b1b18] flex p-6 lg:p-8 items-center lg:justify-center min-h-screen flex-col">
        <header class="w-full lg:max-w-4xl max-w-[335px] text-sm mb-6 not-has-[nav]:hidden">
            @if (Route::has('login'))
                <nav class="flex items-center justify-end gap-4">
                    @auth
                        <a
                            href="{{ url('/dashboard') }}"
                            class="inline-block px-5 py-1.5 dark:text-[#EDEDEC] border-[#19140035] hover:border-[#1915014a] border text-[#1b1b18] dark:border-[#3E3E3A] dark:hover:border-[#62605b] rounded-sm text-sm leading-normal"
                        >
                            Dashboard
                        </a>
                    @else
                        <a
                            href="{{ route('login') }}"
                            class="inline-block px-5 py-1.5 dark:text-[#EDEDEC] text-[#1b1b18] border border-transparent hover:border-[#19140035] dark:hover:border-[#3E3E3A] rounded-sm text-sm leading-normal"
                        >
                            Log in
                        </a>

                        @if (Route::has('register'))
                            <a
                                href="{{ route('register') }}"
                                class="inline-block px-5 py-1.5 dark:text-[#EDEDEC] border-[#19140035] hover:border-[#1915014a] border text-[#1b1b18] dark:border-[#3E3E3A] dark:hover:border-[#62605b] rounded-sm text-sm leading-normal">
                                Register
                            </a>
                        @endif
                    @endauth
                </nav>
            @endif
        </header>
        <div class="flex items-center justify-center w-full transition-opacity opacity-100 duration-750 lg:grow starting:opacity-0">
            <main class="flex max-w-[335px] w-full flex-col-reverse lg:max-w-4xl lg:flex-row">
                <div class="text-[13px] leading-[20px] flex-1 p-6 pb-12 lg:p-20 bg-white dark:bg-[#161615] dark:text-[#EDEDEC] shadow-[inset_0px_0px_0px_1px_rgba(26,26,0,0.16)] dark:shadow-[inset_0px_0px_0px_1px_#fffaed2d] rounded-bl-lg rounded-br-lg lg:rounded-tl-lg lg:rounded-br-none">
                    <h1 class="mb-1 font-medium">Let's get started</h1>
                    <p class="mb-2 text-[#706f6c] dark:text-[#A1A09A]">Laravel has an incredibly rich ecosystem. <br>We suggest starting with the following.</p>
                    <ul class="flex flex-col mb-4 lg:mb-6">
                        <li class="flex items-center gap-4 py-2 relative before:border-l before:border-[#e3e3e0] dark:before:border-[#3E3E3A] before:top-1/2 before:bottom-0 before:left-[0.4rem] before:absolute">
                            <span class="relative py-1 bg-white dark:bg-[#161615]">
                                <span class="flex items-center justify-center rounded-full bg-[#FDFDFC] dark:bg-[#161615] shadow-[0px_0px_1px_0px_rgba(0,0,0,0.03),0px_1px_2px_0px_rgba(0,0,0,0.06)] w-3.5 h-3.5 border dark:border-[#3E3E3A] border-[#e3e3e0]">
                                    <span class="rounded-full bg-[#dbdbd7] dark:bg-[#3E3E3A] w-1.5 h-1.5"></span>
                                </span>
                            </span>
                            <span>
                                Read the
                                <a href="https://laravel.com/docs" target="_blank" class="inline-flex items-center space-x-1 font-medium underline underline-offset-4 text-[#f53003] dark:text-[#FF4433] ml-1">
                                    <span>Documentation</span>
                                    <svg
                                        width="10"
                                        height="11"
                                        viewBox="0 0 10 11"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="w-2.5 h-2.5"
                                    >
                                        <path
                                            d="M7.70833 6.95834V2.79167H3.54167M2.5 8L7.5 3.00001"
                                            stroke="currentColor"
                                            stroke-linecap="square"
                                        />
                                    </svg>
                                </a>
                            </span>
                        </li>
                        <li class="flex items-center gap-4 py-2 relative before:border-l before:border-[#e3e3e0] dark:before:border-[#3E3E3A] before:bottom-1/2 before:top-0 before:left-[0.4rem] before:absolute">
                            <span class="relative py-1 bg-white dark:bg-[#161615]">
                                <span class="flex items-center justify-center rounded-full bg-[#FDFDFC] dark:bg-[#161615] shadow-[0px_0px_1px_0px_rgba(0,0,0,0.03),0px_1px_2px_0px_rgba(0,0,0,0.06)] w-3.5 h-3.5 border dark:border-[#3E3E3A] border-[#e3e3e0]">
                                    <span class="rounded-full bg-[#dbdbd7] dark:bg-[#3E3E3A] w-1.5 h-1.5"></span>
                                </span>
                            </span>
                            <span>
                                Watch video tutorials at
                                <a href="https://laracasts.com" target="_blank" class="inline-flex items-center space-x-1 font-medium underline underline-offset-4 text-[#f53003] dark:text-[#FF4433] ml-1">
                                    <span>Laracasts</span>
                                    <svg
                                        width="10"
                                        height="11"
                                        viewBox="0 0 10 11"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="w-2.5 h-2.5"
                                    >
                                        <path
                                            d="M7.70833 6.95834V2.79167H3.54167M2.5 8L7.5 3.00001"
                                            stroke="currentColor"
                                            stroke-linecap="square"
                                        />
                                    </svg>
                                </a>
                            </span>
                        </li>
                    </ul>
                    <ul class="flex gap-3 text-sm leading-normal">
                        <li>
                            <a href="https://cloud.laravel.com" target="_blank" class="inline-block dark:bg-[#eeeeec] dark:border-[#eeeeec] dark:text-[#1C1C1A] dark:hover:bg-white dark:hover:border-white hover:bg-black hover:border-black px-5 py-1.5 bg-[#1b1b18] rounded-sm border border-black text-white text-sm leading-normal">
                                Deploy now
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="bg-[#fff2f2] dark:bg-[#1D0002] relative lg:-ml-px -mb-px lg:mb-0 rounded-t-lg lg:rounded-t-none lg:rounded-r-lg aspect-[335/376] lg:aspect-auto w-full lg:w-[438px] shrink-0 overflow-hidden">
                    {{-- Laravel Logo --}}
                    <svg class="w-full text-[#F53003] dark:text-[#F61500] transition-all translate-y-0 opacity-100 max-w-none duration-750 starting:opacity-0 starting:translate-y-6" viewBox="0 0 438 104" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.2036 -3H0V102.197H49.5189V86.7187H17.2036V-3Z" fill="currentColor" />
                        <path d="M110.256 41.6337C108.061 38.1275 104.945 35.3731 100.905 33.3681C96.8667 31.3647 92.8016 30.3618 88.7131 30.3618C83.4247 30.3618 78.5885 31.3389 74.201 33.2923C69.8111 35.2456 66.0474 37.928 62.9059 41.3333C59.7643 44.7401 57.3198 48.6726 55.5754 53.1293C53.8287 57.589 52.9572 62.274 52.9572 67.1813C52.9572 72.1925 53.8287 76.8995 55.5754 81.3069C57.3191 85.7173 59.7636 89.6241 62.9059 93.0293C66.0474 96.4361 69.8119 99.1155 74.201 101.069C78.5885 103.022 83.4247 103.999 88.7131 103.999C92.8016 103.999 96.8667 102.997 100.905 100.994C104.945 98.9911 108.061 96.2359 110.256 92.7282V102.195H126.563V32.1642H110.256V41.6337ZM108.76 75.7472C107.762 78.4531 106.366 80.8078 104.572 82.8112C102.776 84.8161 100.606 86.4183 98.0637 87.6206C95.5202 88.823 92.7004 89.4238 89.6103 89.4238C86.5178 89.4238 83.7252 88.823 81.2324 87.6206C78.7388 86.4183 76.5949 84.8161 74.7998 82.8112C73.004 80.8078 71.6319 78.4531 70.6856 75.7472C69.7356 73.0421 69.2644 70.1868 69.2644 67.1821C69.2644 64.1758 69.7356 61.3205 70.6856 58.6154C71.6319 55.9102 73.004 53.5571 74.7998 51.5522C76.5949 49.5495 78.738 47.9451 81.2324 46.7427C83.7252 45.5404 86.5178 44.9396 89.6103 44.9396C92.7012 44.9396 95.5202 45.5404 98.0637 46.7427C100.606 47.9451 102.776 49.5487 104.572 51.5522C106.367 53.5571 107.762 55.9102 108.76 58.6154C109.756 61.3205 110.256 64.1758 110.256 67.1821C110.256 70.1868 109.756 73.0421 108.76 75.7472Z" fill="currentColor" />
                        <path d="M242.805 41.6337C240.611 38.1275 237.494 35.3731 233.455 33.3681C229.416 31.3647 225.351 30.3618 221.262 30.3618C215.974 30.3618 211.138 31.3389 206.75 33.2923C202.36 35.2456 198.597 37.928 195.455 41.3333C192.314 44.7401 189.869 48.6726 188.125 53.1293C186.378 57.589 185.507 62.274 185.507 67.1813C185.507 72.1925 186.378 76.8995 188.125 81.3069C189.868 85.7173 192.313 89.6241 195.455 93.0293C198.597 96.4361 202.361 99.1155 206.75 101.069C211.138 103.022 215.974 103.999 221.262 103.999C225.351 103.999 229.416 102.997 233.455 100.994C237.494 98.9911 240.611 96.2359 242.805 92.7282V102.195H259.112V32.1642H242.805V41.6337ZM241.31 75.7472C240.312 78.4531 238.916 80.8078 237.122 82.8112C235.326 84.8161 233.156 86.4183 230.614 87.6206C228.07 88.823 225.251 89.4238 222.16 89.4238C219.068 89.4238 216.275 88.823 213.782 87.6206C211.289 86.4183 209.145 84.8161 207.35 82.8112C205.554 80.8078 204.182 78.4531 203.236 75.7472C202.286 73.0421 201.814 70.1868 201.814 67.1821C201.814 64.1758 202.286 61.3205 203.236 58.6154C204.182 55.9102 205.554 53.5571 207.35 51.5522C209.145 49.5495 211.288 47.9451 213.782 46.7427C216.275 45.5404 219.068 44.9396 222.16 44.9396C225.251 44.9396 228.07 45.5404 230.614 46.7427C233.156 47.9451 235.326 49.5487 237.122 51.5522C238.917 53.5571 240.312 55.9102 241.31 58.6154C242.306 61.3205 242.806 64.1758 242.806 67.1821C242.805 70.1868 242.305 73.0421 241.31 75.7472Z" fill="currentColor" />
                        <path d="M438 -3H421.694V102.197H438V-3Z" fill="currentColor" />
                        <path d="M139.43 102.197H155.735V48.2834H183.712V32.1665H139.43V102.197Z" fill="currentColor" />
                        <path d="M324.49 32.1665L303.995 85.794L283.498 32.1665H266.983L293.748 102.197H314.242L341.006 32.1665H324.49Z" fill="currentColor" />
                        <path d="M376.571 30.3656C356.603 30.3656 340.797 46.8497 340.797 67.1828C340.797 89.6597 356.094 104 378.661 104C391.29 104 399.354 99.1488 409.206 88.5848L398.189 80.0226C398.183 80.031 389.874 90.9895 377.468 90.9895C363.048 90.9895 356.977 79.3111 356.977 73.269H411.075C413.917 50.1328 398.775 30.3656 376.571 30.3656ZM357.02 61.0967C357.145 59.7487 359.023 43.3761 376.442 43.3761C393.861 43.3761 395.978 59.7464 396.099 61.0967H357.02Z" fill="currentColor" />
                    </svg>

                    {{-- Light Mode 12 SVG --}}
                    <svg class="w-[448px] max-w-none relative -mt-[4.9rem] -ml-8 lg:ml-0 lg:-mt-[6.6rem] dark:hidden" viewBox="0 0 440 376" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M188.263 355.73L188.595 355.73C195.441 348.845 205.766 339.761 219.569 328.477C232.93 317.193 242.978 308.205 249.714 301.511C256.34 294.626 260.867 287.358 263.296 279.708C265.725 272.058 264.565 264.121 259.816 255.896C254.516 246.716 247.062 239.352 237.454 233.805C227.957 228.067 217.908 225.198 207.307 225.198C196.927 225.197 190.136 227.97 186.934 233.516C183.621 238.872 184.726 246.331 190.247 255.894L125.647 255.891C116.371 239.825 112.395 225.481 113.72 212.858C115.265 200.235 121.559 190.481 132.602 183.596C143.754 176.52 158.607 172.982 177.159 172.983C196.594 172.984 215.863 176.523 234.968 183.6C253.961 190.486 271.299 200.241 286.98 212.864C302.661 225.488 315.14 239.833 324.416 255.899C333.03 270.817 336.841 283.918 335.847 295.203C335.075 306.487 331.376 316.336 324.75 324.751C318.346 333.167 308.408 343.494 294.936 355.734L377.094 355.737L405.917 405.656L217.087 405.649L188.263 355.73Z" fill="black" />
                            <path d="M9.11884 226.339L-13.7396 226.338L-42.7286 176.132L43.0733 176.135L175.595 405.649L112.651 405.647L9.11884 226.339Z" fill="black" />
                            <path d="M188.263 355.73L188.595 355.73C195.441 348.845 205.766 339.761 219.569 328.477C232.93 317.193 242.978 308.205 249.714 301.511C256.34 294.626 260.867 287.358 263.296 279.708C265.725 272.058 264.565 264.121 259.816 255.896C254.516 246.716 247.062 239.352 237.454 233.805C227.957 228.067 217.908 225.198 207.307 225.198C196.927 225.197 190.136 227.97 186.934 233.516C183.621 238.872 184.726 246.331 190.247 255.894L125.647 255.891C116.371 239.825 112.395 225.481 113.72 212.858C115.265 200.235 121.559 190.481 132.602 183.596C143.754 176.52 158.607 172.982 177.159 172.983C196.594 172.984 215.863 176.523 234.968 183.6C253.961 190.486 271.299 200.241 286.98 212.864C302.661 225.488 315.14 239.833 324.416 255.899C333.03 270.817 336.841 283.918 335.847 295.203C335.075 306.487 331.376 316.336 324.75 324.751C318.346 333.167 308.408 343.494 294.936 355.734L377.094 355.737L405.917 405.656L217.087 405.649L188.263 355.73Z" stroke="#1B1B18" stroke-width="1" />
                            <path d="M9.11884 226.339L-13.7396 226.338L-42.7286 176.132L43.0733 176.135L175.595 405.649L112.651 405.647L9.11884 226.339Z" stroke="#1B1B18" stroke-width="1" />
                            <path d="M204.592 327.449L204.923 327.449C211.769 320.564 222.094 311.479 235.897 300.196C249.258 288.912 259.306 279.923 266.042 273.23C272.668 266.345 277.195 259.077 279.624 251.427C282.053 243.777 280.893 235.839 276.145 227.615C270.844 218.435 263.39 211.071 253.782 205.524C244.285 199.786 234.236 196.917 223.635 196.916C213.255 196.916 206.464 199.689 203.262 205.235C199.949 210.59 201.054 218.049 206.575 227.612L141.975 227.61C132.699 211.544 128.723 197.2 130.048 184.577C131.593 171.954 137.887 162.2 148.93 155.315C160.083 148.239 174.935 144.701 193.487 144.702C212.922 144.703 232.192 148.242 251.296 155.319C270.289 162.205 287.627 171.96 303.308 184.583C318.989 197.207 331.468 211.552 340.745 227.618C349.358 242.536 353.169 255.637 352.175 266.921C351.403 278.205 347.704 288.055 341.078 296.47C334.674 304.885 324.736 315.213 311.264 327.453L393.422 327.456L422.246 377.375L233.415 377.368L204.592 327.449Z" fill="#F8B803" />
                            <path d="M25.447 198.058L2.58852 198.057L-26.4005 147.851L59.4015 147.854L191.923 377.368L128.979 377.365L25.447 198.058Z" fill="#F8B803" />
                            <path d="M204.592 327.449L204.923 327.449C211.769 320.564 222.094 311.479 235.897 300.196C249.258 288.912 259.306 279.923 266.042 273.23C272.668 266.345 277.195 259.077 279.624 251.427C282.053 243.777 280.893 235.839 276.145 227.615C270.844 218.435 263.39 211.071 253.782 205.524C244.285 199.786 234.236 196.917 223.635 196.916C213.255 196.916 206.464 199.689 203.262 205.235C199.949 210.59 201.054 218.049 206.575 227.612L141.975 227.61C132.699 211.544 128.723 197.2 130.048 184.577C131.593 171.954 137.887 162.2 148.93 155.315C160.083 148.239 174.935 144.701 193.487 144.702C212.922 144.703 232.192 148.242 251.296 155.319C270.289 162.205 287.627 171.96 303.308 184.583C318.989 197.207 331.468 211.552 340.745 227.618C349.358 242.536 353.169 255.637 352.175 266.921C351.403 278.205 347.704 288.055 341.078 296.47C334.674 304.885 324.736 315.213 311.264 327.453L393.422 327.456L422.246 377.375L233.415 377.368L204.592 327.449Z" stroke="#1B1B18" stroke-width="1" />
                            <path d="M25.447 198.058L2.58852 198.057L-26.4005 147.851L59.4015 147.854L191.923 377.368L128.979 377.365L25.447 198.058Z" stroke="#1B1B18" stroke-width="1" />
                        </g>
                        <g style="mix-blend-mode: hard-light" class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M217.342 305.363L217.673 305.363C224.519 298.478 234.844 289.393 248.647 278.11C262.008 266.826 272.056 257.837 278.792 251.144C285.418 244.259 289.945 236.991 292.374 229.341C294.803 221.691 293.643 213.753 288.895 205.529C283.594 196.349 276.14 188.985 266.532 183.438C257.035 177.7 246.986 174.831 236.385 174.83C226.005 174.83 219.214 177.603 216.012 183.149C212.699 188.504 213.804 195.963 219.325 205.527L154.725 205.524C145.449 189.458 141.473 175.114 142.798 162.491C144.343 149.868 150.637 140.114 161.68 133.229C172.833 126.153 187.685 122.615 206.237 122.616C225.672 122.617 244.942 126.156 264.046 133.233C283.039 140.119 300.377 149.874 316.058 162.497C331.739 175.121 344.218 189.466 353.495 205.532C362.108 220.45 365.919 233.551 364.925 244.835C364.153 256.12 360.454 265.969 353.828 274.384C347.424 282.799 337.486 293.127 324.014 305.367L406.172 305.37L434.996 355.289L246.165 355.282L217.342 305.363Z" fill="#F0ACB8" />
                            <path d="M38.197 175.972L15.3385 175.971L-13.6505 125.765L72.1515 125.768L204.673 355.282L141.729 355.279L38.197 175.972Z" fill="#F0ACB8" />
                            <path d="M217.342 305.363L217.673 305.363C224.519 298.478 234.844 289.393 248.647 278.11C262.008 266.826 272.056 257.837 278.792 251.144C285.418 244.259 289.945 236.991 292.374 229.341C294.803 221.691 293.643 213.753 288.895 205.529C283.594 196.349 276.14 188.985 266.532 183.438C257.035 177.7 246.986 174.831 236.385 174.83C226.005 174.83 219.214 177.603 216.012 183.149C212.699 188.504 213.804 195.963 219.325 205.527L154.725 205.524C145.449 189.458 141.473 175.114 142.798 162.491C144.343 149.868 150.637 140.114 161.68 133.229C172.833 126.153 187.685 122.615 206.237 122.616C225.672 122.617 244.942 126.156 264.046 133.233C283.039 140.119 300.377 149.874 316.058 162.497C331.739 175.121 344.218 189.466 353.495 205.532C362.108 220.45 365.919 233.551 364.925 244.835C364.153 256.12 360.454 265.969 353.828 274.384C347.424 282.799 337.486 293.127 324.014 305.367L406.172 305.37L434.996 355.289L246.165 355.282L217.342 305.363Z" stroke="#1B1B18" stroke-width="1" />
                            <path d="M38.197 175.972L15.3385 175.971L-13.6505 125.765L72.1515 125.768L204.673 355.282L141.729 355.279L38.197 175.972Z" stroke="#1B1B18" stroke-width="1" />
                        </g>
                        <g style="mix-blend-mode: plus-darker" class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M230.951 281.792L231.282 281.793C238.128 274.907 248.453 265.823 262.256 254.539C275.617 243.256 285.666 234.267 292.402 227.573C299.027 220.688 303.554 213.421 305.983 205.771C308.412 198.12 307.253 190.183 302.504 181.959C297.203 172.778 289.749 165.415 280.142 159.868C270.645 154.13 260.596 151.26 249.995 151.26C239.615 151.26 232.823 154.033 229.621 159.579C226.309 164.934 227.413 172.393 232.935 181.956L168.335 181.954C159.058 165.888 155.082 151.543 156.407 138.92C157.953 126.298 164.247 116.544 175.289 109.659C186.442 102.583 201.294 99.045 219.846 99.0457C239.281 99.0464 258.551 102.585 277.655 109.663C296.649 116.549 313.986 126.303 329.667 138.927C345.349 151.551 357.827 165.895 367.104 181.961C375.718 196.88 379.528 209.981 378.535 221.265C377.762 232.549 374.063 242.399 367.438 250.814C361.033 259.229 351.095 269.557 337.624 281.796L419.782 281.8L448.605 331.719L259.774 331.712L230.951 281.792Z" fill="#F3BEC7" />
                            <path d="M51.8063 152.402L28.9479 152.401L-0.0411453 102.195L85.7608 102.198L218.282 331.711L155.339 331.709L51.8063 152.402Z" fill="#F3BEC7" />
                            <path d="M230.951 281.792L231.282 281.793C238.128 274.907 248.453 265.823 262.256 254.539C275.617 243.256 285.666 234.267 292.402 227.573C299.027 220.688 303.554 213.421 305.983 205.771C308.412 198.12 307.253 190.183 302.504 181.959C297.203 172.778 289.749 165.415 280.142 159.868C270.645 154.13 260.596 151.26 249.995 151.26C239.615 151.26 232.823 154.033 229.621 159.579C226.309 164.934 227.413 172.393 232.935 181.956L168.335 181.954C159.058 165.888 155.082 151.543 156.407 138.92C157.953 126.298 164.247 116.544 175.289 109.659C186.442 102.583 201.294 99.045 219.846 99.0457C239.281 99.0464 258.551 102.585 277.655 109.663C296.649 116.549 313.986 126.303 329.667 138.927C345.349 151.551 357.827 165.895 367.104 181.961C375.718 196.88 379.528 209.981 378.535 221.265C377.762 232.549 374.063 242.399 367.438 250.814C361.033 259.229 351.095 269.557 337.624 281.796L419.782 281.8L448.605 331.719L259.774 331.712L230.951 281.792Z" stroke="#1B1B18" stroke-width="1" />
                            <path d="M51.8063 152.402L28.9479 152.401L-0.0411453 102.195L85.7608 102.198L218.282 331.711L155.339 331.709L51.8063 152.402Z" stroke="#1B1B18" stroke-width="1" />
                        </g>
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M188.467 355.363L188.798 355.363C195.644 348.478 205.969 339.393 219.772 328.11C233.133 316.826 243.181 307.837 249.917 301.144C253.696 297.217 256.792 293.166 259.205 288.991C261.024 285.845 262.455 282.628 263.499 279.341C265.928 271.691 264.768 263.753 260.02 255.529C254.719 246.349 247.265 238.985 237.657 233.438C228.16 227.7 218.111 224.831 207.51 224.83C197.13 224.83 190.339 227.603 187.137 233.149C183.824 238.504 184.929 245.963 190.45 255.527L125.851 255.524C116.574 239.458 112.598 225.114 113.923 212.491C114.615 206.836 116.261 201.756 118.859 197.253C122.061 191.704 126.709 187.03 132.805 183.229C143.958 176.153 158.81 172.615 177.362 172.616C196.797 172.617 216.067 176.156 235.171 183.233C254.164 190.119 271.502 199.874 287.183 212.497C302.864 225.121 315.343 239.466 324.62 255.532C333.233 270.45 337.044 283.551 336.05 294.835C335.46 303.459 333.16 311.245 329.151 318.194C327.915 320.337 326.515 322.4 324.953 324.384C318.549 332.799 308.611 343.127 295.139 355.367L377.297 355.37L406.121 405.289L217.29 405.282L188.467 355.363Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M9.32197 225.972L-13.5365 225.971L-42.5255 175.765L43.2765 175.768L175.798 405.282L112.854 405.279L9.32197 225.972Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M345.247 111.915C329.566 99.2919 312.229 89.5371 293.235 82.6512L235.167 183.228C254.161 190.114 271.498 199.869 287.179 212.492L345.247 111.915Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M382.686 154.964C373.41 138.898 360.931 124.553 345.25 111.93L287.182 212.506C302.863 225.13 315.342 239.475 324.618 255.541L382.686 154.964Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M293.243 82.6472C274.139 75.57 254.869 72.031 235.434 72.0303L177.366 172.607C196.801 172.608 216.071 176.147 235.175 183.224L293.243 82.6472Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M394.118 194.257C395.112 182.973 391.301 169.872 382.688 154.953L324.619 255.53C333.233 270.448 337.044 283.55 336.05 294.834L394.118 194.257Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M235.432 72.0311C216.88 72.0304 202.027 75.5681 190.875 82.6442L132.806 183.221C143.959 176.145 158.812 172.607 177.363 172.608L235.432 72.0311Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M265.59 124.25C276.191 124.251 286.24 127.12 295.737 132.858L237.669 233.435C228.172 227.697 218.123 224.828 207.522 224.827L265.59 124.25Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M295.719 132.859C305.326 138.406 312.78 145.77 318.081 154.95L260.013 255.527C254.712 246.347 247.258 238.983 237.651 233.436L295.719 132.859Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M387.218 217.608C391.227 210.66 393.527 202.874 394.117 194.25L336.049 294.827C335.459 303.451 333.159 311.237 329.15 318.185L387.218 217.608Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M245.211 132.577C248.413 127.03 255.204 124.257 265.584 124.258L207.516 224.835C197.136 224.834 190.345 227.607 187.143 233.154L245.211 132.577Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M318.094 154.945C322.842 163.17 324.002 171.107 321.573 178.757L263.505 279.334C265.934 271.684 264.774 263.746 260.026 255.522L318.094 154.945Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M176.925 96.6737C180.127 91.1249 184.776 86.4503 190.871 82.6499L132.803 183.227C126.708 187.027 122.059 191.702 118.857 197.25L176.925 96.6737Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M387.226 217.606C385.989 219.749 384.59 221.813 383.028 223.797L324.96 324.373C326.522 322.39 327.921 320.326 329.157 318.183L387.226 217.606Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M317.269 188.408C319.087 185.262 320.519 182.045 321.562 178.758L263.494 279.335C262.451 282.622 261.019 285.839 259.201 288.985L317.269 188.408Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M245.208 132.573C241.895 137.928 243 145.387 248.522 154.95L190.454 255.527C184.932 245.964 183.827 238.505 187.14 233.15L245.208 132.573Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M176.93 96.6719C174.331 101.175 172.686 106.255 171.993 111.91L113.925 212.487C114.618 206.831 116.263 201.752 118.862 197.249L176.93 96.6719Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M317.266 188.413C314.853 192.589 311.757 196.64 307.978 200.566L249.91 301.143C253.689 297.216 256.785 293.166 259.198 288.99L317.266 188.413Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M464.198 304.708L435.375 254.789L377.307 355.366L406.13 405.285L464.198 304.708Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M353.209 254.787C366.68 242.548 376.618 232.22 383.023 223.805L324.955 324.382C318.55 332.797 308.612 343.124 295.141 355.364L353.209 254.787Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M435.37 254.787L353.212 254.784L295.144 355.361L377.302 355.364L435.37 254.787Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M183.921 154.947L248.521 154.95L190.453 255.527L125.853 255.524L183.921 154.947Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M171.992 111.914C170.668 124.537 174.643 138.881 183.92 154.947L125.852 255.524C116.575 239.458 112.599 225.114 113.924 212.491L171.992 111.914Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M307.987 200.562C301.251 207.256 291.203 216.244 277.842 227.528L219.774 328.105C233.135 316.821 243.183 307.832 249.919 301.139L307.987 200.562Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M15.5469 75.1797L44.5359 125.386L-13.5321 225.963L-42.5212 175.756L15.5469 75.1797Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M277.836 227.536C264.033 238.82 253.708 247.904 246.862 254.789L188.794 355.366C195.64 348.481 205.965 339.397 219.768 328.113L277.836 227.536Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M275.358 304.706L464.189 304.713L406.12 405.29L217.29 405.283L275.358 304.706Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M44.5279 125.39L67.3864 125.39L9.31834 225.967L-13.5401 225.966L44.5279 125.39Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M101.341 75.1911L233.863 304.705L175.795 405.282L43.2733 175.768L101.341 75.1911ZM15.5431 75.19L-42.525 175.767L43.277 175.77L101.345 75.1932L15.5431 75.19Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M246.866 254.784L246.534 254.784L188.466 355.361L188.798 355.361L246.866 254.784Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M246.539 254.781L275.362 304.701L217.294 405.277L188.471 355.358L246.539 254.781Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M67.3906 125.391L170.923 304.698L112.855 405.275L9.32257 225.967L67.3906 125.391Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                            <path d="M170.921 304.699L233.865 304.701L175.797 405.278L112.853 405.276L170.921 304.699Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="bevel" />
                        </g>
                        <g style="mix-blend-mode: hard-light" class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M246.544 254.79L246.875 254.79C253.722 247.905 264.046 238.82 277.849 227.537C291.21 216.253 301.259 207.264 307.995 200.57C314.62 193.685 319.147 186.418 321.577 178.768C324.006 171.117 322.846 163.18 318.097 154.956C312.796 145.775 305.342 138.412 295.735 132.865C286.238 127.127 276.189 124.258 265.588 124.257C255.208 124.257 248.416 127.03 245.214 132.576C241.902 137.931 243.006 145.39 248.528 154.953L183.928 154.951C174.652 138.885 170.676 124.541 172 111.918C173.546 99.2946 179.84 89.5408 190.882 82.6559C202.035 75.5798 216.887 72.0421 235.439 72.0428C254.874 72.0435 274.144 75.5825 293.248 82.6598C312.242 89.5457 329.579 99.3005 345.261 111.924C360.942 124.548 373.421 138.892 382.697 154.958C391.311 169.877 395.121 182.978 394.128 194.262C393.355 205.546 389.656 215.396 383.031 223.811C376.627 232.226 366.688 242.554 353.217 254.794L435.375 254.797L464.198 304.716L275.367 304.709L246.544 254.79Z" fill="#F0ACB8" />
                            <path d="M246.544 254.79L246.875 254.79C253.722 247.905 264.046 238.82 277.849 227.537C291.21 216.253 301.259 207.264 307.995 200.57C314.62 193.685 319.147 186.418 321.577 178.768C324.006 171.117 322.846 163.18 318.097 154.956C312.796 145.775 305.342 138.412 295.735 132.865C286.238 127.127 276.189 124.258 265.588 124.257C255.208 124.257 248.416 127.03 245.214 132.576C241.902 137.931 243.006 145.39 248.528 154.953L183.928 154.951C174.652 138.885 170.676 124.541 172 111.918C173.546 99.2946 179.84 89.5408 190.882 82.6559C202.035 75.5798 216.887 72.0421 235.439 72.0428C254.874 72.0435 274.144 75.5825 293.248 82.6598C312.242 89.5457 329.579 99.3005 345.261 111.924C360.942 124.548 373.421 138.892 382.697 154.958C391.311 169.877 395.121 182.978 394.128 194.262C393.355 205.546 389.656 215.396 383.031 223.811C376.627 232.226 366.688 242.554 353.217 254.794L435.375 254.797L464.198 304.716L275.367 304.709L246.544 254.79Z" stroke="#1B1B18" stroke-width="1" stroke-linejoin="round" />
                        </g>
                        <g style="mix-blend-mode: hard-light" class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M67.41 125.402L44.5515 125.401L15.5625 75.1953L101.364 75.1985L233.886 304.712L170.942 304.71L67.41 125.402Z" fill="#F0ACB8" />
                            <path d="M67.41 125.402L44.5515 125.401L15.5625 75.1953L101.364 75.1985L233.886 304.712L170.942 304.71L67.41 125.402Z" stroke="#1B1B18" stroke-width="1" />
                        </g>
                    </svg>

                    {{-- Dark Mode 12 SVG --}}
                    <svg class="w-[448px] max-w-none relative -mt-[4.9rem] -ml-8 lg:ml-0 lg:-mt-[6.6rem] hidden dark:block" viewBox="0 0 440 376" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M188.263 355.73L188.595 355.73C195.441 348.845 205.766 339.761 219.569 328.477C232.93 317.193 242.978 308.205 249.714 301.511C256.34 294.626 260.867 287.358 263.296 279.708C265.725 272.058 264.565 264.121 259.816 255.896C254.516 246.716 247.062 239.352 237.454 233.805C227.957 228.067 217.908 225.198 207.307 225.198C196.927 225.197 190.136 227.97 186.934 233.516C183.621 238.872 184.726 246.331 190.247 255.894L125.647 255.891C116.371 239.825 112.395 225.481 113.72 212.858C115.265 200.235 121.559 190.481 132.602 183.596C143.754 176.52 158.607 172.982 177.159 172.983C196.594 172.984 215.863 176.523 234.968 183.6C253.961 190.486 271.299 200.241 286.98 212.864C302.661 225.488 315.14 239.833 324.416 255.899C333.03 270.817 336.841 283.918 335.847 295.203C335.075 306.487 331.376 316.336 324.75 324.751C318.346 333.167 308.408 343.494 294.936 355.734L377.094 355.737L405.917 405.656L217.087 405.649L188.263 355.73Z" fill="black"/>
                            <path d="M9.11884 226.339L-13.7396 226.338L-42.7286 176.132L43.0733 176.135L175.595 405.649L112.651 405.647L9.11884 226.339Z" fill="black"/>
                            <path d="M188.263 355.73L188.595 355.73C195.441 348.845 205.766 339.761 219.569 328.477C232.93 317.193 242.978 308.205 249.714 301.511C256.34 294.626 260.867 287.358 263.296 279.708C265.725 272.058 264.565 264.121 259.816 255.896C254.516 246.716 247.062 239.352 237.454 233.805C227.957 228.067 217.908 225.198 207.307 225.198C196.927 225.197 190.136 227.97 186.934 233.516C183.621 238.872 184.726 246.331 190.247 255.894L125.647 255.891C116.371 239.825 112.395 225.481 113.72 212.858C115.265 200.235 121.559 190.481 132.602 183.596C143.754 176.52 158.607 172.982 177.159 172.983C196.594 172.984 215.863 176.523 234.968 183.6C253.961 190.486 271.299 200.241 286.98 212.864C302.661 225.488 315.14 239.833 324.416 255.899C333.03 270.817 336.841 283.918 335.847 295.203C335.075 306.487 331.376 316.336 324.75 324.751C318.346 333.167 308.408 343.494 294.936 355.734L377.094 355.737L405.917 405.656L217.087 405.649L188.263 355.73Z" stroke="#FF750F" stroke-width="1"/>
                            <path d="M9.11884 226.339L-13.7396 226.338L-42.7286 176.132L43.0733 176.135L175.595 405.649L112.651 405.647L9.11884 226.339Z" stroke="#FF750F" stroke-width="1"/>
                            <path d="M204.592 327.449L204.923 327.449C211.769 320.564 222.094 311.479 235.897 300.196C249.258 288.912 259.306 279.923 266.042 273.23C272.668 266.345 277.195 259.077 279.624 251.427C282.053 243.777 280.893 235.839 276.145 227.615C270.844 218.435 263.39 211.071 253.782 205.524C244.285 199.786 234.236 196.917 223.635 196.916C213.255 196.916 206.464 199.689 203.262 205.235C199.949 210.59 201.054 218.049 206.575 227.612L141.975 227.61C132.699 211.544 128.723 197.2 130.048 184.577C131.593 171.954 137.887 162.2 148.93 155.315C160.083 148.239 174.935 144.701 193.487 144.702C212.922 144.703 232.192 148.242 251.296 155.319C270.289 162.205 287.627 171.96 303.308 184.583C318.989 197.207 331.468 211.552 340.745 227.618C349.358 242.536 353.169 255.637 352.175 266.921C351.403 278.205 347.704 288.055 341.078 296.47C334.674 304.885 324.736 315.213 311.264 327.453L393.422 327.456L422.246 377.375L233.415 377.368L204.592 327.449Z" fill="#391800"/>
                            <path d="M25.447 198.058L2.58852 198.057L-26.4005 147.851L59.4015 147.854L191.923 377.368L128.979 377.365L25.447 198.058Z" fill="#391800"/>
                            <path d="M204.592 327.449L204.923 327.449C211.769 320.564 222.094 311.479 235.897 300.196C249.258 288.912 259.306 279.923 266.042 273.23C272.668 266.345 277.195 259.077 279.624 251.427C282.053 243.777 280.893 235.839 276.145 227.615C270.844 218.435 263.39 211.071 253.782 205.524C244.285 199.786 234.236 196.917 223.635 196.916C213.255 196.916 206.464 199.689 203.262 205.235C199.949 210.59 201.054 218.049 206.575 227.612L141.975 227.61C132.699 211.544 128.723 197.2 130.048 184.577C131.593 171.954 137.887 162.2 148.93 155.315C160.083 148.239 174.935 144.701 193.487 144.702C212.922 144.703 232.192 148.242 251.296 155.319C270.289 162.205 287.627 171.96 303.308 184.583C318.989 197.207 331.468 211.552 340.745 227.618C349.358 242.536 353.169 255.637 352.175 266.921C351.403 278.205 347.704 288.055 341.078 296.47C334.674 304.885 324.736 315.213 311.264 327.453L393.422 327.456L422.246 377.375L233.415 377.368L204.592 327.449Z" stroke="#FF750F" stroke-width="1"/>
                            <path d="M25.447 198.058L2.58852 198.057L-26.4005 147.851L59.4015 147.854L191.923 377.368L128.979 377.365L25.447 198.058Z" stroke="#FF750F" stroke-width="1"/>
                        </g>
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4" style="mix-blend-mode:hard-light">
                            <path d="M217.342 305.363L217.673 305.363C224.519 298.478 234.844 289.393 248.647 278.11C262.008 266.826 272.056 257.837 278.792 251.144C285.418 244.259 289.945 236.991 292.374 229.341C294.803 221.691 293.643 213.753 288.895 205.529C283.594 196.349 276.14 188.985 266.532 183.438C257.035 177.7 246.986 174.831 236.385 174.83C226.005 174.83 219.214 177.603 216.012 183.149C212.699 188.504 213.804 195.963 219.325 205.527L154.725 205.524C145.449 189.458 141.473 175.114 142.798 162.491C144.343 149.868 150.637 140.114 161.68 133.229C172.833 126.153 187.685 122.615 206.237 122.616C225.672 122.617 244.942 126.156 264.046 133.233C283.039 140.119 300.377 149.874 316.058 162.497C331.739 175.121 344.218 189.466 353.495 205.532C362.108 220.45 365.919 233.551 364.925 244.835C364.153 256.12 360.454 265.969 353.828 274.384C347.424 282.799 337.486 293.127 324.014 305.367L406.172 305.37L434.996 355.289L246.165 355.282L217.342 305.363Z" fill="#733000"/>
                            <path d="M38.197 175.972L15.3385 175.971L-13.6505 125.765L72.1515 125.768L204.673 355.282L141.729 355.279L38.197 175.972Z" fill="#733000"/>
                            <path d="M217.342 305.363L217.673 305.363C224.519 298.478 234.844 289.393 248.647 278.11C262.008 266.826 272.056 257.837 278.792 251.144C285.418 244.259 289.945 236.991 292.374 229.341C294.803 221.691 293.643 213.753 288.895 205.529C283.594 196.349 276.14 188.985 266.532 183.438C257.035 177.7 246.986 174.831 236.385 174.83C226.005 174.83 219.214 177.603 216.012 183.149C212.699 188.504 213.804 195.963 219.325 205.527L154.725 205.524C145.449 189.458 141.473 175.114 142.798 162.491C144.343 149.868 150.637 140.114 161.68 133.229C172.833 126.153 187.685 122.615 206.237 122.616C225.672 122.617 244.942 126.156 264.046 133.233C283.039 140.119 300.377 149.874 316.058 162.497C331.739 175.121 344.218 189.466 353.495 205.532C362.108 220.45 365.919 233.551 364.925 244.835C364.153 256.12 360.454 265.969 353.828 274.384C347.424 282.799 337.486 293.127 324.014 305.367L406.172 305.37L434.996 355.289L246.165 355.282L217.342 305.363Z" stroke="#FF750F" stroke-width="1"/>
                            <path d="M38.197 175.972L15.3385 175.971L-13.6505 125.765L72.1515 125.768L204.673 355.282L141.729 355.279L38.197 175.972Z" stroke="#FF750F" stroke-width="1"/>
                        </g>
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M217.342 305.363L217.673 305.363C224.519 298.478 234.844 289.393 248.647 278.11C262.008 266.826 272.056 257.837 278.792 251.144C285.418 244.259 289.945 236.991 292.374 229.341C294.803 221.691 293.643 213.753 288.895 205.529C283.594 196.349 276.14 188.985 266.532 183.438C257.035 177.7 246.986 174.831 236.385 174.83C226.005 174.83 219.214 177.603 216.012 183.149C212.699 188.504 213.804 195.963 219.325 205.527L154.726 205.524C145.449 189.458 141.473 175.114 142.798 162.491C144.343 149.868 150.637 140.114 161.68 133.229C172.833 126.153 187.685 122.615 206.237 122.616C225.672 122.617 244.942 126.156 264.046 133.233C283.039 140.119 300.377 149.874 316.058 162.497C331.739 175.121 344.218 189.466 353.495 205.532C362.108 220.45 365.919 233.551 364.925 244.835C364.153 256.12 360.454 265.969 353.828 274.384C347.424 282.799 337.486 293.127 324.014 305.367L406.172 305.37L434.996 355.289L246.165 355.282L217.342 305.363Z" stroke="#FF750F" stroke-width="1"/>
                            <path d="M38.197 175.972L15.3385 175.971L-13.6505 125.765L72.1515 125.768L204.673 355.282L141.729 355.279L38.197 175.972Z" stroke="#FF750F" stroke-width="1"/>
                        </g>
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4">
                            <path d="M188.467 355.363L188.798 355.363C195.644 348.478 205.969 339.393 219.772 328.11C233.133 316.826 243.181 307.837 249.917 301.144C253.696 297.217 256.792 293.166 259.205 288.991C261.024 285.845 262.455 282.628 263.499 279.341C265.928 271.691 264.768 263.753 260.02 255.529C254.719 246.349 247.265 238.985 237.657 233.438C228.16 227.7 218.111 224.831 207.51 224.83C197.13 224.83 190.339 227.603 187.137 233.149C183.824 238.504 184.929 245.963 190.45 255.527L125.851 255.524C116.574 239.458 112.598 225.114 113.923 212.491C114.615 206.836 116.261 201.756 118.859 197.253C122.061 191.704 126.709 187.03 132.805 183.229C143.958 176.153 158.81 172.615 177.362 172.616C196.797 172.617 216.067 176.156 235.171 183.233C254.164 190.119 271.502 199.874 287.183 212.497C302.864 225.121 315.343 239.466 324.62 255.532C333.233 270.45 337.044 283.551 336.05 294.835C335.46 303.459 333.16 311.245 329.151 318.194C327.915 320.337 326.515 322.4 324.953 324.384C318.549 332.799 308.611 343.127 295.139 355.367L377.297 355.37L406.121 405.289L217.29 405.282L188.467 355.363Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M9.32197 225.972L-13.5365 225.971L-42.5255 175.765L43.2765 175.768L175.798 405.282L112.854 405.279L9.32197 225.972Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M345.247 111.915C329.566 99.2919 312.229 89.5371 293.235 82.6512L235.167 183.228C254.161 190.114 271.498 199.869 287.179 212.492L345.247 111.915Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M382.686 154.964C373.41 138.898 360.931 124.553 345.25 111.93L287.182 212.506C302.863 225.13 315.342 239.475 324.618 255.541L382.686 154.964Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M293.243 82.6472C274.139 75.57 254.869 72.031 235.434 72.0303L177.366 172.607C196.801 172.608 216.071 176.147 235.175 183.224L293.243 82.6472Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M394.118 194.257C395.112 182.973 391.301 169.872 382.688 154.953L324.619 255.53C333.233 270.448 337.044 283.55 336.05 294.834L394.118 194.257Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M235.432 72.0311C216.88 72.0304 202.027 75.5681 190.875 82.6442L132.806 183.221C143.959 176.145 158.812 172.607 177.363 172.608L235.432 72.0311Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M265.59 124.25C276.191 124.251 286.24 127.12 295.737 132.858L237.669 233.435C228.172 227.697 218.123 224.828 207.522 224.827L265.59 124.25Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M295.719 132.859C305.326 138.406 312.78 145.77 318.081 154.95L260.013 255.527C254.712 246.347 247.258 238.983 237.651 233.436L295.719 132.859Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M387.218 217.608C391.227 210.66 393.527 202.874 394.117 194.25L336.049 294.827C335.459 303.451 333.159 311.237 329.15 318.185L387.218 217.608Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M245.211 132.577C248.413 127.03 255.204 124.257 265.584 124.258L207.516 224.835C197.136 224.834 190.345 227.607 187.143 233.154L245.211 132.577Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M318.094 154.945C322.842 163.17 324.002 171.107 321.573 178.757L263.505 279.334C265.934 271.684 264.774 263.746 260.026 255.522L318.094 154.945Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M176.925 96.6737C180.127 91.1249 184.776 86.4503 190.871 82.6499L132.803 183.227C126.708 187.027 122.059 191.702 118.857 197.25L176.925 96.6737Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M387.226 217.606C385.989 219.749 384.59 221.813 383.028 223.797L324.96 324.373C326.522 322.39 327.921 320.326 329.157 318.183L387.226 217.606Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M317.269 188.408C319.087 185.262 320.519 182.045 321.562 178.758L263.494 279.335C262.451 282.622 261.019 285.839 259.201 288.985L317.269 188.408Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M245.208 132.573C241.895 137.928 243 145.387 248.522 154.95L190.454 255.527C184.932 245.964 183.827 238.505 187.14 233.15L245.208 132.573Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M176.93 96.6719C174.331 101.175 172.686 106.255 171.993 111.91L113.925 212.487C114.618 206.831 116.263 201.752 118.862 197.249L176.93 96.6719Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M317.266 188.413C314.853 192.589 311.757 196.64 307.978 200.566L249.91 301.143C253.689 297.216 256.785 293.166 259.198 288.99L317.266 188.413Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M464.198 304.708L435.375 254.789L377.307 355.366L406.13 405.285L464.198 304.708Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M353.209 254.787C366.68 242.548 376.618 232.22 383.023 223.805L324.955 324.382C318.55 332.797 308.612 343.124 295.141 355.364L353.209 254.787Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M435.37 254.787L353.212 254.784L295.144 355.361L377.302 355.364L435.37 254.787Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M183.921 154.947L248.521 154.95L190.453 255.527L125.853 255.524L183.921 154.947Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M171.992 111.914C170.668 124.537 174.643 138.881 183.92 154.947L125.852 255.524C116.575 239.458 112.599 225.114 113.924 212.491L171.992 111.914Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M307.987 200.562C301.251 207.256 291.203 216.244 277.842 227.528L219.774 328.105C233.135 316.821 243.183 307.832 249.919 301.139L307.987 200.562Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M15.5469 75.1797L44.5359 125.386L-13.5321 225.963L-42.5212 175.756L15.5469 75.1797Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M277.836 227.536C264.033 238.82 253.708 247.904 246.862 254.789L188.794 355.366C195.64 348.481 205.965 339.397 219.768 328.113L277.836 227.536Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M275.358 304.706L464.189 304.713L406.12 405.29L217.29 405.283L275.358 304.706Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M44.5279 125.39L67.3864 125.39L9.31834 225.967L-13.5401 225.966L44.5279 125.39Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M101.341 75.1911L233.863 304.705L175.795 405.282L43.2733 175.768L101.341 75.1911ZM15.5431 75.19L-42.525 175.767L43.277 175.77L101.345 75.1932L15.5431 75.19Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M246.866 254.784L246.534 254.784L188.466 355.361L188.798 355.361L246.866 254.784Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M246.539 254.781L275.362 304.701L217.294 405.277L188.471 355.358L246.539 254.781Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M67.3906 125.391L170.923 304.698L112.855 405.275L9.32257 225.967L67.3906 125.391Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                            <path d="M170.921 304.699L233.865 304.701L175.797 405.278L112.853 405.276L170.921 304.699Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="bevel"/>
                        </g>
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4" style="mix-blend-mode:hard-light">
                            <path d="M246.544 254.79L246.875 254.79C253.722 247.905 264.046 238.82 277.849 227.537C291.21 216.253 301.259 207.264 307.995 200.57C314.62 193.685 319.147 186.418 321.577 178.768C324.006 171.117 322.846 163.18 318.097 154.956C312.796 145.775 305.342 138.412 295.735 132.865C286.238 127.127 276.189 124.258 265.588 124.257C255.208 124.257 248.416 127.03 245.214 132.576C241.902 137.931 243.006 145.39 248.528 154.953L183.928 154.951C174.652 138.885 170.676 124.541 172 111.918C173.546 99.2946 179.84 89.5408 190.882 82.6559C202.035 75.5798 216.887 72.0421 235.439 72.0428C254.874 72.0435 274.144 75.5825 293.248 82.6598C312.242 89.5457 329.579 99.3005 345.261 111.924C360.942 124.548 373.421 138.892 382.697 154.958C391.311 169.877 395.121 182.978 394.128 194.262C393.355 205.546 389.656 215.396 383.031 223.811C376.627 232.226 366.688 242.554 353.217 254.794L435.375 254.797L464.198 304.716L275.367 304.709L246.544 254.79Z" fill="#4B0600"/>
                            <path d="M246.544 254.79L246.875 254.79C253.722 247.905 264.046 238.82 277.849 227.537C291.21 216.253 301.259 207.264 307.995 200.57C314.62 193.685 319.147 186.418 321.577 178.768C324.006 171.117 322.846 163.18 318.097 154.956C312.796 145.775 305.342 138.412 295.735 132.865C286.238 127.127 276.189 124.258 265.588 124.257C255.208 124.257 248.416 127.03 245.214 132.576C241.902 137.931 243.006 145.39 248.528 154.953L183.928 154.951C174.652 138.885 170.676 124.541 172 111.918C173.546 99.2946 179.84 89.5408 190.882 82.6559C202.035 75.5798 216.887 72.0421 235.439 72.0428C254.874 72.0435 274.144 75.5825 293.248 82.6598C312.242 89.5457 329.579 99.3005 345.261 111.924C360.942 124.548 373.421 138.892 382.697 154.958C391.311 169.877 395.121 182.978 394.128 194.262C393.355 205.546 389.656 215.396 383.031 223.811C376.627 232.226 366.688 242.554 353.217 254.794L435.375 254.797L464.198 304.716L275.367 304.709L246.544 254.79Z" stroke="#FF750F" stroke-width="1" stroke-linejoin="round"/>
                        </g>
                        <g class="transition-all delay-300 translate-y-0 opacity-100 duration-750 starting:opacity-0 starting:translate-y-4" style="mix-blend-mode:hard-light">
                            <path d="M67.41 125.402L44.5515 125.401L15.5625 75.1953L101.364 75.1985L233.886 304.712L170.942 304.71L67.41 125.402Z" fill="#4B0600"/>
                            <path d="M67.41 125.402L44.5515 125.401L15.5625 75.1953L101.364 75.1985L233.886 304.712L170.942 304.71L67.41 125.402Z" stroke="#FF750F" stroke-width="1"/>
                        </g>
                    </svg>
                    <div class="absolute inset-0 rounded-t-lg lg:rounded-t-none lg:rounded-r-lg shadow-[inset_0px_0px_0px_1px_rgba(26,26,0,0.16)] dark:shadow-[inset_0px_0px_0px_1px_#fffaed2d]"></div>
                </div>
            </main>
        </div>

        @if (Route::has('login'))
            <div class="h-14.5 hidden lg:block"></div>
        @endif
    </body>
</html>


--- FILE: ./resources/views/dashboard.blade.php ---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TinExpress Spectral</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600;700;800&family=Inter:wght@400;500&display=swap" rel="stylesheet">

    @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>
<body class="app-universe">
    <div id="app" class="h-full">
        <router-view></router-view>
    </div>
</body>
</html>

--- FILE: ./resources/js/app.js ---

import './bootstrap';
import '../css/app.css';
import { createApp } from 'vue';
import { createPinia } from 'pinia';
import router from './router';

const app = createApp({});
const pinia = createPinia();

// --- THEME INITIALIZATION ---
// Check localStorage or System Preference
const savedTheme = localStorage.getItem('theme');
const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

if (savedTheme === 'dark' || (!savedTheme && systemDark)) {
    document.documentElement.classList.add('dark');
} else {
    document.documentElement.classList.remove('dark');
}

app.use(pinia);
app.use(router);
app.mount('#app');

--- FILE: ./resources/js/components/Pages/ShipmentHistory.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
        
        <div class="relative w-full md:w-96">
            <input v-model="search" @input="fetchShipments" placeholder="Search Shipment ID, Shopify Order #, or Receiver..." class="input-field pl-10" />
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></span>
        </div>

        <div class="flex gap-3">
             <router-link to="/dashboard" class="btn-primary py-2 px-4 text-sm flex items-center gap-2">
                <span>+</span> New Shipment
             </router-link>
             <router-link to="/dashboard/integrations" class="px-4 py-2 border border-slate-200 rounded-lg text-sm font-bold hover:bg-slate-50 text-slate-600">
                 Integrations
             </router-link>
        </div>
    </div>

    <div class="bg-white rounded-xl border border-slate-200 shadow-card overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-bold border-b border-slate-200">
                <tr>
                    <th class="px-6 py-4">Reference</th> <th class="px-6 py-4">Route</th>
                    <th class="px-6 py-4">Courier</th>
                    <th class="px-6 py-4 text-center">Status</th>
                    <th class="px-6 py-4 text-right">Action</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr v-if="loading" class="animate-pulse">
                    <td colspan="5" class="px-6 py-8 text-center text-slate-400">Loading shipments...</td>
                </tr>
                <tr v-else-if="shipments.length === 0">
                    <td colspan="5" class="px-6 py-8 text-center text-slate-400">No shipments found.</td>
                </tr>
                
                <tr v-for="ship in shipments" :key="ship.id" class="hover:bg-slate-50 transition-colors group">
                    
                    <td class="px-6 py-4">
                        <div v-if="ship.source === 'shopify'" class="flex items-center gap-2">
                            <img src="https://cdn.icon-icons.com/icons2/2699/PNG/512/shopify_logo_icon_169840.png" class="h-5 w-5" title="Imported from Shopify">
                            <div>
                                <div class="font-bold text-slate-800 text-sm">Order {{ ship.external_order_number }}</div>
                                <div class="text-[10px] text-slate-400 font-mono">Ref: #{{ ship.id }}</div>
                            </div>
                        </div>
                        <div v-else>
                            <div class="font-mono text-xs text-primary font-bold">#{{ ship.id }}</div>
                            <div class="text-[10px] text-slate-400">Manual Booking</div>
                        </div>
                    </td>

                    <td class="px-6 py-4">
                        <div class="flex items-center gap-2 text-sm">
                            <span class="font-medium text-slate-700">{{ ship.sender_suburb }}</span>
                            <span class="text-slate-300"></span>
                            <span class="font-medium text-slate-700">{{ ship.receiver_suburb }}</span>
                        </div>
                        <div class="text-xs text-slate-500 truncate w-48">{{ ship.receiver_name }}</div>
                    </td>

                    <td class="px-6 py-4">
                         <div v-if="ship.courier_name" class="flex items-center gap-2">
                            <span class="text-lg"></span>
                            <span class="text-sm font-bold text-slate-700">{{ ship.courier_name }}</span>
                         </div>
                         <span v-else class="text-xs text-slate-400 italic">Not selected</span>
                    </td>

                    <td class="px-6 py-4 text-center">
                         <span class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide"
                              :class="{
                                  'bg-green-100 text-green-700': ship.status === 'booked',
                                  'bg-slate-100 text-slate-600': ship.status === 'draft',
                                  'bg-red-100 text-red-700': ship.status === 'cancelled'
                              }">
                            {{ ship.status }}
                        </span>
                    </td>

                    <td class="px-6 py-4 text-right">
                        <router-link :to="`/dashboard/shipments/${ship.id}`" class="text-blue-600 hover:text-blue-800 text-xs font-bold hover:underline">
                            {{ ship.status === 'draft' ? 'Review & Book' : 'View Details' }}
                        </router-link>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="flex justify-between items-center text-xs text-slate-500" v-if="shipments.length > 0">
        <span>Showing recent shipments</span>
        <div class="flex gap-2">
            <button @click="changePage(page - 1)" :disabled="page <= 1" class="px-3 py-1 border rounded hover:bg-slate-50 disabled:opacity-50">Previous</button>
            <button @click="changePage(page + 1)" class="px-3 py-1 border rounded hover:bg-slate-50">Next</button>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, onMounted, watch } from 'vue';
import axios from 'axios';

const shipments = ref([]);
const loading = ref(false);
const search = ref('');
const page = ref(1);

const fetchShipments = async () => {
    loading.value = true;
    try {
        const res = await axios.get('/api/v1/shipments', {
            params: { search: search.value, page: page.value }
        });
        shipments.value = res.data.data;
    } catch(e) {
        console.error(e);
    } finally {
        loading.value = false;
    }
};

const changePage = (newPage) => {
    if(newPage < 1) return;
    page.value = newPage;
    fetchShipments();
};

// Debounce search
let timeout = null;
watch(search, () => {
    clearTimeout(timeout);
    timeout = setTimeout(() => {
        page.value = 1;
        fetchShipments();
    }, 300);
});

onMounted(fetchShipments);
</script>

--- FILE: ./resources/js/components/Pages/IntegrationsIndex.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex justify-between items-center bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
        <div>
            <h1 class="text-2xl font-bold text-slate-800">Store Integrations</h1>
            <p class="text-slate-500 text-sm">Connect your stores to import orders automatically.</p>
        </div>
        
        <button @click="showSetup = true" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-blue-700 transition">
            + Connect New Store
        </button>
    </div>

    <div v-if="successParam" class="bg-green-100 text-green-700 px-4 py-3 rounded-lg text-sm font-bold flex items-center gap-2">
          Store Connected Successfully!
    </div>

    <div v-if="loading" class="text-center py-12 text-slate-400">Loading integrations...</div>
    
    <div v-else-if="integrations.length === 0" class="text-center py-12 bg-white rounded-xl border border-slate-200 border-dashed">
        <p class="text-slate-500 font-medium">No stores connected yet.</p>
        <button @click="showSetup = true" class="text-blue-600 font-bold text-sm mt-2 hover:underline">Connect your first store</button>
    </div>

    <div v-else class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div v-for="conn in integrations" :key="conn.id" class="bg-white rounded-xl shadow-card border border-slate-200 p-6 flex flex-col relative group">
            
            <div class="flex items-start justify-between mb-4">
                <div class="h-12 w-12 bg-slate-50 rounded-lg p-2 border border-slate-100">
                    <img v-if="conn.platform === 'shopify'" src="https://cdn.icon-icons.com/icons2/2699/PNG/512/shopify_logo_icon_169840.png" class="w-full h-full object-contain">
                    <span v-else class="text-xs">{{ conn.platform }}</span>
                </div>
                <div class="flex flex-col items-end">
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium" :class="conn.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'">
                        {{ conn.is_active ? 'Active' : 'Inactive' }}
                    </span>
                </div>
            </div>
            
            <h3 class="font-bold text-slate-800 truncate" :title="conn.store_url">{{ conn.store_url }}</h3>
            <p class="text-xs text-slate-400 mb-4">Added {{ new Date(conn.created_at).toLocaleDateString() }}</p>

            <div class="mt-auto space-y-3 pt-4 border-t border-slate-50">
                 <div class="text-[10px] text-slate-400 flex justify-between">
                    <span>Last synced:</span>
                    <span>{{ timeAgo(conn.last_synced_at) }}</span>
                 </div>
                 
                 <div class="flex gap-2">
                     <button @click="syncOrders(conn.id)" :disabled="syncingId === conn.id" class="flex-1 bg-slate-800 text-white text-xs font-bold py-2 rounded hover:bg-slate-700 transition flex justify-center items-center gap-2">
                         <span v-if="syncingId === conn.id" class="animate-spin"></span>
                         {{ syncingId === conn.id ? 'Syncing...' : 'Sync Orders' }}
                     </button>
                     
                     <button @click="disconnect(conn.id)" class="px-3 py-2 border border-red-200 text-red-600 rounded hover:bg-red-50 transition" title="Disconnect">
                        
                     </button>
                 </div>
            </div>
        </div>
    </div>

    <Teleport to="body">
        <div v-if="showSetup" class="fixed inset-0 bg-black/50 z-[999] flex items-center justify-center backdrop-blur-sm">
            <div class="bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden m-4">
                <div class="px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                    <h3 class="font-bold text-slate-800">Connect Shopify</h3>
                    <button @click="showSetup = false" class="text-slate-400 hover:text-slate-600"></button>
                </div>
                
                <div class="p-6 space-y-4">
                    <p class="text-sm text-slate-600">
                        Enter your Shopify store URL below. We will redirect you to Shopify to approve the connection.
                    </p>

                    <form @submit.prevent="initiateOAuth" class="space-y-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Store URL</label>
                            <div class="flex">
                                <span class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-slate-300 bg-slate-50 text-slate-500 text-sm">
                                    https://
                                </span>
                                <input 
                                    v-model="newStoreUrl" 
                                    placeholder="my-store.myshopify.com" 
                                    class="w-full border border-slate-300 rounded-r-md p-2 focus:ring-2 focus:ring-blue-500 outline-none" 
                                    required 
                                />
                            </div>
                        </div>
                        
                        <div class="flex justify-end gap-3 pt-4 border-t border-slate-50 mt-4">
                            <button type="button" @click="showSetup = false" class="text-slate-500 hover:text-slate-700 text-sm font-bold">Cancel</button>
                            <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-bold text-sm flex items-center gap-2" :disabled="connecting">
                                <span v-if="connecting"></span>
                                {{ connecting ? 'Redirecting...' : 'Connect to Shopify' }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </Teleport>

  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import axios from 'axios';
import { useRoute, useRouter } from 'vue-router';

const route = useRoute();
const router = useRouter();

const showSetup = ref(false);
const connecting = ref(false);
const loading = ref(true);
const syncingId = ref(null); // Track which specific card is syncing
const integrations = ref([]);
const newStoreUrl = ref('');
const successParam = ref(false);

// Fetch all integrations
const fetchIntegrations = async () => {
    loading.value = true;
    try {
        const res = await axios.get('/api/v1/integrations');
        integrations.value = res.data;
    } catch(e) {
        console.error("Failed to load integrations", e);
    } finally {
        loading.value = false;
    }
};

// 1. START OAUTH FLOW
const initiateOAuth = async () => {
    connecting.value = true;
    try {
        const res = await axios.post('/api/v1/shopify/install', { 
            shop: newStoreUrl.value 
        });
        window.location.href = res.data.url;
    } catch (e) {
        alert(e.response?.data?.message || "Connection failed. Check the URL.");
        connecting.value = false;
    }
};

// 2. TRIGGER SYNC
const syncOrders = async (id) => {
    syncingId.value = id;
    try {
        const res = await axios.post(`/api/v1/integrations/${id}/sync`);
        alert(res.data.message || 'Orders Synced Successfully');
        // Refresh list to show new "Last Synced" time
        await fetchIntegrations(); 
    } catch (e) {
        alert("Sync failed: " + (e.response?.data?.message || "Unknown error"));
    } finally {
        syncingId.value = null;
    }
};

// 3. DISCONNECT
const disconnect = async (id) => {
    if(!confirm("Are you sure you want to disconnect this store? This will stop order syncing.")) return;
    
    try {
        await axios.delete(`/api/v1/integrations/${id}`);
        integrations.value = integrations.value.filter(i => i.id !== id);
    } catch (e) {
        alert("Disconnect failed: " + (e.response?.data?.message || "Unknown error"));
    }
};

// Helper: Time Format
const timeAgo = (date) => {
    if(!date) return 'Never';
    return new Date(date).toLocaleString();
}

onMounted(() => {
    fetchIntegrations();

    if (route.query.success) {
        successParam.value = true;
        router.replace({ query: null });
        setTimeout(() => successParam.value = false, 5000); // Hide after 5s
    }
});
</script>

--- FILE: ./resources/js/components/Pages/SupportIndex.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200">
        <div>
            <h1 class="text-xl font-bold text-slate-800">Support Center</h1>
            <p class="text-sm text-slate-500">Track and manage your help requests.</p>
        </div>
        <button @click="openCreateModal" class="btn-primary py-2 px-4 text-sm flex items-center gap-2">
            <span>+</span> Raise Ticket
        </button>
    </div>

    <div class="bg-white rounded-xl shadow-card overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-slate-50 text-xs uppercase font-bold text-slate-500">
                <tr>
                    <th class="px-6 py-4">ID</th>
                    <th class="px-6 py-4">Subject</th>
                    <th class="px-6 py-4">Related To</th>
                    <th class="px-6 py-4 text-center">Priority</th>
                    <th class="px-6 py-4 text-center">Status</th>
                    <th class="px-6 py-4 text-right">Updated</th>
                    <th class="px-6 py-4"></th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr v-if="tickets.length === 0">
                    <td colspan="7" class="px-6 py-8 text-center text-slate-400">No tickets found.</td>
                </tr>
                <tr v-for="ticket in tickets" :key="ticket.id" class="hover:bg-slate-50 transition-colors group cursor-pointer" @click="viewTicket(ticket.id)">
                    <td class="px-6 py-4 font-mono text-xs text-slate-400">#{{ ticket.id }}</td>
                    <td class="px-6 py-4">
                        <div class="font-bold text-slate-800">{{ ticket.subject }}</div>
                        <div class="text-xs text-slate-500 truncate w-64">{{ ticket.last_message?.message || 'No messages yet' }}</div>
                    </td>
                    <td class="px-6 py-4 text-sm text-primary font-mono">
                        <span v-if="ticket.shipment_id">Shipment #{{ ticket.shipment_id }}</span>
                        <span v-else class="text-slate-400">-</span>
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span class="px-2 py-1 rounded text-xs font-bold uppercase tracking-wide"
                            :class="{
                                'text-red-600 bg-red-50': ticket.priority === 'critical',
                                'text-orange-600 bg-orange-50': ticket.priority === 'high',
                                'text-blue-600 bg-blue-50': ticket.priority === 'medium',
                                'text-slate-600 bg-slate-100': ticket.priority === 'low'
                            }">
                            {{ ticket.priority }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span class="px-2 py-1 rounded-full text-xs font-bold capitalize"
                             :class="{
                                 'bg-green-100 text-green-700': ticket.status === 'resolved',
                                 'bg-amber-100 text-amber-700': ticket.status === 'in_progress',
                                 'bg-slate-100 text-slate-600': ticket.status === 'open',
                                 'bg-slate-200 text-slate-800': ticket.status === 'closed'
                             }">
                            {{ ticket.status.replace('_', ' ') }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right text-xs text-slate-500">
                        {{ new Date(ticket.updated_at).toLocaleDateString() }}
                    </td>
                    <td class="px-6 py-4 text-right text-slate-300 group-hover:text-primary">
                        
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <Teleport to="body">
        <div v-if="showModal" class="fixed inset-0 bg-black/50 z-[999] flex items-center justify-center backdrop-blur-sm">
            <div class="bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl m-4">
                <h3 class="font-bold text-lg mb-4 text-slate-800">Raise New Ticket</h3>
                <form @submit.prevent="createTicket" class="space-y-4">
                    <input v-model="form.subject" placeholder="Subject (e.g. Issue with delivery)" class="input-field" required />
                    
                    <div class="grid grid-cols-2 gap-4">
                        <select v-model="form.priority" class="input-field">
                            <option value="low">Low Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="high">High Priority</option>
                            <option value="critical">Critical</option>
                        </select>
                        <input v-model="form.shipment_id" placeholder="Shipment ID (Optional)" class="input-field" type="number" />
                    </div>

                    <textarea v-model="form.message" rows="4" placeholder="Describe your issue..." class="input-field" required></textarea>
                    
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Attachment</label>
                        <input type="file" @change="handleFile" class="text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"/>
                    </div>

                    <div class="flex justify-end gap-3 pt-4">
                        <button type="button" @click="showModal = false" class="text-slate-500 hover:text-slate-700">Cancel</button>
                        <button class="btn-primary" :disabled="submitting">
                            {{ submitting ? 'Submitting...' : 'Submit Ticket' }}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </Teleport>

  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import { useRouter, useRoute } from 'vue-router'; // Add useRoute to grab query params
import axios from 'axios';

const tickets = ref([]);
const showModal = ref(false);
const submitting = ref(false);
const router = useRouter();
const route = useRoute(); // Access current route
const form = reactive({ subject: '', priority: 'medium', message: '', shipment_id: '', file: null });

const fetchTickets = async () => {
    try {
        const res = await axios.get('/api/v1/support');
        tickets.value = res.data.data;
    } catch(e) {}
};

const handleFile = (e) => {
    form.file = e.target.files[0];
};

const openCreateModal = () => {
    showModal.value = true;
};

const createTicket = async () => {
    submitting.value = true;
    const data = new FormData();
    data.append('subject', form.subject);
    data.append('priority', form.priority);
    data.append('message', form.message);
    
    // Only append if it has a value (Empty string "" causes validation error on backend)
    if(form.shipment_id) {
        data.append('shipment_id', form.shipment_id);
    }
    
    if(form.file) {
        data.append('file', form.file);
    }

    try {
        await axios.post('/api/v1/support', data);
        showModal.value = false;
        fetchTickets();
        
        // Reset Form
        form.subject = ''; 
        form.message = ''; 
        form.file = null; 
        form.shipment_id = '';
        
        alert("Ticket Created Successfully!");

    } catch(e) { 
        console.error(e);
        // FIX: Display the actual validation error
        if (e.response && e.response.status === 422) {
            const errors = e.response.data.errors;
            // Join all error messages into a readable string
            const errorMsg = Object.values(errors).flat().join('\n');
            alert("Validation Error:\n" + errorMsg);
        } else {
            alert("Failed to create ticket. Please try again.");
        }
    }
    finally { submitting.value = false; }
};

const viewTicket = (id) => {
    const prefix = localStorage.getItem('user_role') === 'super_admin' ? '/admin' : '/dashboard';
    router.push(`${prefix}/support/${id}`);
};

// Auto-open modal if triggered from Shipment Page
onMounted(() => {
    fetchTickets();
    if (route.query.create_ticket_for) {
        form.shipment_id = route.query.create_ticket_for;
        form.subject = `Issue with Shipment #${route.query.create_ticket_for}`;
        showModal.value = true;
    }
});
</script>

--- FILE: ./resources/js/components/Pages/ShipmentDetails.vue ---

<template>
  <div v-if="loading" class="p-12 text-center text-text-muted">Loading details...</div>
  
  <div v-else-if="errorMessage" class="p-12 text-center text-red-500">
    {{ errorMessage }}
    <div class="mt-4">
        <router-link to="/dashboard/shipments" class="text-blue-600 underline">Back to List</router-link>
    </div>
  </div>

  <div v-else-if="shipment" class="space-y-8 animate-fade-in-up">
    
    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
      <div class="flex items-center gap-4">
        <router-link to="/dashboard/shipments" class="p-2 rounded-full hover:bg-slate-100 text-slate-500 transition-colors">
           Back
        </router-link>
        <div>
           <div class="flex items-center gap-3">
               <h1 class="text-2xl font-bold text-text-main">Shipment #{{ shipment.id }}</h1>
               <span class="px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide"
                  :class="{
                      'bg-gray-100 text-gray-600': shipment.status === 'draft',
                      'bg-green-100 text-green-700': shipment.status === 'booked',
                      'bg-red-100 text-red-700': shipment.status === 'cancelled',
                  }">
                  {{ shipment.status }}
                </span>
           </div>
           <p class="text-sm text-text-muted mt-1">Created on {{ new Date(shipment.created_at).toLocaleDateString() }}</p>
        </div>
      </div>
      
      <div class="flex flex-wrap items-center gap-3 justify-end">
          
          <button @click="raiseTicket" class="flex items-center gap-2 px-4 py-2 bg-red-50 text-red-700 border border-red-100 text-sm font-bold rounded-lg hover:bg-red-100 transition-colors">
              <span></span> Report Issue
          </button>

          <a v-if="getTrackingLink(shipment)" 
             :href="getTrackingLink(shipment)" 
             target="_blank" 
             class="flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 border border-blue-100 text-sm font-bold rounded-lg hover:bg-blue-100 transition-colors">
             <span></span> Track
          </a>
          <span v-else class="px-4 py-2 bg-gray-100 text-gray-400 text-sm rounded-lg cursor-not-allowed border border-gray-200" title="No Tracking Link Available">
              Track (N/A)
          </span>

          <button 
             v-if="shipment.label_url" 
             @click="downloadLabel(shipment.label_url, shipment.tracking_number)" 
             :disabled="downloading"
             class="flex items-center gap-2 px-4 py-2 bg-slate-800 text-white border border-slate-800 text-sm font-bold rounded-lg hover:bg-slate-700 transition-colors disabled:opacity-75 disabled:cursor-wait">
             <span v-if="downloading" class="animate-spin"></span>
             <span v-else></span> 
             {{ downloading ? 'Downloading...' : 'Download Label' }}
          </button>
          
          <div v-else-if="shipment.status === 'booked'" class="flex items-center gap-2">
              <span class="px-4 py-2 bg-amber-50 text-amber-600 text-sm font-medium rounded-lg cursor-wait border border-amber-100 flex items-center gap-2">
                 <span class="animate-pulse"></span> Generating Label...
              </span>
              <button 
                @click="fetchShipment" 
                :disabled="loading"
                class="text-sm text-blue-600 hover:text-blue-800 underline decoration-dotted underline-offset-4"
              >
                Refresh
              </button>
          </div>

      </div>
    </div>

    <div v-if="false" class="bg-black text-green-400 p-4 rounded-lg font-mono text-xs overflow-auto max-h-40">
        <strong>DEBUG DATA:</strong>
        <pre>Status: {{ shipment.status }}</pre>
        <pre>Courier: {{ shipment.courier_name }}</pre>
        <pre>Tracking #: {{ shipment.tracking_number }}</pre>
        <pre>Label URL: {{ shipment.label_url || 'NULL' }}</pre>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
       <div class="bg-surface rounded-xl shadow-sm border border-slate-100 p-6 relative overflow-hidden group">
          <div class="absolute top-0 left-0 w-1 h-full bg-blue-500"></div>
          <h3 class="text-xs font-bold text-blue-600 uppercase tracking-wider mb-4 flex items-center gap-2">
              <span></span> Sender Details
          </h3>
          <div class="text-lg font-bold text-text-main">{{ shipment.sender_name }}</div>
          <div class="text-slate-600 mt-1">{{ shipment.sender_address }}</div>
          <div class="text-slate-600 font-medium">
            {{ shipment.sender_suburb }}, {{ shipment.sender_state }} {{ shipment.sender_postcode }}
          </div>
          <div class="mt-2 text-xs text-slate-400">{{ shipment.sender_contact || 'No contact provided' }}</div>
       </div>

       <div class="bg-surface rounded-xl shadow-sm border border-slate-100 p-6 relative overflow-hidden group">
          <div class="absolute top-0 left-0 w-1 h-full bg-purple-500"></div>
          <h3 class="text-xs font-bold text-purple-600 uppercase tracking-wider mb-4 flex items-center gap-2">
              <span></span> Receiver Details
          </h3>
          <div class="text-lg font-bold text-text-main">{{ shipment.receiver_name }}</div>
          <div class="text-slate-600 mt-1">{{ shipment.receiver_address }}</div>
          <div class="text-slate-600 font-medium">
            {{ shipment.receiver_suburb }}, {{ shipment.receiver_state }} {{ shipment.receiver_postcode }}
          </div>
          <div class="mt-2 text-xs text-slate-400">{{ shipment.receiver_contact || 'No contact provided' }}</div>
       </div>
    </div>

    <div class="bg-surface rounded-xl shadow-sm border border-slate-100 overflow-hidden">
       <div class="px-6 py-4 bg-slate-50 border-b border-slate-100 font-bold text-text-main flex items-center gap-2">
         <span></span> Packaged Items
       </div>
       <table class="w-full text-left">
         <thead class="text-xs text-text-muted uppercase bg-white border-b border-slate-100">
           <tr>
                <th class="px-6 py-3 font-semibold">Qty</th>
                <th class="px-6 py-3 font-semibold">Type</th>
                <th class="px-6 py-3 font-semibold">Dimensions (LxWxH)</th>
                <th class="px-6 py-3 font-semibold">Weight</th>
            </tr>
         </thead>
         <tbody class="divide-y divide-slate-100">
            <tr v-for="item in shipment.items" :key="item.id">
                <td class="px-6 py-3 text-text-main font-mono">{{ item.quantity }}</td>
                <td class="px-6 py-3 capitalize text-text-main">{{ item.type }}</td>
                <td class="px-6 py-3 text-text-muted">{{ item.length }}x{{ item.width }}x{{ item.height }} cm</td>
                <td class="px-6 py-3 text-text-muted">{{ item.weight }} kg</td>
            </tr>
         </tbody>
       </table>
    </div>

    <div class="space-y-4">
        <h2 class="text-xl font-bold text-text-main">
            {{ shipment.status === 'booked' ? 'Selected Service' : 'Select a Rate' }}
        </h2>
        
        <div v-if="shipment.quotes && shipment.quotes.length > 0" class="grid gap-4">
            <div v-for="quote in shipment.quotes" :key="quote.id" 
                 class="bg-surface rounded-xl p-4 border border-slate-200 shadow-sm flex flex-col md:flex-row items-center justify-between transition-all duration-300"
                 :class="{
                     'border-green-500 bg-green-50/30 ring-1 ring-green-500': shipment.status === 'booked' && quote.courier_name === shipment.courier_name && quote.service_name === shipment.service_name,
                     'opacity-60 grayscale': shipment.status === 'booked' && (quote.courier_name !== shipment.courier_name || quote.service_name !== shipment.service_name)
                 }"
            >
               <div class="flex items-center gap-4 mb-4 md:mb-0 w-full md:w-auto">
                    <div class="h-12 w-12 bg-slate-100 rounded-lg flex items-center justify-center text-xl shadow-inner">
                        
                    </div>
                    <div>
                        <div class="font-bold text-text-main text-lg">{{ quote.courier_name }}</div>
                        <div class="text-sm text-text-muted">{{ quote.service_name }}</div>
                        <div class="text-xs text-green-600 font-bold mt-1 bg-green-50 inline-block px-2 py-0.5 rounded">ETA: {{ quote.eta }}</div>
                    </div>
                </div>

                <div class="flex items-center gap-6 w-full md:w-auto justify-between md:justify-end">
                    <div class="text-right">
                       <div class="text-xl font-bold text-text-main">${{ (quote.price_cents / 100).toFixed(2) }}</div>
                        <div class="text-xs text-slate-400">ex GST</div>
                    </div>
                    
                    <button 
                        v-if="shipment.status === 'draft'"
                        @click="bookShipment(quote)"
                        class="btn-primary py-2 px-6 text-sm shadow-lg shadow-blue-500/20 hover:-translate-y-0.5 transition-transform"
                    >
                      Book Now
                    </button>
                    
                    <div v-if="shipment.status === 'booked' && quote.courier_name === shipment.courier_name && quote.service_name === shipment.service_name" 
                        class="px-4 py-2 bg-green-100 text-green-700 font-bold rounded-lg text-sm flex items-center gap-2">
                        <span></span> Confirmed
                    </div>
                </div>
            </div>
        </div>
        
        <div v-else class="p-12 text-center bg-slate-50 rounded-xl border border-dashed border-slate-300">
            <div class="text-4xl mb-4"></div>
            <p class="text-text-muted font-medium">No quotes were saved for this shipment.</p>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { useRoute, useRouter } from 'vue-router'; // Added useRouter
import axios from 'axios';

const route = useRoute();
const router = useRouter(); // Initialize router
const shipment = ref(null);
const loading = ref(true);
const downloading = ref(false);
const errorMessage = ref(null);

const fetchShipment = async () => {
    try {
        const id = route.params.id;
        const response = await axios.get(`/api/v1/shipments/${id}`);
        shipment.value = response.data;
    } catch (error) {
        console.error(error);
        errorMessage.value = "Unable to load shipment details.";
    } finally {
        loading.value = false;
    }
};

// --- SUPPORT TICKET INTEGRATION ---
const raiseTicket = () => {
    // Redirect to Support Page with the shipment ID in the URL
    router.push(`/dashboard/support?create_ticket_for=${shipment.value.id}`);
};

// --- SECURE FILE DOWNLOAD ---
const downloadLabel = async (url, filename) => {
    downloading.value = true;
    try {
        const response = await axios.get(url, { responseType: 'blob' });
        const blob = new Blob([response.data], { type: 'application/pdf' });
        const link = document.createElement('a');
        link.href = window.URL.createObjectURL(blob);
        link.download = `Label-${filename || 'shipment'}.pdf`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        window.URL.revokeObjectURL(link.href);
    } catch (error) {
        console.error("Download failed", error);
        alert("Failed to download label. Please try again.");
    } finally {
        downloading.value = false;
    }
};

const getTrackingLink = (shipment) => {
    if (!shipment.tracking_number) return null;

    const courier = shipment.courier_name ? shipment.courier_name.toLowerCase() : '';

    if (courier.includes('hunter')) {
        return `https://www.hunterexpress.com.au/home/tracking?connote=${shipment.tracking_number}`;
    }
    
    if (courier.includes('couriers please') || courier.includes('cp')) {
        return `https://www.couriersplease.com.au/tools-track/no/${shipment.tracking_number}`;
    }

    if (courier.includes('tnt')) {
        return `https://www.tnt.com/express/en_au/site/shipping-tools/tracking.html?searchType=con&cons=${shipment.tracking_number}`;
    }

    return null;
};

const bookShipment = async (quote) => {
    if (!confirm(`Are you sure you want to book via ${quote.courier_name} for $${(quote.price_cents / 100).toFixed(2)}?`)) {
        return;
    }

    loading.value = true;
    try {
        await axios.post(`/api/v1/shipments/${shipment.value.id}/book`, {
            quote_id: quote.id
        });
        await fetchShipment();
        alert("Booking Successful! Tracking number generated.");
    } catch (error) {
        console.error(error);
        alert("Failed to book shipment.");
        loading.value = false;
    }
};

onMounted(() => {
    fetchShipment();
});
</script>

--- FILE: ./resources/js/components/Pages/TeamSettings.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
      <div>
        <h1 class="text-2xl font-bold text-text-main">Team Management</h1>
        <p class="text-text-muted">Manage access for your company employees.</p>
      </div>
      <button @click="showModal = true" class="btn-primary flex items-center gap-2">
        <span>+</span> Add Team Member
      </button>
    </div>

    <div class="bg-surface rounded-xl shadow-lg border border-slate-100 overflow-hidden">
      <table class="w-full text-left border-collapse">
        <thead class="bg-slate-50 text-xs uppercase text-text-muted font-semibold border-b border-slate-100">
          <tr>
            <th class="px-6 py-4">Name</th>
            <th class="px-6 py-4">Email</th>
            <th class="px-6 py-4">Role</th>
            <th class="px-6 py-4">Joined</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-slate-100">
          <tr v-for="user in users" :key="user.id" class="hover:bg-slate-50 transition-colors">
            <td class="px-6 py-4 font-medium text-text-main">
              {{ user.first_name }} {{ user.last_name }}
            </td>
            <td class="px-6 py-4 text-text-muted">{{ user.email }}</td>
            <td class="px-6 py-4">
              <span class="px-2.5 py-1 rounded-full text-xs font-medium"
                :class="user.role === 'company_admin' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'">
                {{ user.role === 'company_admin' ? 'Admin' : 'User' }}
              </span>
            </td>
            <td class="px-6 py-4 text-sm text-text-muted">
              {{ new Date(user.created_at).toLocaleDateString() }}
            </td>
          </tr>
        </tbody>
      </table>
      
      <div v-if="users.length === 0 && !loading" class="p-12 text-center text-text-muted">
        No team members found.
      </div>
    </div>

    <div v-if="showModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
      <div class="bg-white rounded-xl shadow-2xl w-full max-w-md p-6 m-4 animate-fade-in-up">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-lg font-bold text-text-main">Add New User</h3>
            <button @click="showModal = false" class="text-slate-400 hover:text-slate-600"></button>
        </div>
        
        <form @submit.prevent="addUser" class="space-y-4">
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="text-sm font-medium text-text-main">First Name</label>
                    <input v-model="form.first_name" type="text" required class="input-field mt-1">
                </div>
                <div>
                    <label class="text-sm font-medium text-text-main">Last Name</label>
                    <input v-model="form.last_name" type="text" required class="input-field mt-1">
                </div>
            </div>
            
            <div>
                <label class="text-sm font-medium text-text-main">Email Address</label>
                <input v-model="form.email" type="email" required class="input-field mt-1">
            </div>

            <div>
                <label class="text-sm font-medium text-text-main">Password</label>
                <input v-model="form.password" type="password" required class="input-field mt-1">
            </div>

            <div class="pt-2 flex gap-3">
                <button type="button" @click="showModal = false" class="flex-1 py-2.5 border border-slate-300 rounded-lg text-slate-700 font-medium hover:bg-slate-50">Cancel</button>
                <button type="submit" :disabled="submitting" class="flex-1 btn-primary">
                    {{ submitting ? 'Saving...' : 'Create Account' }}
                </button>
            </div>
        </form>
      </div>
    </div>

  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import axios from 'axios';

const users = ref([]);
const loading = ref(true);
const showModal = ref(false);
const submitting = ref(false);

const form = reactive({
    first_name: '',
    last_name: '',
    email: '',
    password: ''
});

const fetchUsers = async () => {
    try {
        const response = await axios.get('/api/v1/team');
        users.value = response.data.data;
    } catch (error) {
        console.error("Failed to load team.");
    } finally {
        loading.value = false;
    }
};

const addUser = async () => {
    submitting.value = true;
    try {
        await axios.post('/api/v1/team', form);
        showModal.value = false;
        // Reset form
        form.first_name = ''; form.last_name = ''; form.email = ''; form.password = '';
        // Refresh list
        await fetchUsers();
    } catch (error) {
        alert("Failed to add user. Email might be taken.");
    } finally {
        submitting.value = false;
    }
};

onMounted(() => {
    fetchUsers();
});
</script>

--- FILE: ./resources/js/components/Pages/Register.vue ---

<template>
  <div class="min-h-screen flex items-center justify-center bg-slate-50 px-4 py-12 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl border border-slate-100">
      
      <div class="text-center">
        <div class="h-12 w-12 bg-primary text-white rounded-xl flex items-center justify-center text-xl font-bold mx-auto mb-4">
          TE
        </div>
        <h2 class="text-2xl font-bold text-slate-900">Start Shipping Smarter</h2>
        <p class="mt-2 text-sm text-slate-500">
          Create your enterprise account in seconds.
        </p>
      </div>

      <div class="flex items-center justify-center gap-2 mb-6">
        <div class="h-2 w-12 rounded-full transition-colors duration-300" :class="step === 1 ? 'bg-primary' : 'bg-slate-200'"></div>
        <div class="h-2 w-12 rounded-full transition-colors duration-300" :class="step === 2 ? 'bg-primary' : 'bg-slate-200'"></div>
      </div>

      <form @submit.prevent="handleSubmit" class="space-y-6">
        
        <div v-show="step === 1" class="space-y-5 animate-fade-in-up">
          <h3 class="text-lg font-semibold text-slate-800">Company Information</h3>
          
          <div class="relative">
            <BaseInput 
              v-model="form.abn" 
              label="Australian Business Number (ABN)" 
              placeholder="e.g. 12345678901" 
              :error="errors.abn"
              @blur="verifyAbn"
            />
            <div v-if="abnLoading" class="absolute right-3 top-[2.2rem]">
                <svg class="animate-spin h-5 w-5 text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
            </div>
            <div v-else-if="companyDetails" class="absolute right-3 top-[2.2rem] text-green-500" title="ABN Verified">
                
            </div>
          </div>

          <div v-if="companyDetails" class="p-3 bg-blue-50 border border-blue-100 rounded-lg text-sm text-blue-700 flex flex-col gap-1">
             <span class="font-bold">{{ companyDetails.entity_name }}</span>
             <span class="text-xs opacity-75">Status: {{ companyDetails.status }} | Loc: {{ companyDetails.postcode }}</span>
          </div>

          <BaseButton type="button" class="w-full" @click="nextStep" :disabled="!companyDetails">
            Continue
          </BaseButton>
        </div>

        <div v-show="step === 2" class="space-y-5 animate-fade-in-up">
          <h3 class="text-lg font-semibold text-slate-800">Your Details</h3>
          
          <div class="grid grid-cols-2 gap-4">
            <BaseInput v-model="form.first_name" label="First Name" placeholder="Jane" :error="errors.first_name" />
            <BaseInput v-model="form.last_name" label="Last Name" placeholder="Doe" :error="errors.last_name" />
          </div>

          <BaseInput v-model="form.email" type="email" label="Work Email" placeholder="jane@company.com" :error="errors.email" />
          <BaseInput v-model="form.password" type="password" label="Password" placeholder="" :error="errors.password" />
          <BaseInput v-model="form.password_confirmation" type="password" label="Confirm Password" placeholder="" />

          <div class="flex gap-3">
            <BaseButton type="button" variant="secondary" class="flex-1" @click="step = 1">Back</BaseButton>
            <BaseButton type="submit" class="flex-1" :loading="loading">Create Account</BaseButton>
          </div>
        </div>

      </form>

      <div class="text-center mt-4">
        <p class="text-sm text-slate-500">
          Already have an account? 
          <router-link to="/login" class="font-medium text-primary hover:text-primary-hover hover:underline">Sign in</router-link>
        </p>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue';
import { useRouter } from 'vue-router';
import axios from 'axios';
import BaseInput from '../UI/BaseInput.vue';
import BaseButton from '../UI/BaseButton.vue';

const router = useRouter();
const step = ref(1);
const loading = ref(false);
const abnLoading = ref(false);
const companyDetails = ref(null);
const errors = ref({});

const form = reactive({
  abn: '',
  first_name: '',
  last_name: '',
  email: '',
  password: '',
  password_confirmation: ''
});

const verifyAbn = async () => {
    // 1. FIX: Clean the ABN (remove spaces) to handle formatted inputs
    const cleanAbn = form.abn.replace(/\s+/g, '');

    // 2. FIX: Check length on the CLEANED value
    if (cleanAbn.length !== 11) return;

    abnLoading.value = true;
    errors.value.abn = null;
    companyDetails.value = null;

    try {
        // 3. Send the CLEAN ABN to the backend
        const response = await axios.get(`/api/v1/abn-lookup/${cleanAbn}`);
        companyDetails.value = response.data.data;
    } catch (e) {
        // Handle 422 or 404 errors from backend
        errors.value.abn = e.response?.data?.message || "Invalid or inactive ABN.";
    } finally {
        abnLoading.value = false;
    }
};

const nextStep = () => {
    if (companyDetails.value) step.value = 2;
};

const handleSubmit = async () => {
    loading.value = true;
    errors.value = {};
    
    try {
        await axios.get('/sanctum/csrf-cookie');
        const response = await axios.post('/api/v1/register', {
            ...form,
            company_name: companyDetails.value.entity_name // Pass derived name
        });
        
        localStorage.setItem('auth_token', response.data.access_token);
        router.push('/dashboard');
    } catch (e) {
        if (e.response && e.response.status === 422) {
            errors.value = e.response.data.errors;
            // Go back if error is related to step 1
            if (errors.value.abn) step.value = 1;
        } else {
            alert("Registration failed. Please try again.");
        }
    } finally {
        loading.value = false;
    }
};
</script>

--- FILE: ./resources/js/components/Pages/SupportShow.vue ---

<template>
  <div class="h-[calc(100vh-8rem)] flex flex-col bg-white rounded-xl shadow-card overflow-hidden animate-fade-in-up" v-if="ticket">
    
    <div class="px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50">
        <div>
            <div class="flex items-center gap-3">
                <button @click="$router.back()" class="text-slate-400 hover:text-slate-600"> Back</button>
                <h1 class="font-bold text-slate-800">#{{ ticket.id }}: {{ ticket.subject }}</h1>
                <span class="px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-slate-200 text-slate-600">{{ ticket.status }}</span>
            </div>
            <div class="text-xs text-slate-500 mt-1 pl-12" v-if="ticket.shipment">
                Ref: Shipment #{{ ticket.shipment.id }}  {{ ticket.shipment.sender_suburb }}  {{ ticket.shipment.receiver_suburb }}
            </div>
        </div>

        <div v-if="isAdmin" class="flex items-center gap-2">
            <select @change="updateStatus($event)" :value="ticket.status" class="input-field py-1 text-xs w-32">
                <option value="open">Open</option>
                <option value="in_progress">In Progress</option>
                <option value="resolved">Resolved</option>
                <option value="closed">Closed</option>
            </select>
        </div>
    </div>

    <div class="flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50/50" ref="messagesContainer">
        <div v-for="msg in ticket.messages" :key="msg.id" class="flex gap-4" :class="{ 'flex-row-reverse': isMe(msg.user_id) }">
            
            <div class="h-8 w-8 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0"
                :class="isMe(msg.user_id) ? 'bg-primary text-white' : 'bg-slate-200 text-slate-600'">
                {{ msg.user.first_name[0] }}
            </div>

            <div class="max-w-[80%]">
                <div class="p-4 rounded-2xl shadow-sm text-sm"
                    :class="isMe(msg.user_id) ? 'bg-primary text-white rounded-tr-none' : 'bg-white border border-slate-100 text-slate-700 rounded-tl-none'">
                    
                    <p class="whitespace-pre-wrap">{{ msg.message }}</p>

                    <div v-if="msg.attachment_path" class="mt-3 pt-3 border-t border-white/20">
                        <a :href="msg.attachment_url" target="_blank" class="flex items-center gap-2 hover:underline opacity-90">
                             {{ msg.attachment_name }}
                        </a>
                    </div>
                </div>
                <div class="text-[10px] text-slate-400 mt-1 px-1" :class="{ 'text-right': isMe(msg.user_id) }">
                    {{ new Date(msg.created_at).toLocaleString() }}  {{ msg.user.first_name }}
                </div>
            </div>
        </div>
    </div>

    <div class="p-4 bg-white border-t border-slate-100">
        <form @submit.prevent="sendReply" class="flex gap-4 items-end">
            <div class="flex-1 relative">
                <textarea v-model="replyText" rows="2" placeholder="Type a reply..." class="input-field pr-10 resize-none" @keydown.enter.exact.prevent="sendReply"></textarea>
                <label class="absolute right-3 bottom-3 cursor-pointer text-slate-400 hover:text-primary">
                    <input type="file" class="hidden" @change="handleFile">
                    
                </label>
            </div>
            <button class="btn-primary h-10 px-6 flex items-center gap-2" :disabled="sending">
                <span v-if="sending">...</span>
                <span v-else>Send</span>
            </button>
        </form>
        <div v-if="file" class="mt-2 text-xs text-primary flex items-center gap-2">
            File: {{ file.name }} <button @click="file = null" class="text-red-500"></button>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, onMounted, nextTick } from 'vue';
import { useRoute } from 'vue-router';
import axios from 'axios';

const route = useRoute();
const ticket = ref(null);
const replyText = ref('');
const file = ref(null);
const sending = ref(false);
const messagesContainer = ref(null);
const currentUser = ref(null); // Need to know who I am

const isAdmin = localStorage.getItem('user_role') === 'super_admin';

const fetchTicket = async () => {
    // Determine current user ID if not known
    if (!currentUser.value) {
        const u = await axios.get('/api/v1/user');
        currentUser.value = u.data.id;
    }

    const res = await axios.get(`/api/v1/support/${route.params.id}`);
    ticket.value = res.data;
    scrollToBottom();
};

const scrollToBottom = async () => {
    await nextTick();
    if(messagesContainer.value) messagesContainer.value.scrollTop = messagesContainer.value.scrollHeight;
};

const isMe = (userId) => userId === currentUser.value;

const handleFile = (e) => { file.value = e.target.files[0]; };

const sendReply = async () => {
    if(!replyText.value.trim() && !file.value) return;
    sending.value = true;
    
    const data = new FormData();
    data.append('message', replyText.value);
    if(file.value) data.append('file', file.value);

    try {
        await axios.post(`/api/v1/support/${route.params.id}/reply`, data);
        replyText.value = '';
        file.value = null;
        fetchTicket(); // Refresh chat
    } catch(e) { alert("Failed to send."); }
    finally { sending.value = false; }
};

const updateStatus = async (e) => {
    const newStatus = e.target.value;
    await axios.post(`/api/v1/support/${route.params.id}/status`, { status: newStatus });
    ticket.value.status = newStatus;
};

onMounted(fetchTicket);
</script>

--- FILE: ./resources/js/components/Pages/CompanySettings.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex justify-between items-center">
        <div>
            <h1 class="text-2xl font-bold text-text-main">Company Profile</h1>
            <p class="text-text-muted">Manage your business details and billing information.</p>
        </div>
        <BaseButton :loading="saving" @click="saveSettings">Save Changes</BaseButton>
    </div>

    <div v-if="loading" class="p-12 text-center text-text-muted">Loading profile...</div>

    <div v-else class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <div class="lg:col-span-2 space-y-6">
            <div class="bg-surface rounded-xl shadow-sm border border-slate-100 p-6 space-y-6">
                <h3 class="text-lg font-bold text-text-main border-b border-slate-100 pb-3">Identity</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <BaseInput v-model="form.entity_name" label="Legal Entity Name" disabled />
                    <BaseInput v-model="form.abn" label="ABN" disabled />
                </div>
                
                <BaseInput v-model="form.trading_name" label="Trading Name (Optional)" placeholder="e.g. FastFreight" />
            </div>

            <div class="bg-surface rounded-xl shadow-sm border border-slate-100 p-6 space-y-6">
                <h3 class="text-lg font-bold text-text-main border-b border-slate-100 pb-3">Address & Contact</h3>
                
                <BaseInput v-model="form.address_line_1" label="Street Address" />
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <BaseInput v-model="form.suburb" label="Suburb" />
                    <BaseInput v-model="form.state" label="State" />
                    <BaseInput v-model="form.postcode" label="Postcode" />
                </div>

                <BaseInput v-model="form.billing_email" type="email" label="Billing Email" />
            </div>
        </div>

        <div class="space-y-6">
            <div class="bg-surface rounded-xl shadow-sm border border-slate-100 p-6">
                <h3 class="text-sm font-bold text-text-muted uppercase tracking-wider mb-4">Account Status</h3>
                
                <div class="flex items-center gap-3 mb-4">
                    <div class="h-3 w-3 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]"></div>
                    <span class="font-medium text-slate-900">Active</span>
                </div>

                <div class="space-y-3 pt-4 border-t border-slate-100">
                    <div class="flex justify-between text-sm">
                        <span class="text-slate-500">Wallet Balance</span>
                        <span class="font-bold font-mono">${{ Number(form.wallet_balance || 0).toFixed(2) }}</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-slate-500">Currency</span>
                        <span class="font-bold">AUD</span>
                    </div>
                </div>
            </div>
        </div>

    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, reactive } from 'vue';
import axios from 'axios';
import BaseInput from '../UI/BaseInput.vue';
import BaseButton from '../UI/BaseButton.vue';

const loading = ref(true);
const saving = ref(false);
const form = reactive({});

const fetchCompany = async () => {
    try {
        const response = await axios.get('/api/v1/company');
        Object.assign(form, response.data.data);
    } catch (error) {
        console.error("Failed to load company", error);
    } finally {
        loading.value = false;
    }
};

const saveSettings = async () => {
    saving.value = true;
    try {
        await axios.put('/api/v1/company', form);
        alert("Settings saved successfully.");
    } catch (error) {
        alert("Failed to save settings.");
    } finally {
        saving.value = false;
    }
};

onMounted(fetchCompany);
</script>

--- FILE: ./resources/js/components/Pages/PublicHome.vue ---

<template>
  <div class="min-h-screen bg-surface flex flex-col font-sans">
    
    <nav class="w-full py-6 px-8 flex justify-between items-center max-w-7xl mx-auto">
      <div class="flex items-center gap-2">
        <div class="h-8 w-8 bg-primary rounded-lg flex items-center justify-center text-white font-bold">T</div>
        <span class="text-xl font-bold tracking-tight text-primary">TIN EXPRESS</span>
      </div>
      <div class="flex items-center gap-6">
        <router-link to="/login" class="text-sm font-semibold text-text-muted hover:text-primary transition-colors">Sign In</router-link>
        <router-link to="/register" class="bg-primary text-white px-5 py-2.5 rounded-full text-sm font-medium hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200">
          Start Shipping
        </router-link>
      </div>
    </nav>

    <main class="flex-1 flex flex-col items-center justify-center text-center px-4 relative overflow-hidden">
      <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-full max-w-7xl pointer-events-none opacity-40 z-0">
          <div class="absolute top-20 left-20 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
          <div class="absolute top-20 right-20 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
      </div>

      <div class="relative z-10 max-w-4xl mx-auto">
        <div class="inline-flex items-center px-3 py-1 rounded-full border border-blue-100 bg-blue-50 text-blue-600 text-xs font-semibold uppercase tracking-wide mb-6">
           New: Multi-Carrier API V1
        </div>
        
        <h1 class="text-6xl md:text-7xl font-extrabold text-primary mb-8 tracking-tight leading-tight">
          Logistics for the <br />
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-accent to-purple-600">Modern Era</span>
        </h1>
        
        <p class="text-xl text-text-muted max-w-2xl mx-auto mb-10 leading-relaxed">
          Access enterprise shipping rates from Australia's top couriers. 
          Instant quotes, seamless booking, and real-time tracking in one API-first platform.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <router-link to="/register" class="bg-primary text-white px-8 py-4 rounded-xl text-lg font-semibold shadow-xl shadow-primary/20 hover:bg-primary-hover hover:scale-105 transition-all duration-200">
            Get Started for Free
          </router-link>
          <button class="px-8 py-4 rounded-xl text-lg font-semibold text-primary bg-white border border-slate-200 hover:bg-slate-50 transition-all duration-200">
            View API Docs
          </button>
        </div>

        <div class="mt-16 pt-8 border-t border-slate-100">
            <p class="text-sm text-slate-400 font-medium mb-4">POWERING LOGISTICS FOR</p>
            <div class="flex justify-center gap-8 opacity-50 grayscale">
                <span class="font-bold text-xl">ACME Corp</span>
                <span class="font-bold text-xl">Logistix</span>
                <span class="font-bold text-xl">ShipFast</span>
                <span class="font-bold text-xl">GlobalTrade</span>
            </div>
        </div>
      </div>
    </main>
  </div>
</template>

<style>
/* Simple CSS Animation for the background blobs */
@keyframes blob {
  0% { transform: translate(0px, 0px) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0px, 0px) scale(1); }
}
.animate-blob {
  animation: blob 7s infinite;
}
.animation-delay-2000 {
  animation-delay: 2s;
}
</style>

--- FILE: ./resources/js/components/Pages/Login.vue ---

<template>
  <div class="min-h-screen flex bg-surface">
    
    <div class="hidden lg:block relative w-0 flex-1 bg-primary">
      <img 
        class="absolute inset-0 h-full w-full object-cover opacity-80" 
        src="https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" 
        alt="Logistics Background"
      >
      <div class="absolute inset-0 bg-gradient-to-t from-primary via-transparent to-transparent"></div>
      <div class="absolute bottom-0 left-0 p-12 text-white">
        <h2 class="text-4xl font-bold tracking-tight mb-4">Ship smarter, not harder.</h2>
        <p class="text-lg text-slate-300">
          "Tin Express has completely transformed how we manage our freight."
        </p>
      </div>
    </div>

    <div class="flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:flex-none lg:px-20 xl:px-24 bg-surface">
      <div class="mx-auto w-full max-w-sm lg:w-96">
        
        <div>
          <h2 class="mt-6 text-3xl font-extrabold text-text-main">Welcome back</h2>
          <p class="mt-2 text-sm text-text-muted">
            Or 
            <router-link to="/register" class="font-medium text-accent hover:text-accent-hover">
              start your 14-day free trial
            </router-link>
          </p>
        </div>

        <div class="mt-8">
          <div class="mt-6">
            <form @submit.prevent="handleLogin" class="space-y-6">
              
              <div>
                <label for="email" class="block text-sm font-medium text-text-main">Email address</label>
                <div class="mt-1">
                  <input v-model="form.email" id="email" type="email" required 
                    class="appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-accent focus:border-accent sm:text-sm">
                </div>
              </div>

              <div>
                <label for="password" class="block text-sm font-medium text-text-main">Password</label>
                <div class="mt-1">
                  <input v-model="form.password" id="password" type="password" required 
                    class="appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-accent focus:border-accent sm:text-sm">
                </div>
              </div>

              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <input id="remember-me" type="checkbox" class="h-4 w-4 text-accent focus:ring-accent border-slate-300 rounded">
                  <label for="remember-me" class="ml-2 block text-sm text-text-main">Remember me</label>
                </div>
                <div class="text-sm">
                  <a href="#" class="font-medium text-accent hover:text-accent-hover">Forgot password?</a>
                </div>
              </div>

              <div>
                <button type="submit" :disabled="loading" 
                  class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50 transition-colors">
                  <span v-if="loading">Signing in...</span>
                  <span v-else>Sign in</span>
                </button>
              </div>

              <div v-if="errorMessage" class="rounded-md bg-red-50 p-4">
                 <div class="flex">
                    <div class="text-sm text-red-700">{{ errorMessage }}</div>
                 </div>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { reactive, ref } from 'vue';
import axios from 'axios';
import { useRouter } from 'vue-router';

const router = useRouter();
const loading = ref(false);
const errorMessage = ref('');
const form = reactive({ email: '', password: '' });

const handleLogin = async () => {
    loading.value = true;
    errorMessage.value = '';
    try {
        await axios.get('/sanctum/csrf-cookie');
        const response = await axios.post('/api/v1/login', form);
        
        // 1. Store Token
        localStorage.setItem('auth_token', response.data.access_token);
        
        // 2. Store User Details (For Header display)
        const user = response.data.user;
        localStorage.setItem('user_name', `${user.first_name} ${user.last_name}`);
        localStorage.setItem('user_role', user.role);
        
        // 3. Conditional Redirect based on Role
        if (user.role === 'super_admin') {
            router.push('/admin'); // Go to Admin Panel
        } else {
            router.push('/dashboard'); // Go to User Dashboard
        }

    } catch (error) {
        errorMessage.value = error.response?.data?.message || 'Invalid credentials or system error.';
    } finally {
        loading.value = false;
    }
};
</script>

--- FILE: ./resources/js/components/Rates/RateCalculator.vue ---

<template>
  <div class="space-y-8 animate-fade-in-up">
    
    <div class="bg-surface rounded-xl shadow-lg border border-slate-100 overflow-hidden">
      <div class="px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center">
        <h2 class="text-lg font-bold text-text-main">Shipment Details</h2>
        <span class="text-xs font-medium px-2 py-1 bg-blue-100 text-blue-700 rounded-full">New Quote</span>
      </div>
      
      <div class="p-6 grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="space-y-4">
           <div class="flex items-center gap-2 text-sm font-semibold text-text-muted uppercase tracking-wide">
            <span class="text-accent"></span> From (Sender)
          </div>
          <div class="space-y-3">
            <input v-model="form.sender_name" type="text" placeholder="Sender Name" class="input-field">
            <input v-model="form.sender_address" type="text" placeholder="Street Address" class="input-field">
            <div class="grid grid-cols-12 gap-2">
              <input v-model="form.sender_suburb" type="text" placeholder="Suburb" class="col-span-6 input-field">
              <input v-model="form.sender_postcode" type="text" placeholder="Postcode" class="col-span-3 input-field">
              <input v-model="form.sender_state" type="text" placeholder="State" class="col-span-3 input-field">
            </div>
          </div>
        </div>

        <div class="space-y-4">
           <div class="flex items-center gap-2 text-sm font-semibold text-text-muted uppercase tracking-wide">
            <span class="text-accent"></span> To (Receiver)
          </div>
          <div class="space-y-3">
            <input v-model="form.receiver_name" type="text" placeholder="Receiver Name" class="input-field">
            <input v-model="form.receiver_address" type="text" placeholder="Street Address" class="input-field">
            <div class="grid grid-cols-12 gap-2">
              <input v-model="form.receiver_suburb" type="text" placeholder="Suburb" class="col-span-6 input-field">
              <input v-model="form.receiver_postcode" type="text" placeholder="Postcode" class="col-span-3 input-field">
              <input v-model="form.receiver_state" type="text" placeholder="State" class="col-span-3 input-field">
            </div>
          </div>
        </div>
      </div>

      <div class="bg-slate-50 p-6 border-t border-slate-100">
        <h3 class="text-sm font-semibold text-text-muted uppercase mb-4">Items & Dimensions</h3>
        <div v-for="(item, index) in form.items" :key="index" class="flex flex-wrap md:flex-nowrap gap-3 mb-3 items-end">
          <div class="w-20">
            <label class="text-xs text-slate-400 font-medium ml-1">Qty</label>
            <input v-model="item.quantity" type="number" class="input-field text-center">
          </div>
          <div class="w-32">
            <label class="text-xs text-slate-400 font-medium ml-1">Type</label>
            <select v-model="item.type" class="input-field bg-white">
              <option value="box">Box</option>
              <option value="satchel">Satchel</option>
              <option value="pallet">Pallet</option>
            </select>
          </div>
          <div class="flex-1 grid grid-cols-4 gap-3">
             <div><label class="text-xs text-slate-400 ml-1">L (cm)</label><input v-model="item.length" class="input-field"></div>
             <div><label class="text-xs text-slate-400 ml-1">W (cm)</label><input v-model="item.width" class="input-field"></div>
             <div><label class="text-xs text-slate-400 ml-1">H (cm)</label><input v-model="item.height" class="input-field"></div>
             <div><label class="text-xs text-slate-400 ml-1">Kg</label><input v-model="item.weight" class="input-field"></div>
          </div>
          <button @click="removeItem(index)" class="mb-[2px] p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors" v-if="form.items.length > 1">
            
          </button>
        </div>
        <button @click="addItem" class="mt-2 text-sm font-medium text-accent hover:text-accent-hover flex items-center gap-1 transition-colors">
          <span>+</span> Add Another Item
        </button>
      </div>

      <div class="px-6 py-4 bg-white border-t border-slate-100 flex justify-end">
        <button 
          @click="getRates" 
          :disabled="loading"
          class="btn-primary flex items-center gap-2 shadow-lg shadow-accent/20"
        >
          <span v-if="loading" class="animate-spin"></span>
          <span v-else></span>
          <span>{{ loading ? 'Checking Couriers...' : 'Find Best Rates' }}</span>
        </button>
      </div>
    </div>

    <div v-if="rates.length > 0 && !bookingResult" class="bg-surface rounded-xl shadow-lg border border-slate-100 overflow-hidden animate-fade-in-up">
      <div class="px-6 py-4 border-b border-slate-100 flex justify-between items-center">
        <h3 class="font-bold text-text-main">Available Quotes</h3>
        <span class="text-sm text-text-muted">{{ rates.length }} couriers found</span>
      </div>
      <table class="w-full text-left border-collapse">
        <thead>
          <tr class="bg-slate-50 text-xs uppercase tracking-wider text-text-muted font-semibold border-b border-slate-100">
            <th class="px-6 py-4">Courier</th>
            <th class="px-6 py-4">Service</th>
            <th class="px-6 py-4">Est. Delivery</th>
            <th class="px-6 py-4 text-right">Total Price</th>
            <th class="px-6 py-4"></th>
          </tr>
        </thead>
        <tbody class="divide-y divide-slate-100">
          <tr v-for="rate in rates" :key="rate.id" class="hover:bg-slate-50 transition-colors group">
            <td class="px-6 py-4">
               <div class="font-bold text-text-main">{{ rate.courier_name }}</div>
            </td>
            <td class="px-6 py-4">
               <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                 {{ rate.service_name }}
               </span>
            </td>
            <td class="px-6 py-4 text-sm text-text-muted">{{ rate.eta }}</td>
            <td class="px-6 py-4 text-right">
              <div class="font-bold text-lg text-text-main">${{ (rate.price_cents / 100).toFixed(2) }}</div>
              <div class="text-xs text-slate-400">ex GST</div>
            </td>
            <td class="px-6 py-4 text-right">
              <button 
                @click="bookQuote(rate)" 
                class="px-4 py-2 rounded-md bg-white border border-slate-300 text-sm font-medium text-slate-700 hover:bg-slate-50 hover:border-accent hover:text-accent transition-all shadow-sm"
              >
                Book Now
               </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div v-if="bookingResult" class="bg-green-50 rounded-xl shadow-lg border border-green-200 overflow-hidden animate-fade-in-up p-6">
      <div class="flex items-start justify-between">
        <div class="flex items-center">
          <div class="flex-shrink-0">
             <i class="fas fa-check-circle text-green-500 text-2xl mr-4"></i>
          </div>
          <div>
            <h3 class="text-lg font-bold text-green-900">Booking Confirmed!</h3>
            <div class="mt-1 text-sm text-green-800">
              <p>Courier: <span class="font-semibold">{{ bookingResult.courier_name }}</span></p>
              <p>Tracking #: <span class="font-mono font-bold bg-green-100 px-2 py-0.5 rounded">{{ bookingResult.tracking_number }}</span></p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-6 flex flex-wrap items-center gap-3">
        
        <button 
          v-if="bookingResult.label_url" 
          @click="downloadLabel(bookingResult.label_url, bookingResult.tracking_number)" 
          :disabled="downloading"
          class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none transition-colors disabled:opacity-75 disabled:cursor-wait"
        >
          <span v-if="downloading" class="mr-2 animate-spin"></span>
          <span v-else class="mr-2"></span> 
          {{ downloading ? 'Downloading...' : 'Download Label' }}
        </button>

        <div v-else class="flex items-center gap-3">
          <button 
            disabled 
            class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-gray-100 cursor-wait shadow-sm"
          >
            <svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            Generating Label...
          </button>
          
          <button 
            @click="refreshShipmentStatus" 
            class="text-blue-600 hover:text-blue-800 text-sm font-medium underline decoration-dotted underline-offset-2 transition-colors"
          >
            Check Status
          </button>
        </div>

        <button 
          @click="resetSearch" 
          class="ml-auto px-4 py-2 rounded-md bg-white border border-slate-300 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-50 transition-colors"
        >
          Start New Quote
        </button>
      </div>
       
      <div class="mt-4 pt-4 border-t border-green-200/50 text-xs font-mono text-green-800/70">
        <p><strong>DEBUG DATA:</strong></p>
        <p>Status: {{ bookingResult.status }}</p>
        <p>Courier: {{ bookingResult.courier_name }}</p>
        <p>Tracking #: {{ bookingResult.tracking_number || '[Empty]' }}</p>
        <p>Label URL: {{ bookingResult.label_url || 'NULL (Processing in Background)' }}</p>
      </div>
    </div>

  </div>
</template>

<script setup>
import { ref, reactive } from 'vue';
import axios from 'axios';
import { useRouter } from 'vue-router';

const router = useRouter();
const loading = ref(false);
const downloading = ref(false); // Track download state
const rates = ref([]);
const currentShipmentId = ref(null);
const errorMessage = ref(null);
const bookingResult = ref(null);

// Pre-filled for demo
const form = reactive({
    sender_name: 'Warehouse A',
    sender_address: '456 Fake St',
    sender_suburb: 'ALEXANDRIA',
    sender_postcode: '2015',
    sender_state: 'NSW',
    receiver_name: 'John Doe',
    receiver_address: '123 Fake St',
    receiver_suburb: 'PARRAMATTA',
    receiver_postcode: '2150',
    receiver_state: 'NSW',
    items: [{ type: 'box', quantity: 1, length: 20, width: 20, height: 20, weight: 5 }]
});

const addItem = () => form.items.push({ type: 'box', quantity: 1, length: '', width: '', height: '', weight: '' });
const removeItem = (i) => form.items.splice(i, 1);

const getRates = async () => {
    loading.value = true;
    rates.value = [];
    currentShipmentId.value = null;
    errorMessage.value = null;
    bookingResult.value = null; 

    try {
        const response = await axios.post('/api/v1/rates', form);
        rates.value = response.data.rates;
        currentShipmentId.value = response.data.shipment_id;
    } catch (e) {
        console.error(e);
        errorMessage.value = "Failed to fetch rates.";
        alert("Failed to fetch rates. check console.");
    } finally {
        loading.value = false;
    }
};

// --- FIX: Secure File Download Function ---
const downloadLabel = async (url, filename) => {
    downloading.value = true;
    try {
        // Request the file as a 'blob' (binary data)
        const response = await axios.get(url, { responseType: 'blob' });
        
        // Create a temporary URL for the blob
        const blob = new Blob([response.data], { type: 'application/pdf' });
        const link = document.createElement('a');
        link.href = window.URL.createObjectURL(blob);
        link.download = `Label-${filename || 'shipment'}.pdf`;
        
        // Trigger download
        document.body.appendChild(link);
        link.click();
        
        // Cleanup
        document.body.removeChild(link);
        window.URL.revokeObjectURL(link.href);
    } catch (error) {
        console.error("Download failed", error);
        alert("Failed to download label. Please try again.");
    } finally {
        downloading.value = false;
    }
};

const bookQuote = async (quote) => {
    if (!currentShipmentId.value) {
        alert("Error: Shipment ID not found. Please calculate rates again.");
        return;
    }
    
    if(!confirm(`Confirm booking with ${quote.courier_name} for $${(quote.price_cents/100).toFixed(2)}?`)) {
        return;
    }

    try {
        loading.value = true;
        
        const response = await axios.post(`/api/v1/shipments/${currentShipmentId.value}/book`, {
            quote_id: quote.id
        });
        
        bookingResult.value = response.data.shipment;
        rates.value = []; 
        
    } catch (e) {
        console.error(e);
        alert("Booking failed: " + (e.response?.data?.message || "Unknown error"));
    } finally {
        loading.value = false;
    }
};

const refreshShipmentStatus = async () => {
    if (!bookingResult.value || !bookingResult.value.id) return;

    const originalText = document.activeElement.innerText;
    if(document.activeElement) document.activeElement.innerText = "Checking...";
    
    try {
        const response = await axios.get(`/api/v1/shipments/${bookingResult.value.id}`);
        bookingResult.value = response.data;
    } catch (error) {
        console.error("Failed to refresh status", error);
        alert("Could not refresh status.");
    } finally {
        if(document.activeElement) document.activeElement.innerText = originalText;
    }
};

const resetSearch = () => {
    rates.value = [];
    bookingResult.value = null;
    currentShipmentId.value = null;
};
</script>

--- FILE: ./resources/js/components/Layout/DashboardLayout.vue ---

<template>
    <div class="horizon-shell flex flex-col min-h-screen">
        
        <TopHeader @toggle-mobile="isMobileOpen = true" />

        <Sidebar :is-open="isMobileOpen" @close="isMobileOpen = false" />

        <main class="flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-in fade-in duration-500">
            <router-view v-slot="{ Component }">
                <transition name="fade" mode="out-in">
                    <component :is="Component" />
                </transition>
            </router-view>
        </main>

    </div>
</template>

<script setup>
import { ref } from 'vue';
import TopHeader from './TopHeader.vue';
import Sidebar from './Sidebar.vue';

const isMobileOpen = ref(false);
</script>

<style>
.fade-enter-active, .fade-leave-active { transition: opacity 0.2s ease; }
.fade-enter-from, .fade-leave-to { opacity: 0; }
</style>

--- FILE: ./resources/js/components/Layout/TopHeader.vue ---

<template>
    <header class="h-nav-container">
        <div class="h-nav-wrapper">
            
            <div class="h-top-bar">
                <div class="flex items-center gap-4">
                    <button @click="$emit('toggle-mobile')" class="md:hidden text-[var(--text-main)] text-xl">
                        
                    </button>

                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-[var(--brand-primary)] rounded-lg flex items-center justify-center text-white font-bold shadow-lg">TE</div>
                        <span class="text-xl font-bold tracking-tight text-[var(--text-main)] hidden sm:block">TinExpress</span>
                    </div>
                </div>

                <div class="flex items-center gap-5">
                    <button @click="toggleTheme" class="theme-toggle">
                        <span v-if="isDark"></span>
                        <span v-else></span>
                    </button>
                    
                    <div class="h-6 w-px bg-[var(--border-color)]"></div>

                    <div class="flex items-center gap-3">
                        <div class="text-right hidden md:block">
                            <div class="text-sm font-bold text-[var(--text-main)]">{{ authStore.fullName }}</div>
                            <div class="text-[10px] uppercase font-bold text-[var(--text-muted)]">{{ authStore.companyName }}</div>
                        </div>
                        <div class="h-9 w-9 rounded-full bg-[var(--bg-body)] border border-[var(--border-color)] flex items-center justify-center text-[var(--text-main)] font-bold text-xs">
                            {{ authStore.userInitials }}
                        </div>
                    </div>
                </div>
            </div>

            <div class="h-bottom-bar hidden md:flex">
                
                <template v-for="(group, index) in menuItems" :key="index">
                    <div v-if="index > 0" class="w-px h-4 bg-[var(--border-color)] mx-2"></div>
                    
                    <div class="flex items-center gap-6">
                        <router-link 
                            v-for="item in group.items" 
                            :key="item.path" 
                            :to="item.path"
                            class="h-link"
                            active-class="h-link-active"
                        >
                            {{ item.name }}
                        </router-link>
                    </div>
                </template>

            </div>

        </div>
    </header>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue';
import { useAuthStore } from '../../stores/auth';
import { navigationMenu, adminMenu } from '../../config/navigation';

const authStore = useAuthStore();
const isDark = ref(false);

const toggleTheme = () => {
    isDark.value = !isDark.value;
    if (isDark.value) {
        document.documentElement.classList.add('dark');
        localStorage.setItem('theme', 'dark');
    } else {
        document.documentElement.classList.remove('dark');
        localStorage.setItem('theme', 'light');
    }
};

// Merge menus properly based on role
const menuItems = computed(() => {
    if (!authStore.isSuperAdmin) return navigationMenu;
    
    // Filter out "Management" for SuperAdmin to avoid clutter if needed
    // But since user requested FULL navigation, we merge intelligently
    const userItems = navigationMenu.filter(g => g.category !== 'Management'); 
    return [...adminMenu, ...userItems];
});

onMounted(() => {
    authStore.fetchUser();
    isDark.value = document.documentElement.classList.contains('dark');
});
</script>

--- FILE: ./resources/js/components/Layout/Sidebar.vue ---

<template>
    <div v-if="isOpen" class="fixed inset-0 bg-black/50 z-50 md:hidden" @click="$emit('close')"></div>

    <aside 
        class="fixed inset-y-0 left-0 w-72 bg-[var(--bg-card)] border-r border-[var(--border-color)] z-50 transform transition-transform duration-300 md:hidden flex flex-col"
        :class="isOpen ? 'translate-x-0' : '-translate-x-full'"
    >
        <div class="h-16 flex items-center px-6 border-b border-[var(--border-color)]">
            <span class="text-xl font-bold text-[var(--text-main)]">Menu</span>
            <button @click="$emit('close')" class="ml-auto text-2xl text-[var(--text-muted)]"></button>
        </div>

        <nav class="flex-1 overflow-y-auto p-6 space-y-8">
            <div v-for="(group, index) in menuItems" :key="index">
                <h3 class="text-xs font-bold uppercase tracking-wider text-[var(--text-muted)] mb-3">
                    {{ group.category }}
                </h3>
                <div class="space-y-1">
                    <router-link 
                        v-for="item in group.items" 
                        :key="item.path" 
                        :to="item.path"
                        class="block px-3 py-2 text-sm font-medium rounded-lg text-[var(--text-body)] hover:bg-[var(--bg-body)] hover:text-[var(--text-main)]"
                        active-class="bg-[var(--bg-body)] text-[var(--brand-primary)] font-bold"
                        @click="$emit('close')"
                    >
                        {{ item.name }}
                    </router-link>
                </div>
            </div>
        </nav>

        <div class="p-6 border-t border-[var(--border-color)]">
            <button @click="authStore.logout" class="w-full py-2 text-sm text-red-500 font-medium border border-red-200 rounded-lg hover:bg-red-50 dark:border-red-900 dark:hover:bg-red-900/20">
                Sign Out
            </button>
        </div>
    </aside>
</template>

<script setup>
import { computed } from 'vue';
import { useAuthStore } from '../../stores/auth';
import { navigationMenu, adminMenu } from '../../config/navigation';

defineProps({ isOpen: Boolean });
const authStore = useAuthStore();

const menuItems = computed(() => {
    return authStore.isSuperAdmin ? [...adminMenu, ...navigationMenu] : navigationMenu;
});
</script>

--- FILE: ./resources/js/components/Admin/AdminCompanies.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
        <div class="relative w-96">
            <input v-model="search" @input="fetchCompanies" placeholder="Search companies..." class="input-field pl-10" />
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></span>
        </div>
        <div class="text-sm text-slate-500">
            Total: <strong>{{ pagination.total || 0 }}</strong>
        </div>
    </div>

    <div class="bg-white rounded-xl border border-slate-200 shadow-card overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-bold border-b border-slate-200">
                <tr>
                    <th class="px-6 py-4">Company</th>
                    <th class="px-6 py-4">Stats</th>
                    <th class="px-6 py-4">Wallet</th>
                    <th class="px-6 py-4 text-center">Status</th>
                    <th class="px-6 py-4 text-right">Actions</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr v-if="companies.length === 0">
                    <td colspan="5" class="px-6 py-8 text-center text-slate-500">No companies found.</td>
                </tr>

                <tr v-for="company in companies" :key="company.id" class="hover:bg-slate-50 transition-colors">
                    <td class="px-6 py-4">
                        <div class="font-bold text-slate-800">{{ company.entity_name }}</div>
                        <div class="text-xs text-slate-500">{{ company.billing_email }}</div>
                        <div class="text-[10px] font-mono text-slate-400 mt-0.5">{{ company.abn }}</div>
                    </td>
                    <td class="px-6 py-4 text-sm text-slate-600">
                        <div> {{ company.users_count }} Users</div>
                        <div> {{ company.shipments_count }} Shipments</div>
                    </td>
                    <td class="px-6 py-4 font-mono font-bold text-slate-700">
                        ${{ parseFloat(company.wallet_balance || 0).toFixed(2) }}
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span class="px-2 py-1 rounded-full text-xs font-bold" 
                              :class="company.abn_status === 'Active' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'">
                            {{ company.abn_status }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <div class="flex justify-end gap-2">
                             <button @click="openShipmentsModal(company)" title="View Shipments" class="p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors">
                                
                             </button>
                             <button @click="openEditModal(company)" title="Edit Details" class="p-2 text-slate-400 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-colors">
                                
                             </button>
                             <button @click="openTopUpModal(company)" title="Top Up Wallet" class="p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors">
                                
                             </button>
                             <button @click="openUsersModal(company)" title="Manage Users" class="p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors">
    
</button>
                             <button @click="toggleStatus(company)" :title="company.abn_status === 'Active' ? 'Suspend' : 'Activate'" 
                                     class="p-2 text-slate-400 rounded-lg transition-colors"
                                     :class="company.abn_status === 'Active' ? 'hover:text-red-600 hover:bg-red-50' : 'hover:text-green-600 hover:bg-green-50'">
                                
                             </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div v-if="editModal.show" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white p-6 rounded-2xl w-full max-w-lg shadow-2xl">
            <h3 class="text-lg font-bold mb-4 text-slate-800">Edit Company</h3>
            <div class="space-y-4">
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Entity Name</label>
                    <input v-model="editModal.form.entity_name" class="input-field" />
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Billing Email</label>
                    <input v-model="editModal.form.billing_email" class="input-field" />
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">ABN</label>
                    <input v-model="editModal.form.abn" class="input-field" />
                </div>
            </div>
            <div class="mt-6 flex justify-end gap-3">
                <button @click="editModal.show = false" class="text-slate-500 hover:text-slate-700 font-medium">Cancel</button>
                <button @click="saveCompany" class="btn-primary">Save Changes</button>
            </div>
        </div>
    </div>

    <div v-if="topUpModal.show" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white p-6 rounded-2xl w-full max-w-sm shadow-2xl">
            <h3 class="text-lg font-bold mb-2 text-slate-800">Add Funds</h3>
            <p class="text-sm text-slate-500 mb-4">Adding to <strong>{{ topUpModal.company?.entity_name }}</strong></p>
            <input v-model="topUpModal.amount" type="number" class="input-field mb-6 text-xl font-mono text-center" placeholder="0.00" autofocus />
            <div class="flex justify-end gap-3">
                <button @click="topUpModal.show = false" class="text-slate-500 hover:text-slate-700 font-medium">Cancel</button>
                <button @click="processTopUp" class="btn-primary bg-green-600 hover:bg-green-700">Confirm Payment</button>
            </div>
        </div>
    </div>

    <div v-if="usersModal.show" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-2xl w-full max-w-3xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh]">
            <div class="px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h3 class="font-bold text-slate-800">Users: {{ usersModal.company?.entity_name }}</h3>
                <button @click="usersModal.show = false" class="text-slate-400 hover:text-slate-600"></button>
            </div>
            
            <div class="p-6 border-b border-slate-100 bg-slate-50/50">
                <h4 class="text-xs font-bold text-slate-500 uppercase mb-3">Add New User</h4>
                <div class="grid grid-cols-2 md:grid-cols-5 gap-3">
                    <input v-model="newUser.first_name" placeholder="First Name" class="input-field" />
                    <input v-model="newUser.last_name" placeholder="Last Name" class="input-field" />
                    <input v-model="newUser.email" placeholder="Email" class="input-field" />
                    <input v-model="newUser.password" type="password" placeholder="Password" class="input-field" />
                    <button @click="addUser" class="btn-primary py-2 text-xs">Add User</button>
                </div>
            </div>

            <div class="flex-1 overflow-auto p-0">
                <table class="w-full text-left">
                    <thead class="bg-white text-xs uppercase text-slate-500 font-bold border-b border-slate-100 sticky top-0">
                        <tr>
                            <th class="px-6 py-3">Name</th>
                            <th class="px-6 py-3">Email</th>
                            <th class="px-6 py-3">Role</th>
                            <th class="px-6 py-3 text-right">Action</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr v-for="user in usersModal.list" :key="user.id">
                            <td class="px-6 py-3 text-sm font-medium">{{ user.first_name }} {{ user.last_name }}</td>
                            <td class="px-6 py-3 text-sm text-slate-600">{{ user.email }}</td>
                            <td class="px-6 py-3 text-xs uppercase font-bold text-slate-500">{{ user.role }}</td>
                            <td class="px-6 py-3 text-right">
                                <button @click="removeUser(user.id)" class="text-red-500 hover:text-red-700 text-xs font-bold">Remove</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div v-if="shipmentsModal.show" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-2xl w-full max-w-4xl shadow-2xl overflow-hidden h-[80vh] flex flex-col">
            <div class="px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h3 class="font-bold text-slate-800">Shipment History: {{ shipmentsModal.company?.entity_name }}</h3>
                <button @click="shipmentsModal.show = false" class="text-slate-400 hover:text-slate-600"></button>
            </div>
            
            <div class="flex-1 overflow-auto p-0">
                <table class="w-full text-left">
                    <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-bold border-b border-slate-100 sticky top-0">
                        <tr>
                            <th class="px-6 py-3">ID</th>
                            <th class="px-6 py-3">Route</th>
                            <th class="px-6 py-3">Courier</th>
                            <th class="px-6 py-3">Cost</th>
                            <th class="px-6 py-3 text-center">Status</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr v-if="shipmentsModal.list.length === 0">
                            <td colspan="5" class="px-6 py-8 text-center text-slate-400">No shipments found for this company.</td>
                        </tr>
                        <tr v-for="ship in shipmentsModal.list" :key="ship.id">
                            <td class="px-6 py-3 font-mono text-xs text-slate-500">#{{ ship.id }}</td>
                            <td class="px-6 py-3 text-sm">
                                <span class="font-bold">{{ ship.sender_suburb }}</span>  <span>{{ ship.receiver_suburb }}</span>
                            </td>
                            <td class="px-6 py-3 text-sm text-slate-600">{{ ship.courier_name }}</td>
                            <td class="px-6 py-3 font-mono text-sm">${{ (ship.total_price_cents / 100).toFixed(2) }}</td>
                            <td class="px-6 py-3 text-center">
                                <span class="px-2 py-0.5 rounded text-[10px] uppercase font-bold bg-slate-100 text-slate-600">{{ ship.status }}</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import axios from 'axios';

const companies = ref([]);
const pagination = ref({});
const search = ref('');

// Modal States
const editModal = reactive({ show: false, company: null, form: {} });
const topUpModal = reactive({ show: false, company: null, amount: '' });
const shipmentsModal = reactive({ show: false, company: null, list: [] });

// 1. Fetch Companies
const fetchCompanies = async () => {
    try {
        const response = await axios.get('/api/v1/admin/companies', { params: { search: search.value } });
        companies.value = response.data.data || response.data;
        pagination.value = response.data;
    } catch (e) { console.error("Fetch failed", e); }
};

// 2. Status Toggle
const toggleStatus = async (company) => {
    if(!confirm(`Are you sure you want to ${company.abn_status === 'Active' ? 'SUSPEND' : 'ACTIVATE'} this company?`)) return;
    try {
        await axios.post(`/api/v1/admin/companies/${company.id}/toggle-status`);
        company.abn_status = (company.abn_status === 'Active' ? 'Suspended' : 'Active');
    } catch (e) { alert("Failed to change status."); }
};

// 3. Edit Logic
const openEditModal = (company) => {
    editModal.company = company;
    editModal.form = { 
        entity_name: company.entity_name, 
        billing_email: company.billing_email, 
        abn: company.abn,
        abn_status: company.abn_status 
    };
    editModal.show = true;
};

const saveCompany = async () => {
    try {
        await axios.put(`/api/v1/admin/companies/${editModal.company.id}`, editModal.form);
        await fetchCompanies();
        editModal.show = false;
        alert("Company updated!");
    } catch (e) { alert("Failed to save."); }
};

// 4. Top Up Logic
const openTopUpModal = (company) => {
    topUpModal.company = company;
    topUpModal.amount = '';
    topUpModal.show = true;
};

const processTopUp = async () => {
    if(!topUpModal.amount) return;
    try {
        await axios.post(`/api/v1/admin/companies/${topUpModal.company.id}/top-up`, { amount: topUpModal.amount });
        topUpModal.show = false;
        fetchCompanies();
        alert("Funds added successfully.");
    } catch (e) { alert("Failed to add funds."); }
};

// 5. Shipments Logic
const openShipmentsModal = async (company) => {
    shipmentsModal.company = company;
    shipmentsModal.show = true;
    shipmentsModal.list = []; // Clear old data
    try {
        const response = await axios.get(`/api/v1/admin/companies/${company.id}/shipments`);
        shipmentsModal.list = response.data.data;
    } catch (e) { console.error("Failed to fetch shipments"); }
};

const usersModal = reactive({ show: false, company: null, list: [] });
const newUser = reactive({ first_name: '', last_name: '', email: '', password: '', role: 'company_user' });

const openUsersModal = async (company) => {
    usersModal.company = company;
    usersModal.show = true;
    // Fetch users
    const res = await axios.get(`/api/v1/admin/companies/${company.id}/users`);
    usersModal.list = res.data;
};

const addUser = async () => {
    try {
        await axios.post(`/api/v1/admin/companies/${usersModal.company.id}/users`, newUser);
        // Refresh list
        openUsersModal(usersModal.company);
        // Clear form
        newUser.first_name = ''; newUser.last_name = ''; newUser.email = ''; newUser.password = '';
    } catch (e) { alert("Failed to add user."); }
};

const removeUser = async (userId) => {
    if(!confirm("Remove this user?")) return;
    try {
        await axios.delete(`/api/v1/admin/users/${userId}`);
        openUsersModal(usersModal.company);
    } catch (e) { alert("Failed to remove user."); }
};

onMounted(fetchCompanies);
</script>

--- FILE: ./resources/js/components/Admin/AdminCarriers.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div>
        <h1 class="text-2xl font-bold text-slate-800">Carrier Configuration</h1>
        <p class="text-slate-500">Manage API credentials and environments.</p>
    </div>

    <div class="bg-white rounded-xl border border-slate-200 shadow-card overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-bold border-b border-slate-200">
                <tr>
                    <th class="px-6 py-4">Carrier</th>
                    <th class="px-6 py-4">Environment</th>
                    <th class="px-6 py-4 text-center">Status</th>
                    <th class="px-6 py-4 text-right">Actions</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr v-for="carrier in carriers" :key="carrier.id" class="hover:bg-slate-50 transition-colors">
                    <td class="px-6 py-4">
                        <div class="flex items-center gap-3">
                            <div class="h-10 w-10 bg-slate-100 rounded-lg flex items-center justify-center font-bold text-slate-600">
                                {{ carrier.carrier_code.substring(0, 2).toUpperCase() }}
                            </div>
                            <div>
                                <div class="font-bold text-slate-800 capitalize">{{ carrier.carrier_code.replace('_', ' ') }}</div>
                                <div class="text-xs text-slate-500">{{ carrier.account_code || 'No Account Code' }}</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4">
                         <span class="px-2 py-1 rounded text-xs font-bold uppercase tracking-wide"
                              :class="carrier.environment === 'production' ? 'bg-purple-100 text-purple-700' : 'bg-amber-100 text-amber-700'">
                            {{ carrier.environment }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-center">
                        <span class="px-2 py-1 rounded-full text-xs font-bold" 
                              :class="carrier.is_active ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'">
                            {{ carrier.is_active ? 'Online' : 'Offline' }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right flex justify-end gap-2">
                         <button @click="editCarrier(carrier)" class="px-3 py-1.5 border border-slate-200 text-slate-700 rounded-lg text-xs font-bold hover:bg-slate-100 transition-colors">
                            Edit Config
                        </button>
                        <button @click="toggleCarrier(carrier)" 
                                class="px-3 py-1.5 rounded-lg text-xs font-bold border transition-colors"
                                :class="carrier.is_active ? 'border-red-200 text-red-600 hover:bg-red-50' : 'border-green-200 text-green-600 hover:bg-green-50'">
                            {{ carrier.is_active ? 'Disable' : 'Enable' }}
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div v-if="editingCarrier" class="fixed inset-0 bg-black/40 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center">
                <h3 class="font-bold text-slate-800">Edit {{ editingCarrier.carrier_code }}</h3>
                <button @click="editingCarrier = null" class="text-slate-400 hover:text-slate-600"></button>
            </div>
            
            <div class="p-6 space-y-4">
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Environment</label>
                    <select v-model="form.environment" class="input-field">
                        <option value="test">Test / Sandbox</option>
                        <option value="production">Production</option>
                    </select>
                </div>

                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Account Code</label>
                    <input v-model="form.account_code" type="text" class="input-field" placeholder="Account ID">
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">API Key</label>
                        <input v-model="form.api_key" type="password" class="input-field" placeholder="Leave blank to keep current">
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">API Secret</label>
                        <input v-model="form.api_secret" type="password" class="input-field" placeholder="Leave blank to keep current">
                    </div>
                </div>
                
                <div class="text-xs text-amber-600 bg-amber-50 p-3 rounded-lg border border-amber-100">
                     Warning: Changing credentials in Production will immediately affect live shipments.
                </div>
            </div>

            <div class="px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end gap-3">
                <button @click="editingCarrier = null" class="text-sm font-medium text-slate-500 hover:text-slate-700">Cancel</button>
                <button @click="saveCarrier" :disabled="saving" class="btn-primary py-2 px-4 text-sm">
                    {{ saving ? 'Saving...' : 'Save Changes' }}
                </button>
            </div>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import axios from 'axios';

const carriers = ref([]);
const editingCarrier = ref(null);
const saving = ref(false);
const form = reactive({
    environment: 'test',
    account_code: '',
    api_key: '',
    api_secret: ''
});

const fetchCarriers = async () => {
    try {
        const response = await axios.get('/api/v1/admin/carriers');
        carriers.value = response.data;
    } catch (e) { console.error(e); }
};

const toggleCarrier = async (carrier) => {
    try {
        await axios.post(`/api/v1/admin/carriers/${carrier.id}/toggle`);
        carrier.is_active = !carrier.is_active;
    } catch (e) { alert("Failed."); }
};

const editCarrier = (carrier) => {
    editingCarrier.value = carrier;
    // Copy existing values (except secrets)
    form.environment = carrier.environment;
    form.account_code = carrier.account_code;
    form.api_key = '';    // Reset for security
    form.api_secret = ''; // Reset for security
};

const saveCarrier = async () => {
    saving.value = true;
    try {
        await axios.put(`/api/v1/admin/carriers/${editingCarrier.value.id}`, form);
        await fetchCarriers(); // Refresh list
        editingCarrier.value = null; // Close modal
    } catch (e) {
        alert("Failed to update carrier settings.");
    } finally {
        saving.value = false;
    }
};

onMounted(fetchCarriers);
</script>

--- FILE: ./resources/js/components/Admin/AdminShipments.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex flex-wrap gap-4 items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
        <div class="relative w-64">
            <input v-model="filters.search" @input="fetchShipments" placeholder="Search tracking # or ID..." class="input-field pl-10" />
            <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></span>
        </div>
        
        <select v-model="filters.status" @change="fetchShipments" class="input-field w-40">
            <option value="">All Statuses</option>
            <option value="draft">Draft</option>
            <option value="booked">Booked</option>
            <option value="cancelled">Cancelled</option>
        </select>

        <select v-model="filters.courier" @change="fetchShipments" class="input-field w-40">
            <option value="">All Couriers</option>
            <option value="TNT">TNT</option>
            <option value="Hunters">Hunters</option>
            <option value="Couriers Please">Couriers Please</option>
        </select>

        <button @click="resetFilters" class="text-sm text-slate-500 hover:text-slate-800 underline">Reset</button>
    </div>

    <div class="bg-white rounded-xl border border-slate-200 shadow-card overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-bold border-b border-slate-200">
                <tr>
                    <th class="px-6 py-4">ID</th>
                    <th class="px-6 py-4">Company</th>
                    <th class="px-6 py-4">Route</th>
                    <th class="px-6 py-4">Courier</th>
                    <th class="px-6 py-4 text-center">Status</th>
                    <th class="px-6 py-4 text-right">Actions</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr v-for="ship in shipments" :key="ship.id" class="hover:bg-slate-50 transition-colors">
                    <td class="px-6 py-4 font-mono text-xs text-primary">#{{ ship.id }}</td>
                    <td class="px-6 py-4 text-sm font-medium text-slate-700">{{ ship.company?.entity_name }}</td>
                    <td class="px-6 py-4 text-sm">
                        <span class="font-bold">{{ ship.sender_suburb }}</span> 
                        <span class="text-slate-400 mx-1"></span> 
                        <span class="font-bold">{{ ship.receiver_suburb }}</span>
                    </td>
                    <td class="px-6 py-4 text-sm text-slate-600">{{ ship.courier_name || '-' }}</td>
                    <td class="px-6 py-4 text-center">
                          <span class="px-2 py-1 rounded-full text-xs font-bold uppercase"
                              :class="{
                                  'bg-green-100 text-green-700': ship.status === 'booked',
                                  'bg-slate-100 text-slate-600': ship.status === 'draft',
                                  'bg-red-100 text-red-700': ship.status === 'cancelled'
                              }">
                            {{ ship.status }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <button @click="viewDetails(ship.id)" class="text-blue-600 hover:text-blue-800 text-xs font-bold">
                            View Details
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div v-if="selectedShipment" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-2xl w-full max-w-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col">
            <div class="px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h3 class="font-bold text-slate-800">Shipment #{{ selectedShipment.id }} Details</h3>
                <button @click="selectedShipment = null" class="text-slate-400 hover:text-slate-600"></button>
            </div>
            
            <div class="p-6 overflow-auto space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-slate-50 p-3 rounded-lg">
                        <div class="text-xs text-slate-400 uppercase font-bold">Sender</div>
                        <div class="font-medium">{{ selectedShipment.sender_name }}</div>
                        <div class="text-sm text-slate-600">{{ selectedShipment.sender_address }}</div>
                    </div>
                    <div class="bg-slate-50 p-3 rounded-lg">
                        <div class="text-xs text-slate-400 uppercase font-bold">Receiver</div>
                        <div class="font-medium">{{ selectedShipment.receiver_name }}</div>
                        <div class="text-sm text-slate-600">{{ selectedShipment.receiver_address }}</div>
                    </div>
                </div>
                
                <div class="text-xs font-mono bg-slate-900 text-green-400 p-4 rounded-lg overflow-x-auto max-h-60">
                    <pre>{{ JSON.stringify(selectedShipment, null, 2) }}</pre>
                </div>
            </div>

            <div class="px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-between items-center">
                <div class="text-xs text-slate-500">
                    Label: 
                    <span v-if="selectedShipment.label_url" class="text-green-600 font-bold">Generated</span>
                    <span v-else class="text-amber-600 font-bold">N/A</span>
                </div>

                <div class="flex gap-3">
                    <button @click="selectedShipment = null" class="text-slate-500 hover:text-slate-700 font-medium">Close</button>
                    
                    <button 
                         v-if="selectedShipment.label_url" 
                         @click="downloadLabel(selectedShipment.label_url, selectedShipment.tracking_number)" 
                         :disabled="downloading"
                         class="btn-primary py-2 px-4 text-sm bg-slate-800 hover:bg-slate-700 flex items-center gap-2">
                         <span v-if="downloading"> Downloading...</span>
                         <span v-else> Download Label</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import axios from 'axios';

const shipments = ref([]);
const pagination = ref({});
const selectedShipment = ref(null);
const filters = reactive({ search: '', status: '', courier: '' });
const downloading = ref(false);

const fetchShipments = async () => {
    try {
        const response = await axios.get('/api/v1/admin/shipments', { params: filters });
        shipments.value = response.data.data;
        pagination.value = response.data;
    } catch (e) { console.error(e); }
};

const viewDetails = async (id) => {
    try {
        const response = await axios.get(`/api/v1/admin/shipments/${id}`);
        selectedShipment.value = response.data;
    } catch (e) { alert("Failed to load details"); }
};

const downloadLabel = async (url, filename) => {
    downloading.value = true;
    try {
        const response = await axios.get(url, { responseType: 'blob' });
        const blob = new Blob([response.data], { type: 'application/pdf' });
        const link = document.createElement('a');
        link.href = window.URL.createObjectURL(blob);
        link.download = `Label-${filename || 'shipment'}.pdf`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        window.URL.revokeObjectURL(link.href);
    } catch (error) {
        alert("Failed to download label file.");
    } finally {
        downloading.value = false;
    }
};

const resetFilters = () => {
    filters.search = '';
    filters.status = '';
    filters.courier = '';
    fetchShipments();
};

onMounted(fetchShipments);
</script>

--- FILE: ./resources/js/components/Admin/AdminDashboard.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div>
        <h1 class="text-2xl font-bold text-slate-800">System Overview</h1>
        <p class="text-slate-500">Real-time metrics for TinExpress Enterprise.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        
        <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-card">
            <div class="flex justify-between items-start">
                <div>
                    <div class="text-xs font-bold text-slate-400 uppercase tracking-wider">Total Revenue</div>
                    <div class="text-2xl font-bold text-slate-800 mt-2">
                        ${{ formatMoney(stats.total_revenue) }}
                    </div>
                </div>
                <div class="h-10 w-10 bg-green-100 text-green-600 rounded-xl flex items-center justify-center text-xl">
                    
                </div>
            </div>
            <div class="mt-4 text-xs text-green-600 font-bold flex items-center gap-1">
                <span></span> 12% vs last month
            </div>
        </div>

        <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-card">
            <div class="flex justify-between items-start">
                <div>
                    <div class="text-xs font-bold text-slate-400 uppercase tracking-wider">Total Shipments</div>
                    <div class="text-2xl font-bold text-slate-800 mt-2">
                        {{ stats.total_shipments }}
                    </div>
                </div>
                <div class="h-10 w-10 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center text-xl">
                    
                </div>
            </div>
        </div>

        <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-card">
            <div class="flex justify-between items-start">
                <div>
                    <div class="text-xs font-bold text-slate-400 uppercase tracking-wider">Active Companies</div>
                    <div class="text-2xl font-bold text-slate-800 mt-2">
                        {{ stats.total_companies }}
                    </div>
                </div>
                <div class="h-10 w-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center text-xl">
                    
                </div>
            </div>
        </div>

        <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-card">
            <div class="flex justify-between items-start">
                <div>
                    <div class="text-xs font-bold text-slate-400 uppercase tracking-wider">Active Carriers</div>
                    <div class="text-2xl font-bold text-slate-800 mt-2">
                        {{ stats.active_carriers }}
                    </div>
                </div>
                <div class="h-10 w-10 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center text-xl">
                    
                </div>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-2xl border border-slate-200 shadow-card p-6 h-64 flex items-center justify-center text-slate-400">
        <div class="text-center">
            <div class="text-4xl mb-2"></div>
            <div>Live Activity Chart (Coming Soon)</div>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import axios from 'axios';

const stats = ref({
    total_revenue: 0,
    total_shipments: 0,
    total_companies: 0,
    active_carriers: 0
});

const fetchStats = async () => {
    try {
        const response = await axios.get('/api/v1/admin/stats');
        stats.value = response.data;
    } catch (e) {
        console.error("Failed to load stats");
    }
};

const formatMoney = (cents) => {
    return (cents / 100).toLocaleString('en-US', { minimumFractionDigits: 2 });
};

onMounted(fetchStats);
</script>

--- FILE: ./resources/js/components/Admin/AdminPromotions.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-slate-200">
        <h1 class="text-xl font-bold text-slate-800">Promotions Engine</h1>
        <button @click="showModal = true" class="btn-primary py-2 px-4 text-sm">+ New Promo Code</button>
    </div>

    <div class="bg-white rounded-xl shadow-card overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-slate-50 text-xs uppercase font-bold text-slate-500">
                <tr>
                    <th class="px-6 py-4">Code</th>
                    <th class="px-6 py-4">Discount</th>
                    <th class="px-6 py-4">Usage</th>
                    <th class="px-6 py-4">Status</th>
                    <th class="px-6 py-4 text-right">Action</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr v-if="promos.length === 0">
                    <td colspan="5" class="px-6 py-8 text-center text-slate-400">No promotions created yet.</td>
                </tr>
                <tr v-for="promo in promos" :key="promo.id">
                    <td class="px-6 py-4">
                        <div class="font-mono font-bold text-lg text-primary tracking-wide">{{ promo.code }}</div>
                        <div class="text-xs text-slate-400" v-if="promo.expires_at">Exp: {{ new Date(promo.expires_at).toLocaleDateString() }}</div>
                    </td>
                    <td class="px-6 py-4 font-bold text-slate-700">
                        {{ promo.type === 'fixed' ? '$' : '' }}{{ promo.value }}{{ promo.type === 'percentage' ? '%' : '' }} OFF
                        <div class="text-xs font-normal text-slate-500" v-if="promo.min_spend_cents">Min Spend: ${{ promo.min_spend_cents/100 }}</div>
                    </td>
                    <td class="px-6 py-4 text-sm text-slate-600">
                        {{ promo.current_uses }} / {{ promo.max_uses || '' }}
                    </td>
                    <td class="px-6 py-4">
                        <span class="px-2 py-1 rounded-full text-xs font-bold"
                            :class="promo.is_active ? 'bg-green-100 text-green-700' : 'bg-slate-100 text-slate-500'">
                            {{ promo.is_active ? 'Active' : 'Disabled' }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <button @click="toggle(promo)" class="text-xs font-bold text-slate-400 hover:text-primary">Toggle Status</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <Teleport to="body">
        <div v-if="showModal" class="fixed inset-0 bg-black/50 z-[999] flex items-center justify-center backdrop-blur-sm">
            <div class="bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl m-4 animate-fade-in-up">
                <h3 class="font-bold text-lg mb-4 text-slate-800">Create Promotion</h3>
                
                <form @submit.prevent="createPromo" class="space-y-4">
                    
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Promo Code</label>
                        <input v-model="form.code" placeholder="e.g. SUMMER25" class="input-field uppercase font-mono tracking-wide" required />
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Type</label>
                            <select v-model="form.type" class="input-field">
                                <option value="percentage">Percent (%)</option>
                                <option value="fixed">Fixed ($)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Value</label>
                            <input v-model="form.value" type="number" step="0.01" placeholder="10" class="input-field" required />
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Min Spend ($)</label>
                            <input v-model="form.min_spend" type="number" placeholder="Optional" class="input-field" />
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Max Uses</label>
                            <input v-model="form.max_uses" type="number" placeholder="Optional" class="input-field" />
                        </div>
                    </div>

                    <div>
                         <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Expiry Date</label>
                         <input v-model="form.expires_at" type="date" class="input-field" />
                    </div>

                    <div class="flex justify-end gap-3 pt-4 border-t border-slate-100 mt-4">
                        <button type="button" @click="showModal = false" class="text-slate-500 hover:text-slate-700 font-medium">Cancel</button>
                        <button type="submit" class="btn-primary py-2 px-6">Create Promo</button>
                    </div>
                </form>
            </div>
        </div>
    </Teleport>

  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import axios from 'axios';

const promos = ref([]);
const showModal = ref(false);
const form = reactive({ code: '', type: 'percentage', value: '', min_spend: '', max_uses: '', expires_at: '' });

const fetchPromos = async () => {
    try {
        const res = await axios.get('/api/v1/admin/promotions');
        promos.value = res.data;
    } catch (e) { console.error(e); }
};

const createPromo = async () => {
    try {
        await axios.post('/api/v1/admin/promotions', form);
        showModal.value = false;
        fetchPromos();
        // Reset form
        Object.assign(form, { code: '', type: 'percentage', value: '', min_spend: '', max_uses: '', expires_at: '' });
    } catch (e) { 
        alert(e.response?.data?.message || "Error creating promo"); 
    }
};

const toggle = async (promo) => {
    try {
        await axios.post(`/api/v1/admin/promotions/${promo.id}/toggle`);
        fetchPromos();
    } catch (e) { alert("Action failed"); }
};

onMounted(fetchPromos);
</script>

--- FILE: ./resources/js/components/Admin/AdminUsers.vue ---

<template>
  <div class="space-y-6 animate-fade-in-up">
    
    <div class="flex justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
        <div class="flex gap-4">
            <div class="relative w-64">
                <input v-model="filters.search" @input="fetchUsers" placeholder="Search name or email..." class="input-field pl-10" />
                <span class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></span>
            </div>
            <select v-model="filters.role" @change="fetchUsers" class="input-field w-40">
                <option value="">All Roles</option>
                <option value="super_admin">Super Admin</option>
                <option value="company_admin">Company Admin</option>
                <option value="company_user">User</option>
            </select>
        </div>
        
        <div class="flex items-center gap-4">
            <div class="text-sm text-slate-500">
                Total: <strong>{{ pagination.total || 0 }}</strong>
            </div>
            <button @click="openCreateModal" class="btn-primary py-2 px-4 text-sm">
                + Add User
            </button>
        </div>
    </div>

    <div class="bg-white rounded-xl border border-slate-200 shadow-card overflow-hidden">
        <table class="w-full text-left">
            <thead class="bg-slate-50 text-xs uppercase text-slate-500 font-bold border-b border-slate-200">
                <tr>
                    <th class="px-6 py-4">User</th>
                    <th class="px-6 py-4">Company</th>
                    <th class="px-6 py-4">Role</th>
                    <th class="px-6 py-4 text-right">Actions</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-100">
                <tr v-for="user in users" :key="user.id" class="hover:bg-slate-50 transition-colors">
                    <td class="px-6 py-4">
                        <div class="font-bold text-slate-800">{{ user.first_name }} {{ user.last_name }}</div>
                        <div class="text-xs text-slate-500">{{ user.email }}</div>
                    </td>
                    <td class="px-6 py-4">
                        <span v-if="user.company" class="font-medium text-slate-700">{{ user.company.entity_name }}</span>
                        <span v-else class="text-slate-400 italic">No Company</span>
                    </td>
                    <td class="px-6 py-4">
                         <span class="px-2 py-1 rounded-full text-xs font-bold capitalize"
                              :class="{
                                  'bg-purple-100 text-purple-700': user.role === 'super_admin',
                                  'bg-blue-100 text-blue-700': user.role === 'company_admin',
                                  'bg-slate-100 text-slate-600': user.role === 'company_user'
                              }">
                            {{ user.role.replace('_', ' ') }}
                        </span>
                    </td>
                    <td class="px-6 py-4 text-right">
                        <button v-if="user.role !== 'super_admin'" @click="deleteUser(user)" class="text-red-500 hover:text-red-700 text-xs font-bold">
                            Remove
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div v-if="showModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-100 bg-slate-50 flex justify-between items-center">
                <h3 class="font-bold text-slate-800">Create New User</h3>
                <button @click="showModal = false" class="text-slate-400 hover:text-slate-600"></button>
            </div>
            
            <form @submit.prevent="createUser" class="p-6 space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">First Name</label>
                        <input v-model="form.first_name" required class="input-field" />
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Last Name</label>
                        <input v-model="form.last_name" required class="input-field" />
                    </div>
                </div>

                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Email Address</label>
                    <input v-model="form.email" type="email" required class="input-field" />
                </div>

                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Password</label>
                    <input v-model="form.password" type="password" required class="input-field" placeholder="Min 8 characters" />
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Role</label>
                        <select v-model="form.role" class="input-field">
                            <option value="company_user">Standard User</option>
                            <option value="company_admin">Company Admin</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Assign Company</label>
                        <select v-model="form.company_id" required class="input-field">
                            <option v-for="comp in companyList" :key="comp.id" :value="comp.id">
                                {{ comp.entity_name }}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="pt-4 flex justify-end gap-3">
                    <button type="button" @click="showModal = false" class="text-slate-500 hover:text-slate-700 font-medium">Cancel</button>
                    <button type="submit" :disabled="submitting" class="btn-primary">
                        {{ submitting ? 'Creating...' : 'Create User' }}
                    </button>
                </div>
            </form>
        </div>
    </div>

  </div>
</template>

<script setup>
import { ref, reactive, onMounted } from 'vue';
import axios from 'axios';

const users = ref([]);
const companyList = ref([]); // For dropdown
const pagination = ref({});
const filters = reactive({ search: '', role: '' });
const showModal = ref(false);
const submitting = ref(false);

const form = reactive({
    first_name: '', last_name: '', email: '', password: '', role: 'company_user', company_id: ''
});

const fetchUsers = async () => {
    try {
        const response = await axios.get('/api/v1/admin/users', { params: filters });
        users.value = response.data.data;
        pagination.value = response.data;
    } catch (e) { console.error(e); }
};

const openCreateModal = async () => {
    showModal.value = true;
    // Fetch simple list of companies for dropdown
    const res = await axios.get('/api/v1/admin/companies-list'); 
    companyList.value = res.data;
};

const createUser = async () => {
    submitting.value = true;
    try {
        // Re-use the existing storeCompanyUser logic but adapting the route
        await axios.post(`/api/v1/admin/companies/${form.company_id}/users`, form);
        showModal.value = false;
        fetchUsers();
        // Reset form
        Object.assign(form, { first_name: '', last_name: '', email: '', password: '', role: 'company_user', company_id: '' });
        alert("User created successfully.");
    } catch (e) {
        alert("Failed to create user. Email might be taken.");
    } finally {
        submitting.value = false;
    }
};

const deleteUser = async (user) => {
    if(!confirm('Are you sure?')) return;
    try { await axios.delete(`/api/v1/admin/users/${user.id}`); fetchUsers(); } catch (e) {}
};

onMounted(fetchUsers);
</script>

--- FILE: ./resources/js/components/UI/BaseCard.vue ---

<template>
  <div class="bg-white rounded-2xl border border-slate-100 shadow-card hover:shadow-card-hover transition-all duration-500 ease-out group">
    <div v-if="$slots.header" class="px-6 py-5 border-b border-slate-50 flex items-center justify-between">
        <slot name="header"></slot>
    </div>
    
    <div class="p-6">
        <slot></slot>
    </div>

    <div v-if="$slots.footer" class="px-6 py-4 bg-slate-50/50 border-t border-slate-50 rounded-b-2xl">
        <slot name="footer"></slot>
    </div>
  </div>
</template>


--- FILE: ./resources/js/components/UI/BaseInput.vue ---

<template>
  <div class="w-full">
    <label v-if="label" :for="id" class="block text-sm font-semibold text-slate-700 mb-1.5">
      {{ label }} <span v-if="required" class="text-red-500">*</span>
    </label>
    <div class="relative">
      <input
        :id="id"
        v-bind="$attrs"
        :value="modelValue"
        @input="$emit('update:modelValue', $event.target.value)"
        class="w-full px-4 py-2.5 bg-white border border-slate-300 rounded-lg text-slate-900 text-sm shadow-sm transition-all duration-200 placeholder:text-slate-400 focus:border-primary focus:ring-2 focus:ring-primary/20 hover:border-slate-400 disabled:bg-slate-50 disabled:text-slate-500"
        :class="{ 'border-red-500 focus:border-red-500 focus:ring-red-500/20': error }"
      />
      <div v-if="$slots.icon" class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400">
        <slot name="icon"></slot>
      </div>
    </div>
    <p v-if="error" class="mt-1 text-xs text-red-600 animate-fade-in-up">{{ error }}</p>
  </div>
</template>

<script setup>
defineProps({
  modelValue: [String, Number],
  label: String,
  id: { type: String, default: () => `input-${Math.random().toString(36).substr(2, 9)}` },
  error: String,
  required: Boolean
});
defineEmits(['update:modelValue']);
</script>


--- FILE: ./resources/js/components/UI/NotificationBell.vue ---

<template>
  <div class="relative" ref="bellContainer">
    
    <button @click="toggleDropdown" class="relative p-2 rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all">
      <span class="text-xl"></span>
      
      <span v-if="unreadCount > 0" 
            class="absolute top-0 right-0 h-4 w-4 bg-red-500 text-white text-[10px] font-bold flex items-center justify-center rounded-full shadow-sm animate-pulse">
        {{ unreadCount }}
      </span>
    </button>

    <div v-if="isOpen" class="absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden z-50 animate-fade-in-up origin-top-right">
        
        <div class="px-4 py-3 border-b border-slate-50 flex justify-between items-center bg-slate-50/50">
            <h3 class="font-bold text-xs uppercase text-slate-500 tracking-wider">Notifications</h3>
            <button v-if="unreadCount > 0" @click="markAllRead" class="text-xs text-blue-600 hover:text-blue-800 font-medium">
                Mark all read
            </button>
        </div>

        <div class="max-h-80 overflow-y-auto">
            <div v-if="notifications.length === 0" class="p-6 text-center text-slate-400 text-sm">
                No new notifications.
            </div>

            <div v-for="note in notifications" :key="note.id" 
                 @click="handleClick(note)"
                 class="px-4 py-3 hover:bg-slate-50 cursor-pointer border-b border-slate-50 last:border-0 transition-colors group">
                
                <div class="flex justify-between items-start mb-1">
                    <span class="font-bold text-sm text-slate-800 group-hover:text-primary transition-colors">
                        {{ note.data.subject }}
                    </span>
                    <span class="text-[10px] text-slate-400 whitespace-nowrap ml-2">
                        {{ timeAgo(note.created_at) }}
                    </span>
                </div>
                
                <p class="text-xs text-slate-500 line-clamp-2">
                    <span class="font-medium text-slate-700">{{ note.data.sender_name }}:</span> 
                    {{ note.data.message_preview }}
                </p>
            </div>
        </div>

        <div class="px-4 py-2 bg-slate-50 border-t border-slate-100 text-center">
            <router-link to="/dashboard/support" @click="isOpen = false" class="text-xs font-bold text-slate-500 hover:text-primary">
                View Support Center
            </router-link>
        </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted, onUnmounted, computed } from 'vue';
import axios from 'axios';
import { useRouter } from 'vue-router';

const router = useRouter();
const notifications = ref([]);
const isOpen = ref(false);
const bellContainer = ref(null);
let pollingInterval = null;

const unreadCount = computed(() => notifications.value.length);

// Fetch latest notifications
const fetchNotifications = async () => {
    try {
        const res = await axios.get('/api/v1/notifications');
        notifications.value = res.data;
    } catch (e) { console.error("Notification poll failed"); }
};

// Toggle Dropdown
const toggleDropdown = () => {
    isOpen.value = !isOpen.value;
    if(isOpen.value) fetchNotifications();
};

// Handle Clicking a Notification
const handleClick = async (note) => {
    try {
        // 1. Mark as read on backend
        await axios.post(`/api/v1/notifications/${note.id}/read`);
        
        // 2. Remove from local list
        notifications.value = notifications.value.filter(n => n.id !== note.id);
        
        // 3. Navigate to the link (e.g., /dashboard/support/5)
        if (note.data.action_url) {
            router.push(note.data.action_url);
        }
        isOpen.value = false;
    } catch (e) {}
};

// Mark all as read
const markAllRead = async () => {
    try {
        await axios.post('/api/v1/notifications/read-all');
        notifications.value = [];
    } catch (e) {}
};

// Utility: Time Ago
const timeAgo = (date) => {
    const seconds = Math.floor((new Date() - new Date(date)) / 1000);
    let interval = seconds / 31536000;
    if (interval > 1) return Math.floor(interval) + "y";
    interval = seconds / 2592000;
    if (interval > 1) return Math.floor(interval) + "mo";
    interval = seconds / 86400;
    if (interval > 1) return Math.floor(interval) + "d";
    interval = seconds / 3600;
    if (interval > 1) return Math.floor(interval) + "h";
    interval = seconds / 60;
    if (interval > 1) return Math.floor(interval) + "m";
    return "just now";
};

// Close dropdown if clicking outside
const closeOnClickOutside = (e) => {
    if (bellContainer.value && !bellContainer.value.contains(e.target)) {
        isOpen.value = false;
    }
};

onMounted(() => {
    fetchNotifications();
    // Poll every 30 seconds
    pollingInterval = setInterval(fetchNotifications, 30000);
    document.addEventListener('click', closeOnClickOutside);
});

onUnmounted(() => {
    clearInterval(pollingInterval);
    document.removeEventListener('click', closeOnClickOutside);
});
</script>


--- FILE: ./resources/js/components/UI/BaseBadge.vue ---

<template>
  <span 
    class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide"
    :class="colorClasses"
  >
    <slot></slot>
  </span>
</template>

<script setup>
import { computed } from 'vue';

const props = defineProps({
  status: { type: String, default: 'default' }
});

const colorClasses = computed(() => {
  const map = {
    booked: 'bg-green-100 text-green-700',
    active: 'bg-green-100 text-green-700',
    draft: 'bg-slate-100 text-slate-600',
    pending: 'bg-yellow-100 text-yellow-700',
    cancelled: 'bg-red-100 text-red-700',
    error: 'bg-red-100 text-red-700',
    default: 'bg-blue-100 text-blue-700'
  };
  return map[props.status.toLowerCase()] || map.default;
});
</script>


--- FILE: ./resources/js/components/UI/BaseButton.vue ---

<template>
    <button 
        :class="[
            'px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2 shadow-sm',
            variantClasses[variant],
            fullWidth ? 'w-full' : ''
        ]"
        v-bind="$attrs"
    >
        <slot />
    </button>
</template>

<script setup>
const props = defineProps({
    variant: {
        type: String,
        default: 'primary'
    },
    fullWidth: {
        type: Boolean,
        default: false
    }
});

// Centralized Style Logic based on Tailwind Theme
const variantClasses = {
    primary: 'bg-brand text-text-inverted hover:bg-brand-hover shadow-brand/20 active:bg-brand-active',
    secondary: 'bg-app-surface border border-app-border text-text-body hover:bg-app-bg hover:text-text-main',
    danger: 'bg-status-danger text-text-inverted hover:bg-red-600',
    ghost: 'bg-transparent text-text-muted hover:text-brand hover:bg-brand-light'
};
</script>

--- FILE: ./resources/js/bootstrap.js ---

import axios from 'axios';
window.axios = axios;

window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';

// --- THE FIX: AXIOS INTERCEPTOR ---
// This runs before EVERY request to the server
window.axios.interceptors.request.use(config => {
    // 1. Look for the token in local storage
    const token = localStorage.getItem('auth_token');
    
    // 2. If found, attach it to the Authorization header
    if (token) {
        config.headers.Authorization = `Bearer ${token}`;
    }
    
    return config;
}, error => {
    return Promise.reject(error);
});

// Optional: Handle 401 errors globally (e.g., if token expires, force logout)
window.axios.interceptors.response.use(response => response, error => {
    if (error.response && error.response.status === 401) {
        // If server says "Unauthorized", clear token and redirect to login
        localStorage.removeItem('auth_token');
        window.location.href = '/login';
    }
    return Promise.reject(error);
});

--- FILE: ./resources/js/config/navigation.js ---

export const navigationMenu = [
    {
        category: "Operations",
        items: [
            { name: "Rate Calculator", path: "/dashboard", icon: "" },
            { name: "Shipment History", path: "/dashboard/shipments", icon: "" },
        ]
    },
    {
        category: "Management",
        items: [
            { name: "Team Access", path: "/dashboard/team", icon: "" },
            { name: "Company Settings", path: "/dashboard/settings", icon: "" },
            { name: "Integrations Hub", path: "/dashboard/integrations", icon: "" },
        ]
    },
    {
        category: "Help & Support",
        items: [
            { name: "Support Center", path: "/dashboard/support", icon: "" },
        ]
    }
];

export const adminMenu = [
    {
        category: "System Admin",
        items: [
            { name: "Admin Dashboard", path: "/admin", icon: "" },
            { name: "Companies", path: "/admin/companies", icon: "" },
            { name: "Carriers", path: "/admin/carriers", icon: "" },
            { name: "Shipments", path: "/admin/shipments", icon: "" },
            { name: "Users", path: "/admin/users", icon: "" },
            { name: "Promotions", path: "/admin/promotions", icon: "" },
        ]
    }
];

--- FILE: ./resources/js/router.js ---

import { createRouter, createWebHistory } from 'vue-router';
import PublicHome from './components/Pages/PublicHome.vue';
import Login from './components/Pages/Login.vue';
import Register from './components/Pages/Register.vue';
import DashboardLayout from './components/Layout/DashboardLayout.vue';
import RateCalculator from './components/Rates/RateCalculator.vue';
import TeamSettings from './components/Pages/TeamSettings.vue';
import ShipmentHistory from './components/Pages/ShipmentHistory.vue';
import ShipmentDetails from './components/Pages/ShipmentDetails.vue';
import CompanySettings from './components/Pages/CompanySettings.vue';
import AdminDashboard from './components/Admin/AdminDashboard.vue';
import AdminCompanies from './components/Admin/AdminCompanies.vue';
import AdminCarriers from './components/Admin/AdminCarriers.vue';
import AdminUsers from './components/Admin/AdminUsers.vue';
import AdminShipments from './components/Admin/AdminShipments.vue';
import AdminPromotions from './components/Admin/AdminPromotions.vue';
import SupportIndex from './components/Pages/SupportIndex.vue';
import SupportShow from './components/Pages/SupportShow.vue';
import IntegrationsIndex from './components/Pages/IntegrationsIndex.vue';


const routes = [
    {
        path: '/',
        component: PublicHome
    },
    {
        path: '/login',
        component: Login
    },
    { path: '/register', component: Register },
    {
        path: '/dashboard',
        component: DashboardLayout,
        children: [
            { path: '', component: RateCalculator },
            { path: 'team', component: TeamSettings },
            { path: 'settings', component: CompanySettings },
            { path: 'shipments', component: ShipmentHistory },
            { path: 'shipments/:id', component: ShipmentDetails },
            { path: 'support', component: SupportIndex },
            { path: 'support/:id', component: SupportShow },
            { path: 'integrations', component: IntegrationsIndex },
        ],
        // Simple Navigation Guard: Check if logged in
        beforeEnter: (to, from, next) => {
            if (!localStorage.getItem('auth_token')) {
                next('/login');
            } else {
                next();
            }
        }
    },
    {
        path: '/admin',
        component: DashboardLayout,
        children: [
            { path: '', component: AdminDashboard },        // Default to Overview
            { path: 'companies', component: AdminCompanies },
            { path: 'carriers', component: AdminCarriers },
            { path: 'users', component: AdminUsers },
            { path: 'shipments', component: AdminShipments },
            { path: 'promotions', component: AdminPromotions },
            { path: 'support', component: SupportIndex },
            { path: 'support/:id', component: SupportShow }, // Link Carriers
        ],
        beforeEnter: (to, from, next) => {
            // Check auth token presence
            if (!localStorage.getItem('auth_token')) next('/login');
            // Check role (basic frontend check)
            else if (localStorage.getItem('user_role') !== 'super_admin') next('/dashboard');
            else next();
        }
    }
];

const router = createRouter({
    history: createWebHistory(),
    routes,
});

export default router;

--- FILE: ./resources/js/stores/auth.js ---

import { defineStore } from 'pinia';
import axios from 'axios';
import router from '../router';

export const useAuthStore = defineStore('auth', {
    state: () => ({
        user: null,
        company: null,
        role: null,
        isLoaded: false,
    }),

    getters: {
        // Safe accessors that don't crash if user is null
        fullName: (state) => state.user ? `${state.user.first_name} ${state.user.last_name}` : 'Loading...',
        companyName: (state) => state.company?.entity_name || 'Enterprise Account',
        userInitials: (state) => state.user ? state.user.first_name[0] + state.user.last_name[0] : 'TE',
        isSuperAdmin: (state) => state.role === 'super_admin',
    },

    actions: {
        async fetchUser() {
            if (this.isLoaded) return; // Deduplication: Don't fetch if we already have it

            try {
                const response = await axios.get('/api/v1/user');
                this.user = response.data;
                this.company = response.data.company;
                this.role = response.data.role;
                this.isLoaded = true;
            } catch (error) {
                if (error.response?.status === 401) {
                    this.logout(false); // Session expired
                }
            }
        },

        async logout(callApi = true) {
            if (callApi) {
                try { await axios.post('/api/v1/logout'); } catch (e) {}
            }
            
            // Clear State
            this.user = null;
            this.company = null;
            this.role = null;
            this.isLoaded = false;
            
            // Clear LocalStorage (Legacy support)
            localStorage.clear();
            
            router.push('/login');
        }
    }
});

--- FILE: ./app/Console/Commands/DispatchShopifySync.php ---

<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use App\Models\UserIntegration;
use App\Jobs\SyncShopifyStore;
use Illuminate\Support\Facades\Log;

class DispatchShopifySync extends Command
{
    /**
     * The name and signature of the console command.
     */
    protected $signature = 'integrations:sync-shopify';

    /**
     * The console command description.
     */
    protected $description = 'Dispatch sync jobs for all active Shopify integrations';

    /**
     * Execute the console command.
     */
    public function handle()
    {
        Log::info("Scheduler: Checking for Shopify stores to sync...");

        // 1. Find all Active Shopify Integrations
        // We can optimize by only picking ones synced > 10 mins ago if needed.
        $integrations = UserIntegration::where('platform', 'shopify')
            ->where('is_active', true)
            ->get();

        if ($integrations->isEmpty()) {
            $this->info('No active integrations found.');
            return;
        }

        $this->info("Found {$integrations->count()} active stores. Dispatching jobs...");

        // 2. Dispatch a Job for each one
        foreach ($integrations as $integration) {
            SyncShopifyStore::dispatch($integration);
        }

        $this->info("Dispatched {$integrations->count()} jobs to the queue.");
        Log::info("Scheduler: Dispatched {$integrations->count()} sync jobs.");
    }
}

--- FILE: ./app/Models/ShipmentQuote.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class ShipmentQuote extends Model
{
    use HasFactory;

    protected $fillable = [
        'shipment_id',
        'courier_name',
        'service_name',
        'service_code',
        'price_cents',
        'eta'
    ];

    public function shipment()
    {
        return $this->belongsTo(Shipment::class);
    }
}

--- FILE: ./app/Models/CarrierConfig.php ---

<?php

declare(strict_types=1);

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class CarrierConfig extends Model
{
    use HasFactory;

    protected $fillable = [
        'carrier_code',
        'account_code',
        'api_key',
        'api_secret',
        'environment',
        'extra_settings',
        'is_active',
    ];

    protected function casts(): array
    {
        return [
            'is_active' => 'boolean',
            'extra_settings' => 'array',
            // Enterprise Security: Encrypt these fields in the DB automatically
            'api_key' => 'encrypted', 
            'api_secret' => 'encrypted', 
        ];
    }
}

--- FILE: ./app/Models/Promotion.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Promotion extends Model
{
    use HasFactory;

    protected $fillable = [
        'code', 'description', 'type', 'value', 'max_uses', 
        'current_uses', 'min_spend_cents', 'starts_at', 'expires_at', 'is_active'
    ];

    protected $casts = [
        'starts_at' => 'datetime',
        'expires_at' => 'datetime',
        'is_active' => 'boolean',
    ];

    /**
     * Check if promo is valid for a given quote amount
     */
    public function isValid($cartTotalCents): bool
    {
        if (!$this->is_active) return false;
        if ($this->expires_at && now()->gt($this->expires_at)) return false;
        if ($this->starts_at && now()->lt($this->starts_at)) return false;
        if ($this->max_uses && $this->current_uses >= $this->max_uses) return false;
        if ($this->min_spend_cents && $cartTotalCents < $this->min_spend_cents) return false;

        return true;
    }

    /**
     * Calculate discount amount (cents)
     */
    public function calculateDiscount($totalCents)
    {
        if ($this->type === 'fixed') {
            // Value is in dollars, convert to cents
            return min($totalCents, $this->value * 100); 
        }

        // Percentage
        return $totalCents * ($this->value / 100);
    }
}

--- FILE: ./app/Models/ShipmentItem.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class ShipmentItem extends Model
{
    use HasFactory;

    protected $fillable = [
        'shipment_id',
        'type', // box, satchel, pallet
        'length',
        'width',
        'height',
        'weight',
        'quantity'
    ];

    // Inverse relationship: An item belongs to a shipment
    public function shipment()
    {
        return $this->belongsTo(Shipment::class);
    }
}

--- FILE: ./app/Models/User.php ---

<?php

namespace App\Models;

use Illuminate\Contracts\Auth\MustVerifyEmail;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Sanctum\HasApiTokens; // <--- CRITICAL FIX

class User extends Authenticatable
{
    use HasFactory, Notifiable, HasApiTokens; // <--- CRITICAL FIX

    // --- DEFINE ROLES ---
    const ROLE_SUPER_ADMIN = 'super_admin';
    const ROLE_COMPANY_ADMIN = 'company_admin';
    const ROLE_COMPANY_USER = 'company_user';

    protected $fillable = [
        'company_id',
        'first_name',
        'last_name',
        'email',
        'password',
        'role',
    ];

    protected $hidden = [
        'password',
        'remember_token',
    ];

    protected function casts(): array
    {
        return [
            'email_verified_at' => 'datetime',
            // 'password' => 'hashed', // <--- DISABLED TO PREVENT DOUBLE HASHING
        ];
    }

    public function company()
    {
        return $this->belongsTo(Company::class);
    }

    public function isSuperAdmin(): bool
    {
        return $this->role === self::ROLE_SUPER_ADMIN;
    }

    public function isCompanyAdmin(): bool
    {
        return $this->role === self::ROLE_COMPANY_ADMIN;
    }
}

--- FILE: ./app/Models/UserIntegration.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class UserIntegration extends Model
{
    protected $fillable = [
        'company_id', 
        'user_id', 
        'platform', 
        'store_url', 
        'api_secret', 
        'is_active', 
        'last_synced_at'
    ];

    protected $hidden = [
        'api_secret',
    ];

    protected $casts = [
        'is_active' => 'boolean',
        'api_secret' => 'encrypted', // Laravel automatically encrypts/decrypts this
        'last_synced_at' => 'datetime',
    ];

    public function company()
    {
        return $this->belongsTo(Company::class);
    }
}

--- FILE: ./app/Models/TicketMessage.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Support\Facades\Storage;

class TicketMessage extends Model
{
    protected $fillable = ['support_ticket_id', 'user_id', 'message', 'attachment_path', 'attachment_name'];
    
    protected $appends = ['attachment_url'];

    public function user()
    {
        return $this->belongsTo(User::class);
    }

    public function getAttachmentUrlAttribute()
    {
        return $this->attachment_path ? Storage::url($this->attachment_path) : null;
    }
}

--- FILE: ./app/Models/SupportTicket.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class SupportTicket extends Model
{
    protected $fillable = ['user_id', 'company_id', 'shipment_id', 'subject', 'status', 'priority'];

    public function messages()
    {
        return $this->hasMany(TicketMessage::class);
    }

    public function user()
    {
        return $this->belongsTo(User::class);
    }
    
    public function shipment()
    {
        return $this->belongsTo(Shipment::class);
    }
    
    // Helper to see last update time
    public function lastMessage()
    {
        return $this->hasOne(TicketMessage::class)->latestOfMany();
    }
}

--- FILE: ./app/Models/Shipment.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Shipment extends Model
{
    use HasFactory;

    protected $fillable = [
        'company_id',
        'user_id',
        'sender_name',
        'sender_address',
        'sender_suburb',
        'sender_state',
        'sender_postcode',
        'receiver_name',
        'receiver_address',
        'receiver_suburb',
        'receiver_state',
        'receiver_postcode',
        'courier_name',
        'service_name',
        'status',
        'total_price_cents',
        'tracking_number',
        'consignment_number',
        'label_url',
        'source',                // 'manual' or 'shopify'
        'external_order_id',     // Shopify Order ID
        'external_order_number',
    ];

    

    // --- RELATIONSHIPS (These were likely missing) ---

    // A shipment belongs to a Company
    public function company()
    {
        return $this->belongsTo(Company::class);
    }

    // A shipment belongs to the User who created it
    public function user()
    {
        return $this->belongsTo(User::class);
    }

    // A shipment has many Items (boxes, pallets, etc.)
    public function items()
    {
        return $this->hasMany(ShipmentItem::class);
    }
    public function quotes()
    {
        return $this->hasMany(ShipmentQuote::class);
    }
    public function getLabelUrlAttribute($value)
    {
        // 1. If null, return null
        if (!$value) return null;

        // 2. Legacy Support: If it's already a full URL (e.g. from a dummy fallback), return it.
        if (str_starts_with($value, 'http')) {
            return $value;
        }

        // 3. ENTERPRISE STANDARD: Generate URL dynamically using Named Routes.
        // This is robust. If you change your API to /v2/, this line effectively updates itself.
        return route('api.v1.shipments.label', ['shipment' => $this->id]);
    }
}

--- FILE: ./app/Models/CourierMapping.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Support\Facades\Cache;

class CourierMapping extends Model
{
    protected $guarded = ['id'];

    /**
     * Resolve a mapping efficiently using Cache.
     */

    public function carrierConfig(): BelongsTo
    {
        return $this->belongsTo(CarrierConfig::class);
    }
    public static function resolve(string $courier, string $field, string $input): ?array
    {
        $input = strtolower(trim($input));
        
        // Cache key to prevent hitting DB for every single item in a loop
        $cacheKey = "mapping_{$courier}_{$field}_{$input}";

        return Cache::remember($cacheKey, 3600, function () use ($courier, $field, $input) {
            $mapping = self::where('courier_code', $courier)
                ->where('target_field', $field)
                ->where('input_value', $input)
                ->first();

            return $mapping ? [
                'code' => $mapping->output_code,
                'description' => $mapping->output_description
            ] : null;
        });
    }
}

--- FILE: ./app/Models/Company.php ---

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Company extends Model
{
    use HasFactory;

    // These are the fields we allow to be mass-assigned
    protected $fillable = [
        'abn',
        'abn_status',
        'entity_name',
        'trading_name',
        'address_line_1',
        'suburb',
        'state',
        'postcode',
        'country_code',
        'currency',
        'timezone',
        'wallet_balance',
        'billing_email',
    ];

    protected $casts = [
        'wallet_balance' => 'decimal:2',
    ];

    public function users()
    {
        return $this->hasMany(User::class);
    }

    public function shipments()
    {
        return $this->hasMany(Shipment::class);
    }
}

--- FILE: ./app/Providers/AppServiceProvider.php ---

<?php

namespace App\Providers;

use Illuminate\Support\ServiceProvider;
use Illuminate\Support\Facades\URL;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        //
    }

    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        // Update this block
    if (config('app.env') === 'production' || str_contains(config('app.url'), 'ngrok')) {
        \Illuminate\Support\Facades\URL::forceScheme('https');
    }
    }
}


--- FILE: ./app/Jobs/GenerateShipmentLabel.php ---

<?php

namespace App\Jobs;

use App\Models\Shipment;
use App\Models\CourierMapping;
use App\Services\Couriers\CourierStrategyFactory;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Foundation\Bus\Dispatchable;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Queue\SerializesModels;
use Illuminate\Support\Facades\Log;
// FIX: Import Exception for detection
use Illuminate\Http\Client\RequestException;

class GenerateShipmentLabel implements ShouldQueue
{
    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;

    protected Shipment $shipment;
    
    // Increase tries to allow for multiple rate limit backoffs
    public $tries = 10;
    public $backoff = 60; // Default backoff

    public function __construct(Shipment $shipment)
    {
        $this->shipment = $shipment;
    }

    public function handle(CourierStrategyFactory $strategyFactory): void
    {
        Log::info("Job Started: Generating Label for Shipment #{$this->shipment->id} ({$this->shipment->courier_name})");

        if ($this->shipment->label_url) {
            Log::info("Job Skipped: Label already exists for Shipment #{$this->shipment->id}");
            return;
        }

        $mapping = CourierMapping::where('name_in_app', $this->shipment->courier_name)->first();
        
        if (!$mapping || !$mapping->carrierConfig) {
            Log::error("Job Failed: No configuration found for courier '{$this->shipment->courier_name}'");
            $this->fail(new \Exception("Missing Carrier Configuration")); 
            return;
        }

        try {
            $strategy = $strategyFactory->createStrategy($mapping->carrierConfig);
            
            $labelUrl = $strategy->generateLabel($this->shipment->consignment_number);

            if ($labelUrl) {
                $this->shipment->update(['label_url' => $labelUrl]);
                Log::info("Job Success: Label saved for Shipment #{$this->shipment->id}");
            } else {
                throw new \Exception("Strategy returned null for label.");
            }
        } catch (\Throwable $e) {
            
            // --- FIX: Handle 429 Rate Limiting Gracefully ---
            // If the API says "Too Many Requests", we don't fail. We wait.
            if ($e->getCode() === 429 || 
               ($e instanceof RequestException && $e->response->status() === 429)) {
                
                Log::warning("Job Rate Limited (429). Releasing back to queue for 2 minutes.");
                
                // Release job back to queue, available in 120 seconds
                $this->release(120); 
                return;
            }
            // ------------------------------------------------

            Log::error("Job Exception: " . $e->getMessage());
            throw $e; 
        }
    }
}

--- FILE: ./app/Jobs/UpdateShopifyFulfillment.php ---

<?php

namespace App\Jobs;

use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Foundation\Bus\Dispatchable;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Queue\SerializesModels;
use Illuminate\Support\Facades\Log;
use App\Models\Shipment;
use App\Models\UserIntegration;
use App\Services\Integrations\ShopifyService;

class UpdateShopifyFulfillment implements ShouldQueue
{
    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;

    protected $shipment;

    /**
     * Create a new job instance.
     */
    public function __construct(Shipment $shipment)
    {
        $this->shipment = $shipment;
    }

    /**
     * Execute the job.
     */
    public function handle(): void
    {
        // 1. Check if this is a Shopify Shipment
        if ($this->shipment->source !== 'shopify' || !$this->shipment->external_order_id) {
            return; // Not a Shopify order, skip.
        }

        Log::info("Job: Updating Shopify Fulfillment for Shipment #{$this->shipment->id}");

        // 2. Find the Integration Config
        // We need the API Key to talk to Shopify
        $integration = UserIntegration::where('company_id', $this->shipment->company_id)
            ->where('platform', 'shopify')
            ->where('is_active', true)
            ->first();

        if (!$integration) {
            Log::error("Job Failed: No active Shopify connection found for Company {$this->shipment->company_id}");
            return;
        }

        try {
            // 3. Call the Service to Push Update
            $service = new ShopifyService($integration);
            $service->markOrderFulfilled($this->shipment);
            
            Log::info("Job: Successfully fulfilled Shopify Order #{$this->shipment->external_order_number}");

        } catch (\Exception $e) {
            Log::error("Job Failed: Shopify Fulfillment Error: " . $e->getMessage());
            // We do not fail() the job because the shipment is already booked. 
            // We don't want to retry infinitely if Shopify is down or the order is deleted.
        }
    }
}

--- FILE: ./app/Jobs/SyncShopifyStore.php ---

<?php

namespace App\Jobs;

use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Foundation\Bus\Dispatchable;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Queue\SerializesModels;
use Illuminate\Support\Facades\Log;
use App\Models\UserIntegration;
use App\Services\Integrations\ShopifyService;

class SyncShopifyStore implements ShouldQueue
{
    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;

    protected $integration;

    /**
     * Create a new job instance.
     */
    public function __construct(UserIntegration $integration)
    {
        $this->integration = $integration;
    }

    /**
     * Execute the job.
     */
    public function handle(): void
    {
        Log::info("Auto-Sync: Starting for Store: {$this->integration->store_url}");

        try {
            $service = new ShopifyService($this->integration);
            
            // This reuses your existing logic (Import -> Save -> Dispatch Rate Job)
            $count = $service->importOrders();

            Log::info("Auto-Sync: Imported {$count} orders for {$this->integration->store_url}");

        } catch (\Exception $e) {
            // We log the error but do not fail the job loudly, 
            // so we don't spam your failed_jobs table if a user's token expired.
            Log::error("Auto-Sync Failed for {$this->integration->store_url}: " . $e->getMessage());
            
            // Optional: If token is invalid (401), mark integration as 'inactive' automatically?
            // For now, we just log it.
        }
    }
}

--- FILE: ./app/Jobs/FetchShipmentRates.php ---

<?php

namespace App\Jobs;

use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Foundation\Bus\Dispatchable;
use Illuminate\Queue\InteractsWithQueue;
use Illuminate\Queue\SerializesModels;
use Illuminate\Support\Facades\Log;
use App\Models\Shipment;
use App\Models\ShipmentQuote;
use App\Services\Pricing\RateService;

class FetchShipmentRates implements ShouldQueue
{
    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;

    protected $shipment;

    /**
     * Create a new job instance.
     */
    public function __construct(Shipment $shipment)
    {
        $this->shipment = $shipment;
    }

    /**
     * Execute the job.
     */
    public function handle(RateService $rateService): void
    {
        Log::info("Job: Fetching rates for Shipment #{$this->shipment->id}");

        try {
            // 1. Prepare Standard Payload
            // We map the shipment model to the array structure RateService expects.
            // This ensures logic is identical to manual frontend requests.
            $payload = [
                'sender_suburb'     => $this->shipment->sender_suburb,
                'sender_state'      => $this->shipment->sender_state,
                'sender_postcode'   => $this->shipment->sender_postcode,
                'receiver_suburb'   => $this->shipment->receiver_suburb,
                'receiver_state'    => $this->shipment->receiver_state,
                'receiver_postcode' => $this->shipment->receiver_postcode,
                'items'             => $this->shipment->items->map(function($item) {
                    return [
                        'weight'   => (float) $item->weight,
                        'length'   => (float) $item->length,
                        'width'    => (float) $item->width,
                        'height'   => (float) $item->height,
                        'quantity' => (int) $item->quantity,
                        'type'     => $item->type
                    ];
                })->toArray()
            ];

            // 2. Call the Standard Service
            $rates = $rateService->getRates($payload);

            // 3. Clear old quotes (if re-running)
            $this->shipment->quotes()->delete();

            // 4. Save New Quotes
            foreach ($rates as $rate) {
                ShipmentQuote::create([
                    'shipment_id'  => $this->shipment->id,
                    'courier_name' => $rate['courier_name'],
                    'service_name' => $rate['service_name'],
                    'service_code' => $rate['service_code'] ?? 'STD',
                    'price_cents'  => $rate['price_cents'] ?? 0,
                    'eta'          => $rate['eta'] ?? ''
                ]);
            }

            Log::info("Job: Saved " . count($rates) . " rates for Shipment #{$this->shipment->id}");

        } catch (\Exception $e) {
            Log::error("Job Failed: Could not fetch rates for Shipment #{$this->shipment->id}. Error: " . $e->getMessage());
            // Optional: $this->fail($e); to mark job as failed in DB
        }
    }
}

--- FILE: ./app/Notifications/SupportTicketUpdated.php ---

<?php

namespace App\Notifications;

use App\Models\SupportTicket;
use App\Models\User;
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Notifications\Messages\MailMessage;
use Illuminate\Notifications\Notification;

class SupportTicketUpdated extends Notification implements ShouldQueue
{
    use Queueable;

    protected $ticket;
    protected $sender;
    protected $messageContent;

    public function __construct(SupportTicket $ticket, User $sender, string $messageContent)
    {
        $this->ticket = $ticket;
        $this->sender = $sender;
        $this->messageContent = $messageContent;
    }

    public function via(object $notifiable): array
    {
        // Store in DB for "Bell Icon", Send Email for visibility
        return ['mail', 'database'];
    }

    public function toMail(object $notifiable): MailMessage
    {
        $role = $this->sender->role === 'super_admin' ? 'Support Team' : 'User';

        return (new MailMessage)
                    ->subject("New Reply on Ticket #{$this->ticket->id} - {$this->ticket->subject}")
                    ->greeting("Hello {$notifiable->first_name},")
                    ->line("There is a new reply from {$this->sender->first_name} ({$role}).")
                    ->line('"' . \Illuminate\Support\Str::limit($this->messageContent, 100) . '"')
                    ->action('View Ticket', url("/dashboard/support/{$this->ticket->id}"))
                    ->line('Thank you for using TinExpress.');
    }

    public function toArray(object $notifiable): array
    {
        return [
            'ticket_id' => $this->ticket->id,
            'subject' => $this->ticket->subject,
            'sender_name' => $this->sender->first_name,
            'message_preview' => \Illuminate\Support\Str::limit($this->messageContent, 50),
            'action_url' => "/dashboard/support/{$this->ticket->id}"
        ];
    }
}

--- FILE: ./app/Http/Requests/Rates/StoreShipmentRequest.php ---

<?php

namespace App\Http\Requests\Rates;

use Illuminate\Foundation\Http\FormRequest;

class StoreShipmentRequest extends FormRequest
{
    public function authorize(): bool
    {
        return true;
    }

    public function rules(): array
    {
        return [
            'sender_name' => 'required|string',
            'sender_postcode' => 'required|string',
            'sender_suburb' => 'required|string',
            'sender_state' => 'required|string',
            
            'receiver_name' => 'required|string',
            'receiver_address' => 'required|string',
            'receiver_suburb' => 'required|string',
            'receiver_state' => 'required|string',
            'receiver_postcode' => 'required|string',
            
            'items' => 'required|array|min:1',
            // --- FIX IS HERE ---
            'items.*.type' => 'nullable|string', 
            
            'items.*.length' => 'required|numeric|min:1',
            'items.*.width' => 'required|numeric|min:1',
            'items.*.height' => 'required|numeric|min:1',
            'items.*.weight' => 'required|numeric|min:0.1',
            'items.*.quantity' => 'required|integer|min:1',
        ];
    }
}

--- FILE: ./app/Http/Requests/Auth/RegisterRequest.php ---

<?php

namespace App\Http\Requests\Auth;

use Illuminate\Foundation\Http\FormRequest;
use Illuminate\Validation\Rules\Password;

class RegisterRequest extends FormRequest
{
    public function authorize(): bool
    {
        return true;
    }

    public function rules(): array
    {
        return [
            // Company Details
            'abn' => ['required', 'string', 'size:11', 'unique:companies,abn'],
            'company_name' => ['required', 'string', 'max:255'], // We fallback to this if ABN lookup fails/is manual
            
            // User Details
            'first_name' => ['required', 'string', 'max:255'],
            'last_name' => ['required', 'string', 'max:255'],
            'email' => ['required', 'email', 'unique:users,email'],
            'password' => ['required', 'confirmed', Password::defaults()],
            
            // Address (Optional for now, but good to have)
            'address' => ['nullable', 'string'],
            'postcode' => ['nullable', 'string', 'max:10'],
        ];
    }
}

--- FILE: ./app/Http/Middleware/EnsureSuperAdmin.php ---

<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Symfony\Component\HttpFoundation\Response;

class EnsureSuperAdmin
{
    public function handle(Request $request, Closure $next): Response
    {
        if (!$request->user() || !$request->user()->isSuperAdmin()) {
            return response()->json(['message' => 'Unauthorized. Super Admin Access Required.'], 403);
        }

        return $next($request);
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/AuthController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use App\Http\Requests\Auth\RegisterRequest;
use App\Models\Company;
use App\Models\User;
use App\Services\AbnLookupService;
use Illuminate\Auth\Events\Registered;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Facades\Auth;
use Laravel\Sanctum\HasApiTokens;

class AuthController extends Controller
{
    public function register(RegisterRequest $request, AbnLookupService $abnService)
    {
        $abnDetails = $abnService->lookup($request->abn);
        
        // Strict ABN validation
        if (!$abnDetails || $abnDetails['status'] !== 'Active') {
            return response()->json(['message' => 'Invalid ABN'], 422);
        }

        $user = DB::transaction(function () use ($request, $abnDetails) {
            $company = Company::create([
                'entity_name' => $abnDetails['entity_name'],
                'abn' => $request->abn,
                'abn_status' => $abnDetails['status'],
                'billing_email' => $request->email,
            ]);

            return User::create([
                'company_id' => $company->id,
                'first_name' => $request->first_name,
                'last_name' => $request->last_name,
                'email' => $request->email,
                'password' => Hash::make($request->password),
                'role' => User::ROLE_COMPANY_ADMIN, 
            ]);
        });

        event(new Registered($user));
        
        $token = $user->createToken('auth_token')->plainTextToken;

        return response()->json([
            'message' => 'Registration successful.',
            'access_token' => $token,
            'user' => $user
        ], 201);
    }

    public function login(Request $request)
    {
        $credentials = $request->validate([
            'email' => 'required|email',
            'password' => 'required',
        ]);

        if (!Auth::attempt($credentials)) {
            return response()->json([
                'message' => 'Invalid login details'
            ], 401);
        }

        $user = User::where('email', $request->email)->firstOrFail();
        
        // Delete old tokens to keep session clean
        $user->tokens()->delete();

        $token = $user->createToken('auth_token')->plainTextToken;

        return response()->json([
            'message' => 'Login successful',
            'access_token' => $token,
            'token_type' => 'Bearer',
            'user' => $user // <--- CRITICAL: Sending User Data to Frontend
        ]);
    }

    public function logout(Request $request)
    {
        $request->user()->currentAccessToken()->delete();
        return response()->json(['message' => 'Logged out successfully']);
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/AdminController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use App\Models\Company;
use App\Models\CarrierConfig;
use App\Models\Shipment;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;

class AdminController extends Controller
{
    public function stats()
    {
        return response()->json([
            'total_companies' => Company::count(),
            'total_shipments' => Shipment::count(),
            'total_revenue'   => Shipment::sum('total_price_cents'),
            'active_carriers' => CarrierConfig::where('is_active', true)->count(),
        ]);
    }

    /**
     * FIX: Simplified Companies List
     */
    public function companies(Request $request)
    {
        // Eager load counts to ensure data is populated
        $query = Company::withCount(['users', 'shipments']);

        if ($search = $request->input('search')) {
            $query->where('entity_name', 'like', "%{$search}%")
                  ->orWhere('billing_email', 'like', "%{$search}%");
        }

        // Return standard pagination
        return response()->json($query->latest()->paginate(15));
    }

    // ... (keep topUpWallet and toggleStatus methods as they were) ...
    public function topUpWallet(Request $request, Company $company)
    {
        $request->validate(['amount' => 'required|numeric|min:1']);
        $company->increment('wallet_balance', $request->amount);
        return response()->json(['message' => 'Wallet updated']);
    }

    public function toggleStatus(Company $company)
    {
        $company->abn_status = ($company->abn_status === 'Active') ? 'Suspended' : 'Active';
        $company->save();
        return response()->json(['status' => $company->abn_status]);
    }

    public function updateCompany(Request $request, Company $company)
    {
        $validated = $request->validate([
            'entity_name'   => 'required|string|max:255',
            'billing_email' => 'required|email',
            'abn'           => 'required|string|size:11',
            'abn_status'    => 'required|in:Active,Suspended',
        ]);

        $company->update($validated);

        return response()->json(['message' => 'Company details updated successfully']);
    }

    public function companyShipments(Company $company)
    {
        $shipments = $company->shipments()
            ->latest()
            ->paginate(10); // 10 per page for the modal

        return response()->json($shipments);
    }

    public function carriers()
    {
        // Hide secrets in the list view for security
        return response()->json(CarrierConfig::all()->makeHidden(['api_secret', 'api_key']));
    }

    public function toggleCarrier(CarrierConfig $carrier)
    {
        $carrier->update(['is_active' => !$carrier->is_active]);
        return response()->json(['message' => 'Carrier status updated']);
    }

    /**
     * NEW: Update Carrier Configuration
     */
    public function updateCarrier(Request $request, CarrierConfig $carrier)
    {
        $validated = $request->validate([
            'account_code' => 'nullable|string',
            'api_key'      => 'nullable|string', // Only provided if changing
            'api_secret'   => 'nullable|string', // Only provided if changing
            'environment'  => 'required|in:test,production',
        ]);

        // Security: Remove null/empty keys so we don't overwrite existing encrypted data with blanks
        $dataToUpdate = array_filter($validated, fn($value) => !is_null($value) && $value !== '');

        $carrier->update($dataToUpdate);

        return response()->json(['message' => 'Carrier configuration updated successfully']);
    }

    // ... existing code ...

    /**
     * GLOBAL USERS LIST
     */
    public function users(Request $request)
    {
        $query = \App\Models\User::with('company');

        // Search by Name or Email
        if ($search = $request->input('search')) {
            $query->where(function($q) use ($search) {
                $q->where('first_name', 'like', "%{$search}%")
                  ->orWhere('last_name', 'like', "%{$search}%")
                  ->orWhere('email', 'like', "%{$search}%");
            });
        }

        // Filter by Role
        if ($role = $request->input('role')) {
            $query->where('role', $role);
        }

        return response()->json($query->latest()->paginate(20));
    }

    /**
     * GET USERS FOR A SPECIFIC COMPANY
     */
    public function companyUsers(Company $company)
    {
        return response()->json($company->users()->latest()->get());
    }

    /**
     * CREATE USER FOR COMPANY
     */
    public function storeCompanyUser(Request $request, Company $company)
    {
        $validated = $request->validate([
            'first_name' => 'required|string',
            'last_name'  => 'required|string',
            'email'      => 'required|email|unique:users',
            'password'   => 'required|min:8',
            'role'       => 'required|in:company_admin,company_user'
        ]);

        $user = $company->users()->create([
            'first_name' => $validated['first_name'],
            'last_name'  => $validated['last_name'],
            'email'      => $validated['email'],
            'password'   => \Illuminate\Support\Facades\Hash::make($validated['password']),
            'role'       => $validated['role'],
            'email_verified_at' => now(),
        ]);

        return response()->json(['message' => 'User created successfully', 'user' => $user]);
    }

    /**
     * DELETE USER
     */
    public function deleteUser(\App\Models\User $user)
    {
        // Prevent deleting yourself
        if ($user->id === auth()->id()) {
            return response()->json(['message' => 'Cannot delete yourself.'], 403);
        }

        $user->delete();
        return response()->json(['message' => 'User deleted successfully']);
    }

    /**
     * GLOBAL SHIPMENTS LIST (With Filters)
     */
    public function shipments(Request $request)
    {
        $query = Shipment::with('company');

        // Filter: Status
        if ($status = $request->input('status')) {
            $query->where('status', $status);
        }

        // Filter: Courier
        if ($courier = $request->input('courier')) {
            $query->where('courier_name', 'like', "%{$courier}%");
        }

        // Search: Tracking or ID
        if ($search = $request->input('search')) {
            $query->where(function($q) use ($search) {
                $q->where('tracking_number', 'like', "%{$search}%")
                  ->orWhere('id', $search);
            });
        }

        return response()->json($query->latest()->paginate(20));
    }

    /**
     * ADMIN SHIPMENT DETAILS
     */
    public function showShipment($id)
    {
        // Bypassing company policy check for Super Admin
        $shipment = Shipment::with(['items', 'company', 'quotes'])->findOrFail($id);
        return response()->json($shipment);
    }

    public function companiesList() {
    return response()->json(Company::select('id', 'entity_name')->orderBy('entity_name')->get());
}
}


--- FILE: ./app/Http/Controllers/Api/V1/CompanyController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use App\Services\AbnLookupService;

class CompanyController extends Controller
{
    protected $abnService;

    public function __construct(AbnLookupService $abnService)
    {
        $this->abnService = $abnService;
    }

    /**
     * Get the current user's company profile.
     */
    public function show(Request $request)
    {
        // Security: The relationship ensures we only get the user's own company
        return response()->json([
            'data' => $request->user()->company
        ]);
    }

    /**
     * Update company details.
     */
    public function update(Request $request)
    {
        $user = $request->user();

        // Security: Only Admins can update company settings
        if (!$user->isCompanyAdmin()) {
            return response()->json(['message' => 'Unauthorized action.'], 403);
        }

        $validated = $request->validate([
            'trading_name' => 'nullable|string|max:255',
            'address_line_1' => 'nullable|string|max:255',
            'suburb' => 'nullable|string|max:100',
            'state' => 'nullable|string|max:50',
            'postcode' => 'nullable|string|max:20',
            'billing_email' => 'required|email',
        ]);

        $user->company->update($validated);

        return response()->json([
            'message' => 'Company profile updated successfully.',
            'data' => $user->company
        ]);
    }

    /**
     * Verify ABN on demand (for settings page).
     */
    /**
     * Verify ABN on demand.
     * Route: GET /api/v1/abn-lookup/{abn}
     */
    public function verifyAbn(string $abn) // FIX: Accept string argument directly from Route
    {
        // 1. Pass the route parameter directly to the service
        // (The service already handles sanitization and validation)
        $result = $this->abnService->lookup($abn);

        // 2. Check logic
        if (!$result || $result['status'] !== 'Active') {
            return response()->json(['message' => 'Invalid or inactive ABN.'], 422);
        }

        return response()->json(['data' => $result]);
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/IntegrationController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use App\Models\UserIntegration;
use App\Services\Integrations\ShopifyService;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Http; // <--- Needed for the API call
use Illuminate\Support\Facades\Log;

class IntegrationController extends Controller
{
    /**
     * List all integrations for the current company
     */
    public function index()
    {
        return response()->json(
            UserIntegration::where('company_id', Auth::user()->company_id)
                ->orderBy('created_at', 'desc')
                ->get()
        );
    }

    /**
     * Manual Connection (Legacy/Alternative)
     */
    public function store(Request $request)
    {
        $request->validate([
            'store_url' => 'required|string',
            'api_secret' => 'required|string',
        ]);

        $integration = UserIntegration::updateOrCreate(
            [
                'company_id' => Auth::user()->company_id, 
                'platform' => 'shopify',
                'store_url' => $request->store_url
            ],
            [
                'user_id' => Auth::id(),
                'api_secret' => $request->api_secret,
                'is_active' => true
            ]
        );

        // Validate immediately
        try {
            $service = new ShopifyService($integration);
            if (!$service->validateConnection()) {
                $integration->delete(); 
                return response()->json(['message' => 'Connection Failed. Check your URL or Token.'], 422);
            }
        } catch (\Exception $e) {
            $integration->delete();
            return response()->json(['message' => 'Error: ' . $e->getMessage()], 422);
        }

        return response()->json(['message' => 'Shopify Connected Successfully!']);
    }

    /**
     * Sync Orders Manually
     */
    public function sync($id)
    {
        $integration = UserIntegration::where('company_id', Auth::user()->company_id)
            ->findOrFail($id);
        
        try {
            $service = new ShopifyService($integration);
            $count = $service->importOrders();
            return response()->json(['message' => "Imported {$count} new orders."]);
        } catch (\Exception $e) {
            Log::error("Sync Failed", ['error' => $e->getMessage()]);
            return response()->json(['message' => 'Sync Failed: ' . $e->getMessage()], 500);
        }
    }

    /**
     * Remove/Disconnect an integration
     * ENTERPRISE UPDATE: Uninstalls the app from Shopify as well.
     */
    public function destroy($id)
    {
        $integration = UserIntegration::where('company_id', Auth::user()->company_id)
            ->findOrFail($id);

        // 1. If it is Shopify, tell them to uninstall us
        if ($integration->platform === 'shopify' && $integration->api_secret) {
            try {
                $shopDomain = $integration->store_url;
                // Ensure domain format is clean
                $shopDomain = preg_replace('#^https?://#', '', $shopDomain);
                $shopDomain = rtrim($shopDomain, '/');

                Log::info("Uninstalling app from Shopify Store: {$shopDomain}");

                $response = Http::withHeaders([
                    'X-Shopify-Access-Token' => $integration->api_secret,
                ])->delete("https://{$shopDomain}/admin/api/2024-01/api_permissions/current.json");

                if ($response->successful()) {
                    Log::info("Successfully uninstalled from Shopify: {$shopDomain}");
                } else {
                    Log::warning("Failed to uninstall from Shopify (might already be removed): " . $response->body());
                }

            } catch (\Exception $e) {
                // We do not stop the local deletion if the remote one fails (e.g. internet down)
                Log::error("Error uninstalling from Shopify: " . $e->getMessage());
            }
        }

        // 2. Delete Local Record
        $integration->delete();

        return response()->json(['message' => 'Integration disconnected and uninstalled successfully.']);
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/NotificationController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;

class NotificationController extends Controller
{
    /**
     * Get unread notifications
     */
    public function index()
    {
        // Return top 10 unread notifications
        return response()->json(
            Auth::user()->unreadNotifications()->latest()->take(10)->get()
        );
    }

    /**
     * Mark all as read
     */
    public function markAllRead()
    {
        Auth::user()->unreadNotifications->markAsRead();
        return response()->json(['message' => 'All marked as read']);
    }

    /**
     * Mark specific notification as read
     */
    public function markRead($id)
    {
        $notification = Auth::user()->notifications()->where('id', $id)->first();
        if ($notification) {
            $notification->markAsRead();
        }
        return response()->json(['message' => 'Marked as read']);
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/RateController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use App\Models\Shipment;
use App\Models\ShipmentItem;
use App\Models\ShipmentQuote; // <--- Added Import
use App\Services\Pricing\RateService; // <--- Ensure this Service exists from previous steps
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;

class RateController extends Controller
{
    protected $rateService;

    public function __construct(RateService $rateService)
    {
        $this->rateService = $rateService;
    }

    public function store(Request $request)
    {
        // 1. Validation
        $validated = $request->validate([
            'sender_name' => 'required|string',
            'sender_address' => 'nullable|string',
            'sender_suburb' => 'required|string',
            'sender_postcode' => 'required|string',
            'sender_state' => 'required|string',
            'receiver_name' => 'required|string',
            'receiver_address' => 'required|string',
            'receiver_suburb' => 'required|string',
            'receiver_postcode' => 'required|string',
            'receiver_state' => 'required|string',
            'items' => 'required|array|min:1',
            'items.*.weight' => 'required|numeric',
            'items.*.length' => 'required|numeric',
            'items.*.width' => 'required|numeric',
            'items.*.height' => 'required|numeric',
            'items.*.quantity' => 'required|integer|min:1',
            'items.*.type' => 'required|string',
        ]);

        // 2. Create Shipment & Save Quotes in a Transaction
        return DB::transaction(function () use ($validated, $request) {
            $user = $request->user();

            // A. Create the Shipment (Draft)
            $shipment = Shipment::create([
                'company_id' => $user ? $user->company_id : null, // Handle guest quotes if needed
                'user_id' => $user ? $user->id : null,
                'sender_name' => $validated['sender_name'],
                'sender_address' => $validated['sender_address'] ?? 'N/A',
                'sender_suburb' => $validated['sender_suburb'],
                'sender_state' => $validated['sender_state'],
                'sender_postcode' => $validated['sender_postcode'],
                'receiver_name' => $validated['receiver_name'],
                'receiver_address' => $validated['receiver_address'],
                'receiver_suburb' => $validated['receiver_suburb'],
                'receiver_state' => $validated['receiver_state'],
                'receiver_postcode' => $validated['receiver_postcode'],
                'status' => 'draft'
            ]);

            // B. Create Items
            foreach ($validated['items'] as $item) {
                ShipmentItem::create([
                    'shipment_id' => $shipment->id,
                    'type' => $item['type'],
                    'length' => $item['length'],
                    'width' => $item['width'],
                    'height' => $item['height'],
                    'weight' => $item['weight'],
                    'quantity' => $item['quantity'],
                ]);
            }

            // C. Get Rates from Service (Logic from previous steps)
            // Note: We are passing the array of items to the service
            $rates = $this->rateService->getRates($validated);

            // D. SAVE THE RATES TO DATABASE
            $savedQuotes = [];
            foreach ($rates as $rate) {
                $savedQuotes[] = ShipmentQuote::create([
                    'shipment_id' => $shipment->id,
                    'courier_name' => $rate['courier_name'],
                    'service_name' => $rate['service_name'],
                    'service_code' => $rate['service_code'] ?? 'STD', 
                    'price_cents' => $rate['price_cents'] ?? ($rate['price'] ?? 0),
                    'eta' => $rate['eta'] ?? 'TBC'
                ]);
            }

            return response()->json([
                'message' => 'Rates calculated successfully',
                'shipment_id' => $shipment->id,
                'rates' => $savedQuotes // Return the DB models
            ]);
        });
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/TeamController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use App\Models\User;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Hash;
use Illuminate\Validation\Rule;

class TeamController extends Controller
{
    // List all employees in MY company
    public function index(Request $request)
    {
        $currentUser = $request->user();

        // Security Check: Only admins can see the list
        if (!$currentUser->isCompanyAdmin()) {
            return response()->json(['message' => 'Unauthorized'], 403);
        }

        $employees = User::where('company_id', $currentUser->company_id)
            ->orderBy('created_at', 'desc')
            ->get(['id', 'first_name', 'last_name', 'email', 'role', 'created_at']);

        return response()->json(['data' => $employees]);
    }

    // Add a new employee
    public function store(Request $request)
    {
        $currentUser = $request->user();

        if (!$currentUser->isCompanyAdmin()) {
            return response()->json(['message' => 'Unauthorized'], 403);
        }

        $validated = $request->validate([
            'first_name' => 'required|string|max:255',
            'last_name'  => 'required|string|max:255',
            'email'      => ['required', 'email', 'unique:users,email'], // Email must be unique globally
            'password'   => 'required|string|min:8',
        ]);

        $user = User::create([
            'company_id' => $currentUser->company_id, // Link to SAME company
            'first_name' => $validated['first_name'],
            'last_name'  => $validated['last_name'],
            'email'      => $validated['email'],
            'password'   => Hash::make($validated['password']),
            'role'       => User::ROLE_COMPANY_USER, // Default to standard user
        ]);

        return response()->json([
            'message' => 'Team member added successfully',
            'user' => $user
        ], 201);
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/ShipmentController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use App\Models\Shipment;
use App\Models\CourierMapping;
use App\Services\Couriers\CourierStrategyFactory;
use App\Services\Couriers\CourierService;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Log;

class ShipmentController extends Controller
{
    protected $courierFactory;

    public function __construct(CourierStrategyFactory $courierFactory)
    {
        $this->courierFactory = $courierFactory;
    }

    public function index(Request $request)
    {
        $user = $request->user();
        $query = Shipment::where('company_id', $user->company_id);

        if ($request->search) {
            $term = $request->search;
            $query->where(function ($q) use ($term) {
                $q->where('id', 'like', "%$term%")
                    ->orWhere('tracking_number', 'like', "%$term%")
                    ->orWhere('receiver_name', 'like', "%$term%")
                    ->orWhere('external_order_number', 'like', "%$term%");
            });
        }

        return response()->json($query->with('items')
            ->orderBy('created_at', 'desc')
            ->paginate(10));
    }

    public function show(Request $request, Shipment $shipment)
    {
        if ($request->user()->company_id !== $shipment->company_id) {
            return response()->json(['message' => 'Unauthorized'], 403);
        }
        return response()->json($shipment->load(['items', 'user', 'quotes']));
    }

    public function book(Request $request, Shipment $shipment)
    {
        if ($request->user()->company_id !== $shipment->company_id) {
            return response()->json(['message' => 'Unauthorized'], 403);
        }

        if ($shipment->status !== 'draft') {
            return response()->json(['message' => 'Shipment is already booked'], 400);
        }

        $validated = $request->validate([
            'quote_id' => 'required|exists:shipment_quotes,id',
        ]);

        $selectedQuote = $shipment->quotes()->where('id', $validated['quote_id'])->firstOrFail();

        // 1. Resolve Strategy via DB Mapping
        $mapping = CourierMapping::where('name_in_app', $selectedQuote->courier_name)
            ->with('carrierConfig')
            ->first();

        if (!$mapping || !$mapping->carrierConfig) {
            return response()->json(['message' => 'Courier configuration not found.'], 500);
        }

        try {
            $strategy = $this->courierFactory->createStrategy($mapping->carrierConfig);

            // 2. Execute Booking
            $bookingResult = $strategy->createConsignment($shipment, $selectedQuote);

            // 3. Save Data (Including Label if strategy returned one immediately)
            $shipment->update([
                'status' => 'booked',
                'courier_name' => $selectedQuote->courier_name,
                'service_name' => $selectedQuote->service_name,
                'total_price_cents' => $selectedQuote->price_cents,
                'tracking_number' => $bookingResult['tracking_number'],
                'consignment_number' => $bookingResult['consignment_number'] ?? null,
                'label_url' => $bookingResult['label_url'] ?? null,
            ]);

            // 4. Handle Queue (Standardized Delay Logic)
            $delayMinutes = $mapping->carrierConfig->extra_settings['label_delay_minutes'] ?? 0;

            if ($delayMinutes > 0) {
                Log::info("Queueing label for {$shipment->courier_name} with {$delayMinutes}m delay.");
                \App\Jobs\GenerateShipmentLabel::dispatch($shipment)
                    ->delay(now()->addMinutes((int) $delayMinutes));
            } else {
                // Dispatch immediately. 
                // If label_url is already saved (e.g. Hunter), the Job will simply skip execution.
                \App\Jobs\GenerateShipmentLabel::dispatch($shipment);
            }

            // 5. ENTERPRISE ADDITION: Update Shopify (New Step 3 Logic)
            // If this shipment originated from Shopify, we must push the tracking number back.
            // This runs in the background so the user response is instant.
            if ($shipment->source === 'shopify') {
                \App\Jobs\UpdateShopifyFulfillment::dispatch($shipment);
            }

            return response()->json([
                'message' => 'Shipment booked successfully!',
                'shipment' => $shipment->fresh()
            ]);

        } catch (\Exception $e) {
            Log::error("Booking Error: " . $e->getMessage());
            return response()->json(['message' => 'Booking failed: ' . $e->getMessage()], 500);
        }
    }

    /**
     * SECURE LABEL DOWNLOAD
     */
    public function downloadLabel(Request $request, Shipment $shipment)
    {
        if ($request->user()->company_id !== $shipment->company_id) {
            abort(403, 'Unauthorized');
        }

        $filePath = $shipment->getRawOriginal('label_url');

        if (!$filePath || str_starts_with($filePath, 'http')) {
            abort(404, 'File not found on server storage.');
        }

        if (!\Illuminate\Support\Facades\Storage::disk('local')->exists($filePath)) {
            abort(404, 'File missing from secure storage.');
        }

        return \Illuminate\Support\Facades\Storage::disk('local')->download(
            $filePath,
            "Label-{$shipment->tracking_number}.pdf"
        );
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/SupportController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use App\Models\SupportTicket;
use App\Models\TicketMessage;
use App\Models\User;
use App\Notifications\SupportTicketUpdated;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Storage;
use Illuminate\Support\Facades\Notification;

class SupportController extends Controller
{
    // --- LIST TICKETS (FIXED SORTING) ---
    public function index(Request $request)
    {
        $user = Auth::user();
        $query = SupportTicket::with(['lastMessage', 'user', 'shipment']);

        // Admin sees ALL, User sees Company's
        if ($user->role === 'super_admin') {
            if ($request->status) $query->where('status', $request->status);
        } else {
            $query->where('company_id', $user->company_id);
        }

        // FIX: Sort by 'last_reply_at' so new messages bump ticket to top
        return response()->json($query->orderBy('last_reply_at', 'desc')->paginate(20));
    }

    // --- CREATE TICKET ---
    public function store(Request $request)
    {
        // ... validation ...
        $request->validate([
            'subject' => 'required|string|max:255',
            'priority' => 'required|in:low,medium,high,critical',
            'message' => 'required|string',
            'shipment_id' => 'nullable|exists:shipments,id',
            'file' => 'nullable|file|max:5120'
        ]);

        $ticket = SupportTicket::create([
            'user_id' => Auth::id(),
            'company_id' => Auth::user()->company_id,
            'shipment_id' => $request->shipment_id,
            'subject' => $request->subject,
            'priority' => $request->priority,
            'status' => 'open',
            'last_reply_at' => now(), // Initialize timestamp
        ]);

        $this->createMessage($ticket->id, $request->message, $request->file('file'));

        // Notify Admins about new ticket
        $admins = User::where('role', 'super_admin')->get();
        Notification::send($admins, new SupportTicketUpdated($ticket, Auth::user(), $request->message));

        return response()->json(['message' => 'Ticket created', 'ticket' => $ticket]);
    }

    // --- SHOW TICKET ---
    public function show($id)
    {
        // ... (Keep existing show method) ...
        $user = Auth::user();
        $ticket = SupportTicket::with(['messages.user', 'shipment'])->findOrFail($id);

        if ($user->role !== 'super_admin' && $ticket->company_id !== $user->company_id) {
            return response()->json(['message' => 'Unauthorized'], 403);
        }

        return response()->json($ticket);
    }

    // --- REPLY TO TICKET (NOTIFICATIONS ADDED) ---
    public function reply(Request $request, $id)
    {
        $request->validate([
            'message' => 'required|string',
            'file' => 'nullable|file|max:5120'
        ]);

        $ticket = SupportTicket::findOrFail($id);
        $user = Auth::user();
        
        // 1. Determine Status & Recipient
        $recipient = null;

        if ($user->role === 'super_admin') {
            $ticket->update(['status' => 'in_progress']);
            $recipient = $ticket->user; // Notify the Customer
        } else {
            $ticket->update(['status' => 'open']);
            $recipient = User::where('role', 'super_admin')->get(); // Notify Support Team
        }

        // 2. Bump the timestamp
        $ticket->update(['last_reply_at' => now()]);

        // 3. Save Message
        $this->createMessage($id, $request->message, $request->file('file'));

        // 4. Send Notification
        if ($recipient) {
            Notification::send($recipient, new SupportTicketUpdated($ticket, $user, $request->message));
        }

        return response()->json(['message' => 'Reply sent']);
    }

    // --- HELPER (Keep existing) ---
    private function createMessage($ticketId, $text, $file = null)
    {
        $path = null;
        $name = null;
        if ($file) {
            $name = $file->getClientOriginalName();
            $path = $file->store('support_attachments', 'public');
        }
        return TicketMessage::create([
            'support_ticket_id' => $ticketId,
            'user_id' => Auth::id(),
            'message' => $text,
            'attachment_path' => $path,
            'attachment_name' => $name
        ]);
    }

    // --- STATUS UPDATE (Keep existing) ---
    public function updateStatus(Request $request, $id) {
        // ... existing code ...
        if (Auth::user()->role !== 'super_admin') return response()->json(['message' => 'Unauthorized'], 403);
        $ticket = SupportTicket::findOrFail($id);
        $ticket->update(['status' => $request->status]);
        return response()->json(['message' => 'Status updated']);
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/ShopifyAuthController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Http;
use Illuminate\Support\Facades\Log;
use Illuminate\Support\Facades\Cache;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Str;
use App\Models\UserIntegration;
use App\Models\User;

class ShopifyAuthController extends Controller
{
    /**
     * 1. REDIRECT: User clicks "Connect", we send them to Shopify
     * Enterprise Change: Use Cache instead of Session for state persistence.
     */
    public function install(Request $request)
    {
        Log::info("Shopify Install Started.");

        $request->validate(['shop' => 'required|string']);

        // A. Capture User Context
        $user = $request->user();
        if (!$user) {
            Log::error("Shopify Install Failed: User is NULL/Unauthorized.");
            return response()->json(['error' => 'Unauthorized'], 401);
        }

        // Clean Shop URL to standard format (store.myshopify.com)
        $shop = $request->input('shop');
        $shop = preg_replace('#^https?://#', '', $shop);
        $shop = rtrim($shop, '/');
        if (!str_contains($shop, '.')) {
            $shop .= '.myshopify.com';
        }

        // B. Generate Secure State
        // We create a random token that serves as the key to our data
        $state = Str::random(40);

        // C. Store User Context in Server Cache (TTL: 10 minutes)
        // Key: 'shopify_oauth_{state}' => Value: {user_id}
        Cache::put('shopify_oauth_' . $state, $user->id, 600);

        // Configuration
        $clientId = config('services.shopify.key');
        $redirectUri = config('services.shopify.redirect');
        
        // Scopes: strictly what is needed for fulfillment and order sync
        $scopes = 'read_orders,write_fulfillments,read_locations,read_merchant_managed_fulfillment_orders,write_merchant_managed_fulfillment_orders,write_assigned_fulfillment_orders';

        $installUrl = "https://{$shop}/admin/oauth/authorize?client_id={$clientId}&scope={$scopes}&redirect_uri={$redirectUri}&state={$state}";

        return response()->json(['url' => $installUrl]);
    }

    /**
     * 2. CALLBACK: Shopify sends the user back with a Code
     */
    public function callback(Request $request)
    {
        Log::info("Shopify Callback Hit.", $request->all());

        $state = $request->input('state');
        $shop = $request->input('shop');
        $code = $request->input('code');

        // A. Validation: Check if state exists in Cache
        // Cache::pull retrieves the item AND deletes it immediately (prevents Replay Attacks)
        $userId = Cache::pull('shopify_oauth_' . $state);

        if (!$userId) {
            Log::error("Shopify OAuth Security Error: Invalid or Expired State", ['state' => $state]);
            return response()->json(['error' => 'Invalid Session State or Timeout. Please try again.'], 403);
        }

        // B. Restore User Context
        $user = User::find($userId);
        if (!$user) {
            Log::error("Shopify OAuth Error: User ID from cache not found in DB.", ['id' => $userId]);
            return response()->json(['error' => 'User not found.'], 404);
        }

        // C. Exchange Code for Access Token
        $response = Http::post("https://{$shop}/admin/oauth/access_token", [
            'client_id' => config('services.shopify.key'),
            'client_secret' => config('services.shopify.secret'),
            'code' => $code,
        ]);

        if ($response->failed()) {
            Log::error("Shopify OAuth Failed: " . $response->body());
            return response()->json(['error' => 'Authorization Failed from Shopify'], 500);
        }

        $accessToken = $response->json()['access_token'];

        // D. Save Integration
        // We use updateOrCreate so users can re-connect/refresh tokens easily
        UserIntegration::updateOrCreate(
            [
                'company_id' => $user->company_id,
                'platform' => 'shopify',
                'store_url' => $shop
            ],
            [
                'user_id' => $user->id,
                'api_secret' => $accessToken, 
                'api_key' => config('services.shopify.key'),
                'is_active' => true,
                'last_synced_at' => now()
            ]
        );

        Log::info("Shopify Connected Successfully for User: " . $user->name);

        // E. Redirect back to Frontend
        $frontendUrl = config('app.frontend_url', 'http://localhost:3000');
        return redirect()->to($frontendUrl . '/dashboard/integrations?success=true');
    }
}

--- FILE: ./app/Http/Controllers/Api/V1/PromoController.php ---

<?php

namespace App\Http\Controllers\Api\V1;

use App\Http\Controllers\Controller;
use App\Models\Promotion;
use Illuminate\Http\Request;

class PromoController extends Controller
{
    // ADMIN: List
    public function index() {
        return response()->json(Promotion::latest()->get());
    }

    // ADMIN: Create
    public function store(Request $request) {
        $validated = $request->validate([
            'code' => 'required|unique:promotions,code|uppercase|alpha_num',
            'type' => 'required|in:percentage,fixed',
            'value' => 'required|numeric|min:0',
            'max_uses' => 'nullable|integer',
            'min_spend' => 'nullable|numeric', // Input in Dollars
            'expires_at' => 'nullable|date',
        ]);

        $promo = Promotion::create([
            'code' => $validated['code'],
            'type' => $validated['type'],
            'value' => $validated['value'],
            'max_uses' => $validated['max_uses'],
            'min_spend_cents' => $validated['min_spend'] ? $validated['min_spend'] * 100 : null,
            'expires_at' => $validated['expires_at'],
        ]);

        return response()->json($promo);
    }

    // ADMIN: Toggle
    public function toggle(Promotion $promotion) {
        $promotion->update(['is_active' => !$promotion->is_active]);
        return response()->json(['message' => 'Updated']);
    }

    // USER: Validate Code
    public function validateCode(Request $request) {
        $request->validate(['code' => 'required', 'amount_cents' => 'required|integer']);
        
        $promo = Promotion::where('code', $request->code)->first();
        
        if (!$promo || !$promo->isValid($request->amount_cents)) {
            return response()->json(['message' => 'Invalid or expired code'], 422);
        }

        $discount = $promo->calculateDiscount($request->amount_cents);

        return response()->json([
            'promo_id' => $promo->id,
            'code' => $promo->code,
            'discount_cents' => $discount,
            'final_price_cents' => $request->amount_cents - $discount
        ]);
    }
}

--- FILE: ./app/Http/Controllers/Controller.php ---

<?php

namespace App\Http\Controllers;

abstract class Controller
{
    //
}


--- FILE: ./app/Services/AbnLookupService.php ---

<?php

namespace App\Services;

use Illuminate\Support\Facades\Http;
use Illuminate\Support\Facades\Log;

class AbnLookupService
{
    protected string $baseUrl = 'https://abr.business.gov.au/json/AbnDetails.aspx';

    /**
     * Lookup an ABN using the Official ABR API.
     */
    public function lookup(string $abn): ?array
    {
        // 1. Sanitize input
        $abn = preg_replace('/[^0-9]/', '', $abn);

        if (strlen($abn) !== 11) {
            return null;
        }

        // 2. Get API Key from .env
        $apiKey = config('services.abr.guid');

        // Fallback for Dev without Key: Return Mock if Key is missing
        if (empty($apiKey)) {
            Log::warning('ABN Lookup: No API Key found. Using mock data.');
            return $this->getMockData($abn);
        }

        try {
            // 3. Call the API
            $response = Http::get($this->baseUrl, [
                'abn' => $abn,
                'guid' => $apiKey,
                'callback' => 'callback' // ABR requires a callback param
            ]);

            if ($response->failed()) {
                Log::error('ABR API Error: ' . $response->status());
                return null;
            }

            // 4. Parse JSONP (The API returns `callback({...})`)
            $body = $response->body();
            $jsonString = $this->stripCallback($body);
            $data = json_decode($jsonString, true);

            // 5. Validate Response
            if (isset($data['Message']) && !empty($data['Message'])) {
                // API returns "Message" string if ABN is invalid
                return null;
            }

            // 6. Map to our App's Format
            return [
                'abn' => $data['Abn'] ?? $abn,
                'entity_name' => $data['EntityName'] ?? 'Unknown Entity',
                'status' => $data['AbnStatus'] ?? 'Active',
                'state' => $data['AddressState'] ?? '',
                'postcode' => $data['AddressPostcode'] ?? '',
                'trading_name' => $data['BusinessName'][0] ?? null // Grab first trading name if exists
            ];

        } catch (\Exception $e) {
            Log::error('ABN Lookup Exception: ' . $e->getMessage());
            return null;
        }
    }

    /**
     * Helper to clean JSONP response
     */
    private function stripCallback(string $responseBody): string
    {
        // Remove "callback(" from start and ")" from end
        $json = preg_replace('/^callback\((.*)\)$/s', '$1', $responseBody);
        return $json;
    }

    private function getMockData($abn): array
    {
        return [
            'abn' => $abn,
            'entity_name' => 'Mock Enterprise Pty Ltd',
            'status' => 'Active',
            'postcode' => '2000',
            'state' => 'NSW'
        ];
    }
}

--- FILE: ./app/Services/Pricing/RateService.php ---

<?php

namespace App\Services\Pricing;

use App\Services\Couriers\CourierStrategyFactory;
use Illuminate\Support\Facades\Log;

class RateService
{
    protected CourierStrategyFactory $factory;

    public function __construct(CourierStrategyFactory $factory)
    {
        $this->factory = $factory;
    }

    /**
     * Get rates from all active couriers.
     *
     * @param array $data Validated shipment data
     * @return array Combined list of rates
     */
    public function getRates(array $data): array
    {
        $allRates = [];
        
        // 1. Get all active courier strategies from your DB configuration
        $strategies = $this->factory->getActiveStrategies();

        // 2. Loop through each courier and fetch their rates
        foreach ($strategies as $courier) {
            try {
                // Each strategy knows how to talk to its specific API
                $quotes = $courier->getRates($data);
                
                foreach ($quotes as $quote) {
                    // Optional: Add a profit margin here (e.g., 20%)
                    // $quote['price_cents'] = (int)($quote['price_cents'] * 1.20);
                    
                    $allRates[] = $quote;
                }
                
            } catch (\Exception $e) {
                // If one courier fails (e.g. API down), log it but don't crash the whole page
                Log::error("Failed to get rates from " . $courier->getCarrierCode(), [
                    'error' => $e->getMessage()
                ]);
            }
        }

        $uniqueRates = [];
        $seen = [];

        foreach ($allRates as $rate) {
            $key = $rate['courier_name'] . '_' . ($rate['service_code'] ?? $rate['service_name']);
            if (!in_array($key, $seen)) {
                $uniqueRates[] = $rate;
                $seen[] = $key;
            }
        }
        $allRates = $uniqueRates;
        // ------------------------------

        // 3. Sort by cheapest price first
        usort($allRates, function ($a, $b) {
            return $a['price_cents'] <=> $b['price_cents'];
        });

        return $allRates;
    }
}

--- FILE: ./app/Services/Couriers/Strategy/MockCourierService.php ---

<?php

namespace App\Services\Couriers\Strategy;

use App\Services\Couriers\CourierInterface;
use App\Models\Shipment;
use App\Models\ShipmentQuote;

class MockCourierService implements CourierInterface
{
    public function getCarrierCode(): string
    {
        return 'mock_express';
    }

    public function getRates(array $data): array
    {
        // Return a dummy rate for testing/fallback
        return [
            [
                'courier_name' => 'Mock Express',
                'service_name' => 'Standard Road',
                'price_cents' => 2500, // $25.00
                'currency' => 'AUD',
                'eta' => '2-3 Days',
                'token' => 'mock_token_' . uniqid(),
            ]
        ];
    }

    public function createConsignment(Shipment $shipment, ShipmentQuote $quote): array
    {
        // 1. In a real integration, you would send JSON/XML to the courier API here.
        // 2. The courier would respond with a Label URL and Consignment ID.
        
        return [
            'consignment_number' => 'MOCK-CON-' . strtoupper(uniqid()),
            'tracking_number' => 'TRK-' . strtoupper(uniqid()),
            'label_url' => 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', // Dummy PDF for testing
        ];
    }

    public function trackShipment(string $trackingNumber): array
    {
        return [
            'status' => 'In Transit',
            'history' => [
                ['status' => 'Picked Up', 'timestamp' => now()->subDay()],
                ['status' => 'In Transit', 'timestamp' => now()],
            ]
        ];
    }
}

--- FILE: ./app/Services/Couriers/Strategy/TNTStrategy.php ---

<?php

namespace App\Services\Couriers\Strategy;

use App\Services\Couriers\CourierInterface;
use Illuminate\Support\Facades\Http;
use Exception;

class TNTStrategy implements CourierInterface
{
    // Generic Base URL for ExpressConnect
    protected string $baseUrl = 'https://express.tnt.com/expressconnect';
    protected string $username;
    protected string $password;
    protected string $accountNumber;

    public function __construct(string $username, string $password, string $accountNumber)
    {
        $this->username = $username;
        $this->password = $password;
        $this->accountNumber = $accountNumber;
    }

    public function getCarrierCode(): string
    {
        return 'tnt';
    }

    public function getRates(array $data): array
    {
        $xml = $this->buildXmlPayload($data);

        // Append specific endpoint for pricing
        $response = Http::asForm()->post("{$this->baseUrl}/pricing/getprice", [
            'xml_in' => $xml
        ]);

        if ($response->failed() || str_contains($response->body(), 'error_description')) {
             throw new \Exception("TNT API Error: " . $response->body());
        }

        return $this->parseResponse($response->body());
    }

    private function buildXmlPayload(array $data): string
    {
        $itemsXml = '';
        $totalWeight = 0;
        $totalVolume = 0;

        foreach ($data['items'] as $item) {
            $totalWeight += $item['weight'] * $item['quantity'];
            $volume = ($item['length'] * $item['width'] * $item['height']) / 1000000;
            $totalVolume += $volume * $item['quantity'];

            $itemsXml .= "<pieceLine>
                <numberOfPieces>{$item['quantity']}</numberOfPieces>
                <weight>{$item['weight']}</weight>
                <length>{$item['length']}</length>
                <width>{$item['width']}</width>
                <height>{$item['height']}</height>
            </pieceLine>";
        }

        $date = date('Y-m-d\TH:i:s', strtotime('+1 weekday'));

        return <<<XML
<?xml version="1.0" encoding="UTF-8"?>
<priceRequest>
    <appId>PC</appId>
    <appVersion>3.0</appVersion>
    <priceCheck>
        <rateId>rate1</rateId>
        <sender>
            <country>AU</country>
            <town>{$data['sender_suburb']}</town>
            <postcode>{$data['sender_postcode']}</postcode>
        </sender>
        <delivery>
            <country>AU</country>
            <town>{$data['receiver_suburb']}</town>
            <postcode>{$data['receiver_postcode']}</postcode>
        </delivery>
        <collectionDateTime>{$date}</collectionDateTime>
        <product><type>N</type></product>
        <account>
            <accountNumber>{$this->accountNumber}</accountNumber>
            <accountCountry>AU</accountCountry>
        </account>
        <currency>AUD</currency>
        <priceBreakDown>true</priceBreakDown>
        <consignmentDetails>
            <totalWeight>{$totalWeight}</totalWeight>
            <totalVolume>{$totalVolume}</totalVolume>
            <totalNumberOfPieces>{$data['items'][0]['quantity']}</totalNumberOfPieces>
        </consignmentDetails>
        <pieceLineList>{$itemsXml}</pieceLineList>
    </priceCheck>
    <login>
        <userId>{$this->username}</userId>
        <password>{$this->password}</password>
    </login>
</priceRequest>
XML;
    }

    private function parseResponse(string $xmlString): array
    {
        $rates = [];
        try {
            $xml = simplexml_load_string($xmlString);
            if (isset($xml->priceResponse->ratedService)) {
                foreach ($xml->priceResponse->ratedService as $service) {
                    $rates[] = [
                        'courier_name' => 'TNT / FedEx',
                        'service_name' => (string)$service->product->description,
                        'price_cents' => (int)((float)$service->totalPriceExclVat * 100),
                        'currency' => (string)$service->currency,
                        'eta' => 'N/A',
                        'token' => uniqid('tnt_'),
                    ];
                }
            }
        } catch (Exception $e) {
            // Quietly handle parse errors
        }
        return $rates;
    }
    public function createConsignment(Shipment $shipment, ShipmentQuote $quote): array
    {
        // 1. Prepare Data
        // TNT requires a future date for collection (e.g., tomorrow 9am-5pm)
        $date = date('Y-m-d', strtotime('+1 weekday')); 
        
        // 2. Build XML Payload for Booking (Consignment)
        $xml = <<<XML
<?xml version="1.0" encoding="UTF-8"?>
<consignmentBatch>
    <sender>
        <account>{$this->accountNumber}</account>
        <address>
            <name>{$shipment->sender_name}</name>
            <line1>{$shipment->sender_address}</line1>
            <town>{$shipment->sender_suburb}</town>
            <province>{$shipment->sender_state}</province>
            <postcode>{$shipment->sender_postcode}</postcode>
            <country>AU</country>
        </address>
    </sender>
    <consignment>
        <conref>{$shipment->id}</conref>
        <details>
            <receiver>
                <name>{$shipment->receiver_name}</name>
                <line1>{$shipment->receiver_address}</line1>
                <town>{$shipment->receiver_suburb}</town>
                <province>{$shipment->receiver_state}</province>
                <postcode>{$shipment->receiver_postcode}</postcode>
                <country>AU</country>
            </receiver>
            <deliveryInstructions>Please leave at front door if unattended</deliveryInstructions>
            <package>
                <itemReference>Box 1</itemReference>
                <description>General Freight</description>
            </package>
        </details>
    </consignment>
</consignmentBatch>
XML;

        // 3. Send to TNT API
        $response = Http::asForm()->post("{$this->baseUrl}/shipping/ship", [
            'xml_in' => "GET_RESULT:{$xml}", // TNT Syntax
            'access_code' => 'ACCESS_CODE_HERE' // You usually need a separate access code for shipping vs pricing
        ]);

        if ($response->failed()) {
            throw new \Exception("TNT Booking Failed: " . $response->body());
        }

        // 4. Parse Response (Mocked parser here as response depends on exact account setup)
        // In reality, you parse the XML to find <consignmentNumber> and label URL.
        
        return [
            'tracking_number' => 'TNT-' . strtoupper(uniqid()), // Replace with parsed value
            'consignment_number' => 'CON-' . strtoupper(uniqid()),
            'label_url' => null, // TNT usually returns raw PDF bytes, needs file storage logic
        ];
    }
    // ... existing code ...
    // ... existing code ...
    public function trackShipment(string $trackingNumber): array
    {
        return ['status' => 'Not Implemented'];
    }
}
}
}

--- FILE: ./app/Services/Couriers/Strategy/HunterExpressStrategy.php ---

<?php

namespace App\Services\Couriers\Strategy;

use App\Models\Shipment;
use App\Models\ShipmentQuote;
use App\Services\Couriers\Concerns\SavesLabels;
use App\Services\Couriers\CourierInterface;
use Illuminate\Support\Facades\Http;
use Illuminate\Support\Facades\Log;

class HunterExpressStrategy implements CourierInterface
{
    use SavesLabels;

    protected string $baseUrl = 'https://api.transvirtual.com.au/Api';
    protected string $tvNumber;     
    protected string $authToken;    
    protected string $customerCode;

    public function __construct(string $authToken, string $tvNumber, string $customerCode)
    {
        $this->authToken = $authToken;
        $this->tvNumber = $tvNumber;
        $this->customerCode = $customerCode; 
    }

    public function getCarrierCode(): string
    {
        return 'hunters';
    }

    public function getRates(array $data): array
    {
        $payload = [
            'CustomerCode' => $this->customerCode,
            'SenderSuburb' => $data['sender_suburb'],
            'SenderState' => $data['sender_state'],
            'SenderPostcode' => $data['sender_postcode'],
            'ReceiverSuburb' => $data['receiver_suburb'],
            'ReceiverState' => $data['receiver_state'],
            'ReceiverPostcode' => $data['receiver_postcode'],
            'Rows' => []
        ];

        foreach ($data['items'] as $item) {
            $payload['Rows'][] = [
                'QtyDecimal' => (float) $item['quantity'],
                'Description' => 'General Freight',
                'Weight' => (float) ($item['weight'] * $item['quantity']),
                'Length' => (float) $item['length'],
                'Width' => (float) $item['width'],
                'Height' => (float) $item['height']
            ];
        }

        Log::info('Hunter Express Rate Request:', $payload);

        $response = $this->sendRequest('POST', '/PriceEstimate', $payload);

        if ($response->failed()) {
            Log::error('Hunter Express HTTP Error:', ['body' => $response->body()]);
            return [];
        }

        $result = $response->json();
        Log::info('Hunter Express Rate Response:', $result ?? []);

        $rates = [];
        $rows = $result['Data']['Rows'] ?? [];

        foreach ($rows as $row) {
            if (isset($row['GrandPrice']) && $row['GrandPrice'] > 0) {
                $rates[] = [
                    'courier_name' => 'Hunter Express',
                    'service_name' => $row['Title'] ?? $row['ServiceType'] ?? 'Standard',
                    'service_code' => $row['ServiceType'] ?? 'EXP',
                    'price_cents' => (int) ($row['GrandPrice'] * 100),
                    'currency' => 'AUD',
                    'eta' => $row['Transit'] ?? '3-5 Days'
                ];
            }
        }

        return $rates;
    }

    public function createConsignment(Shipment $shipment, ShipmentQuote $quote): array
    {
        $payload = [
            'CustomerCode' => $this->customerCode,
            'SenderName' => $shipment->sender_name,
            'SenderAddress' => $shipment->sender_address,
            'SenderSuburb' => $shipment->sender_suburb,
            'SenderState' => $shipment->sender_state,
            'SenderPostcode' => $shipment->sender_postcode,
            'ReceiverName' => $shipment->receiver_name,
            'ReceiverAddress' => $shipment->receiver_address,
            'ReceiverSuburb' => $shipment->receiver_suburb,
            'ReceiverState' => $shipment->receiver_state,
            'ReceiverPostcode' => $shipment->receiver_postcode,
            'ReturnPdfLabels' => 'y', 
            'Rows' => []
        ];

        foreach ($shipment->items as $item) {
             $payload['Rows'][] = [
                'Qty' => (int) $item->quantity,
                'Description' => 'Carton',
                'Weight' => (int) ceil($item->weight * $item->quantity),
                'Length' => (float) $item->length,
                'Width' => (float) $item->width, 
                'Height' => (float) $item->height,
            ];
        }

        Log::info('Hunter Booking Request:', $payload);

        $response = $this->sendRequest('POST', '/Consignment', $payload);
        
        if ($response->failed()) {
            throw new \Exception("Hunter Booking Failed: " . $response->body());
        }

        $json = $response->json();
        Log::info('Hunter Booking Response:', $json ?? []);

        // 1. Access Data
        $data = $json['Data'] ?? []; 

        $consignmentNumber = $data['ConsignmentNumber'] 
                          ?? $data['consignmentNumber'] 
                          ?? $data['consignment_number'] 
                          ?? null;

        $pdfLabelsBase64 = $data['PdfLabels'] 
                        ?? $data['pdfLabels'] 
                        ?? $data['pdf_labels'] 
                        ?? null;

        // 2. Fallback for Test Mode
        if (!$consignmentNumber && $this->customerCode === 'APITEST') {
            Log::warning('Hunter Express (Test) returned no ConsignmentNumber. Generating fake one.');
            $consignmentNumber = 'TEST-HUNTER-' . mt_rand(1000, 9999);
        }

        // 3. Save Label Immediately (Optimization for Hunter)
        $labelUrl = null;
        if ($pdfLabelsBase64) {
            $labelUrl = $this->saveLabelToDisk($pdfLabelsBase64, 'hunters', true);
        } elseif ($this->customerCode === 'APITEST') {
            $labelUrl = 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf';
        }

        // Return label_url so Controller saves it immediately.
        // This prevents the Queue Job from running unnecessarily.
        return [
            'tracking_number' => $consignmentNumber,
            'consignment_number' => $consignmentNumber,
            'label_url' => $labelUrl,
        ];
    }

    /**
     * Interface Requirement.
     * Used by the Queue Job only if the initial booking failed to save the label.
     */
    public function generateLabel(string $consignmentNumber): ?string
    {
        $payload = ['ConsignmentNumber' => $consignmentNumber];
        $response = $this->sendRequest('POST', '/ConsignmentQuery', $payload);

        if ($response->successful()) {
            $data = $response->json();
            // Hunter often returns the label in the query response too
            $base64 = $data['Data']['PdfLabels'] ?? null;
            if ($base64) {
                return $this->saveLabelToDisk($base64, 'hunters', true);
            }
        }

        // Fallback for visual testing
        if ($this->customerCode === 'APITEST') {
             return 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf';
        }

        return null;
    }

    public function trackShipment(string $trackingNumber): array
    {
        $payload = ['ConsignmentNumber' => $trackingNumber];
        $response = $this->sendRequest('POST', '/ConsignmentQuery', $payload);

        if ($response->failed()) {
            return ['status' => 'Unknown', 'history' => []];
        }

        $data = $response->json()['Data'] ?? [];
        return [
            'status' => 'Booked',
            'consignment_number' => $data['Number'] ?? $trackingNumber,
            'sender' => $data['SenderName'] ?? '',
            'receiver' => $data['ReceiverName'] ?? '',
            'history' => []
        ];
    }

    private function sendRequest(string $method, string $endpoint, array $data)
    {
        $authHeader = trim($this->tvNumber) . '|' . trim($this->authToken);

        return Http::withHeaders([
            'Authorization' => $authHeader,
            'Content-Type' => 'application/json',
            'Accept' => '*/*'
        ])->$method($this->baseUrl . $endpoint, $data);
    }
}

--- FILE: ./app/Services/Couriers/Strategy/CouriersPleaseStrategy.php ---

<?php

namespace App\Services\Couriers\Strategy;

use App\Models\Shipment;
use App\Models\ShipmentQuote;
use App\Services\Couriers\Concerns\SavesLabels;
use App\Services\Couriers\CourierInterface;
use Illuminate\Support\Facades\Http;
use Illuminate\Support\Facades\Log;

class CouriersPleaseStrategy implements CourierInterface
{
    use SavesLabels;

    protected string $baseUrlTest = 'https://api-test.couriersplease.com.au';
    protected string $baseUrlProd = 'https://api.couriersplease.com.au';
    
    protected string $accountCode;
    protected string $apiKey;
    protected bool $isTest;

    public function __construct(string $accountCode, string $apiKey, bool $isTest = true)
    {
        $this->accountCode = $accountCode;
        $this->apiKey = $apiKey;
        $this->isTest = $isTest;
    }

    public function getCarrierCode(): string
    {
        return 'couriers_please';
    }

    private function getBaseUrl(): string
    {
        return $this->isTest ? $this->baseUrlTest : $this->baseUrlProd;
    }

    public function getRates(array $data): array
    {
        $endpoint = "/v2/domestic/quote";
        
        $items = [];
        foreach ($data['items'] as $item) {
            $items[] = [
                'quantity' => (int) $item['quantity'],
                'weight' => (float) ($item['weight'] * $item['quantity']), 
                'length' => (int) $item['length'],
                'width' => (int) $item['width'],
                'height' => (int) $item['height'],
                'physicalweight' => (float) $item['weight'] 
            ];
        }

        $payload = [
            'fromSuburb' => $data['sender_suburb'],
            'fromPostcode' => $data['sender_postcode'],
            'toSuburb' => $data['receiver_suburb'],
            'toPostcode' => $data['receiver_postcode'],
            'items' => $items
        ];

        Log::info('CP Rate Request:', $payload);

        $response = $this->sendRequest('POST', $endpoint, $payload);

        if ($response->failed()) {
            Log::error('CP Rate Error:', ['body' => $response->body()]);
            return [];
        }

        $json = $response->json();
        $rates = [];

        if (isset($json['data']) && is_array($json['data'])) {
            foreach ($json['data'] as $quote) {
                // Calculate Total Price (Freight + Fuel)
                $freight = floatval($quote['CalculatedFreightCharge'] ?? 0);
                $fuel = floatval($quote['CalculatedFuelCharge'] ?? 0);
                $totalPrice = $freight + $fuel;

                $rates[] = [
                    'courier_name' => 'Couriers Please',
                    'service_name' => $quote['RateCardDescription'] ?? 'Standard',
                    'service_code' => $quote['RateCardCode'], 
                    'price_cents' => (int) round($totalPrice * 100),
                    'currency' => 'AUD',
                    'eta' => $quote['ETA'] ?? 'N/A',
                ];
            }
        }

        return $rates;
    }

    public function createConsignment(Shipment $shipment, ShipmentQuote $quote): array
    {
        $endpoint = "/v2/domestic/shipment/create";

        $items = [];
        foreach ($shipment->items as $item) {
            $items[] = [
                'quantity' => (int) $item->quantity,
                'length' => (int) $item->length,
                'width' => (int) $item->width,
                'height' => (int) $item->height,
                'physicalweight' => number_format($item->weight, 2)
            ];
        }

        $payload = [
            'pickupDeliveryChoiceID' => null,
            'pickupFirstName' => $this->splitName($shipment->sender_name)['first'],
            'pickupLastName' => $this->splitName($shipment->sender_name)['last'],
            'pickupCompanyName' => $shipment->sender_name, 
            'pickupEmail' => 'sender@example.com', 
            'pickupAddress1' => $shipment->sender_address,
            'pickupAddress2' => '',
            'pickupSuburb' => $shipment->sender_suburb,
            'pickupState' => $shipment->sender_state,
            'pickupPostcode' => $shipment->sender_postcode,
            'pickupPhone' => '0400000000', 
            'pickupIsBusiness' => 'true',

            'destinationDeliveryChoiceID' => null,
            'destinationFirstName' => $this->splitName($shipment->receiver_name)['first'],
            'destinationLastName' => $this->splitName($shipment->receiver_name)['last'],
            'destinationCompanyName' => $shipment->receiver_name,
            'destinationEmail' => 'receiver@example.com',
            'destinationAddress1' => $shipment->receiver_address,
            'destinationAddress2' => '',
            'destinationSuburb' => $shipment->receiver_suburb,
            'destinationState' => $shipment->receiver_state,
            'destinationPostcode' => $shipment->receiver_postcode,
            'destinationPhone' => '0400000000',
            'destinationIsBusiness' => 'true',

            'contactFirstName' => $this->splitName($shipment->sender_name)['first'],
            'contactLastName' => $this->splitName($shipment->sender_name)['last'],
            'contactCompanyName' => $shipment->sender_name,
            'contactEmail' => 'sender@example.com',
            'contactAddress1' => $shipment->sender_address,
            'contactAddress2' => '',
            'contactSuburb' => $shipment->sender_suburb,
            'contactState' => $shipment->sender_state,
            'contactPostcode' => $shipment->sender_postcode,
            'contactPhone' => '0400000000',
            'contactIsBusiness' => 'true',

            'referenceNumber' => (string) $shipment->id,
            'termsAccepted' => 'true',
            'dangerousGoods' => 'false',
            'rateCardId' => $quote->service_code, 
            'specialInstruction' => 'Handle with care',
            'isATL' => 'false',
            'items' => $items
        ];

        Log::info('CP Booking Request:', $payload);

        $response = $this->sendRequest('POST', $endpoint, $payload);
        
        if ($response->failed()) {
            throw new \Exception("CP Booking Failed: " . $response->body());
        }

        $json = $response->json();
        Log::info('CP Booking Response:', $json ?? []);

        $consignmentNumber = $json['data']['consignmentCode'] ?? null;

        if (!$consignmentNumber) {
            throw new \Exception("CP Booking successful but no Consignment Code returned.");
        }

        return [
            'tracking_number' => $consignmentNumber,
            'consignment_number' => $consignmentNumber,
            'label_url' => null, // Queue will handle this
        ];
    }

    /**
    /**
     * 3. GENERATE LABEL (Domestic Label API V1)
     * CLEAN VERSION: Queue handles the delay.
     */
    public function generateLabel(string $consignmentNumber): ?string
    {
        $endpoint = "/v1/domestic/shipment/label";
        
        Log::info("CP Label Request for: $consignmentNumber");

        try {
            $response = Http::withBasicAuth($this->accountCode, $this->apiKey)
                ->withHeaders(['Accept' => 'application/json'])
                // Standard Retries: 3 attempts, 1 second apart
                ->retry(3, 1000)
                ->get($this->getBaseUrl() . $endpoint, [
                    'consignmentNumber' => $consignmentNumber
                ]);

            if ($response->failed()) {
                Log::error('CP Label API Failed:', [
                    'status' => $response->status(),
                    'body' => $response->body()
                ]);
                throw new \Exception("Label API returned " . $response->status());
            }

            $json = $response->json();
            Log::info('CP Label Response:', $json ?? []);

            $base64Label = $json['data']['label'] ?? null;

            if ($base64Label) {
                return $this->saveLabelToDisk($base64Label, 'couriers_please', true);
            }

        } catch (\Throwable $e) {
            Log::warning("CP Label Generation Failed: " . $e->getMessage());
            
            // --- FIX: REMOVED DUMMY FALLBACK ---
            // We throw the error so the Queue Job knows it failed and will retry later.
            throw $e; 
        }

        return null;
    }

    public function trackShipment(string $trackingNumber): array
    {
        $endpoint = "/v1/domestic/locateParcel";
        $url = $this->getBaseUrl() . $endpoint . "?trackingCode=" . $trackingNumber;

        $response = Http::withBasicAuth($this->accountCode, $this->apiKey)
            ->withHeaders(['Accept' => 'application/json'])
            ->get($url);

        if ($response->failed()) {
            return ['status' => 'Unknown', 'history' => []];
        }

        $json = $response->json();
        $consignmentInfo = $json['data']['consignmentInfo'][0] ?? [];

        $status = $consignmentInfo['status'] ?? 'Unknown';
        
        $history = [];
        if (isset($consignmentInfo['itemsCoupons'][0]['trackingInfo'])) {
            foreach ($consignmentInfo['itemsCoupons'][0]['trackingInfo'] as $event) {
                $history[] = [
                    'status' => $event['action'] ?? '',
                    'timestamp' => ($event['date'] ?? '') . ' ' . ($event['time'] ?? ''),
                    'location' => $event['contractor'] ?? ''
                ];
            }
        }

        return [
            'status' => $status,
            'consignment_number' => $trackingNumber,
            'history' => $history
        ];
    }

    private function sendRequest(string $method, string $endpoint, array $data = [])
    {
        return Http::withBasicAuth($this->accountCode, $this->apiKey)
            ->withHeaders([
                'Content-Type' => 'application/json',
                'Accept' => 'application/json'
            ])
            ->$method($this->getBaseUrl() . $endpoint, $data);
    }

    private function splitName($fullName)
    {
        $parts = explode(' ', $fullName, 2);
        return [
            'first' => $parts[0] ?? 'Valued',
            'last' => $parts[1] ?? 'Customer'
        ];
    }
}

--- FILE: ./app/Services/Couriers/CourierStrategyFactory.php ---

<?php

declare(strict_types=1);

namespace App\Services\Couriers;

use App\Models\CarrierConfig;
use App\Services\Couriers\Strategy\CouriersPleaseStrategy;
use App\Services\Couriers\Strategy\HunterExpressStrategy;
use App\Services\Couriers\Strategy\MockCourierService;
use App\Services\Couriers\Strategy\TNTStrategy;
use Illuminate\Support\Collection;
use Illuminate\Support\Facades\Log;

class CourierStrategyFactory
{
    /**
     * returns a list of instantiated CourierInterface strategies
     * based on active database records.
     *
     * @return array<CourierInterface>
     */
    public function getActiveStrategies(): array
    {
        $configs = CarrierConfig::where('is_active', true)->get();
        $strategies = [];

        foreach ($configs as $config) {
            try {
                $strategy = $this->createStrategy($config);
                if ($strategy) {
                    $strategies[] = $strategy;
                }
            } catch (\Throwable $e) { // <--- CHANGE THIS from \Exception to \Throwable
                // This will catch "Method not found" fatal errors and keep the app running
                Log::error("Failed to initialize courier strategy: {$config->carrier_code}", [
                    'error' => $e->getMessage()
                ]);
            }
        }

        return $strategies;
    }

    public function createStrategy(CarrierConfig $config): ?CourierInterface
    {
        return match ($config->carrier_code) {
            'mock_express' => new MockCourierService(),
            
            'hunters' => new HunterExpressStrategy(
        (string) $config->api_key,       // Token: XXLFNZRLPW
        (string) $config->account_code,  // TV Number: 55010
        (string) ($config->extra_settings['customer_code'] ?? 'APITEST') // <--- New Argument
    ),

            'couriers_please' => new CouriersPleaseStrategy(
                (string) $config->account_code, // WD00000006
                (string) $config->api_key,      // cc995...
                $config->environment === 'test' // true
            ),

            'tnt' => new TNTStrategy(
                (string) $config->account_code, // Username
                (string) $config->api_key,      // Password
                (string) $config->api_secret    // Account Number (stored in secret field for flexibility)
            ),

            default => null,
        };
    }
}

--- FILE: ./app/Services/Couriers/Concerns/SavesLabels.php ---

<?php

namespace App\Services\Couriers\Concerns;

use Illuminate\Support\Facades\Storage;
use Illuminate\Support\Str;

trait SavesLabels
{
    /**
     * Save raw label data SECURELY to a private disk.
     * Returns a relative path, NOT a public URL.
     */
    protected function saveLabelToDisk(string $content, string $carrierPrefix, bool $isBase64 = false): string
    {
        // 1. Decode content
        $fileContent = $isBase64 ? base64_decode($content) : $content;

        // 2. Generate secure filename
        // We use a random hash to prevent guessing
        $filename = 'labels/' . $carrierPrefix . '-' . Str::random(40) . '.pdf';

        // 3. ENTERPRISE FIX: Save to 'local' (Private), NOT 'public'
        // This file is now invisible to the outside world.
        Storage::disk('local')->put($filename, $fileContent);

        return $filename; // Return internal path, e.g., "labels/hunters-xyz.pdf"
    }
}

--- FILE: ./app/Services/Couriers/CourierInterface.php ---

<?php

namespace App\Services\Couriers;

// --- ADD THESE TWO LINES ---
use App\Models\Shipment;
use App\Models\ShipmentQuote;
// ---------------------------

interface CourierInterface
{
    public function getCarrierCode(): string;
    public function getRates(array $shipmentData): array;
    public function createConsignment(Shipment $shipment, ShipmentQuote $quote): array;
    public function trackShipment(string $trackingNumber): array;
}

--- FILE: ./app/Services/Integrations/ShopifyService.php ---

<?php

namespace App\Services\Integrations;

use Illuminate\Support\Facades\Http;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Log;
use Illuminate\Support\Facades\Auth;
use App\Models\UserIntegration;
use App\Models\Shipment;
use App\Models\Company;
use App\Models\User;
use App\Jobs\FetchShipmentRates; // Job for rates
use App\Services\Pricing\RateService;

class ShopifyService
{
    protected $integration;
    protected $graphqlUrl;

    public function __construct(UserIntegration $integration)
    {
        $this->integration = $integration;
        
        // Clean and format the store URL
        $domain = preg_replace('#^https?://#', '', $integration->store_url);
        $domain = rtrim($domain, '/');
        if (!str_contains($domain, '.')) {
            $domain .= '.myshopify.com';
        }
        
        $this->graphqlUrl = "https://{$domain}/admin/api/2024-01/graphql.json";
    }

    /**
     * Validate credentials by fetching the Shop Name.
     */
    public function validateConnection(): bool
    {
        $query = '{ shop { name } }';
        $response = $this->query($query);
        return !isset($response['errors']);
    }

    /**
     * IMPORT FLOW: Fetch unfulfilled orders and save them locally.
     */
    public function importOrders()
    {
        $query = <<<'GQL'
        {
          shop {
            name
            billingAddress {
              address1
              city
              provinceCode
              zip
              phone
            }
          }
          orders(first: 20, query: "status:open fulfillment_status:unfulfilled financial_status:paid") {
            edges {
              node {
                id
                legacyResourceId
                name
                email
                totalWeight
                shippingAddress {
                  address1
                  address2
                  city
                  provinceCode
                  zip
                  firstName
                  lastName
                  phone
                }
              }
            }
          }
        }
        GQL;

        $data = $this->query($query);

        if (isset($data['errors'])) {
            Log::error("Shopify GraphQL Error: " . json_encode($data['errors']));
            throw new \Exception("Sync Failed: " . ($data['errors'][0]['message'] ?? 'Unknown Error'));
        }

        $shop = $data['data']['shop'];
        
        $storeSender = [
            'name'     => $shop['name'],
            'address'  => $shop['billingAddress']['address1'] ?? '',
            'suburb'   => $shop['billingAddress']['city'] ?? '',
            'state'    => $shop['billingAddress']['provinceCode'] ?? '',
            'postcode' => $shop['billingAddress']['zip'] ?? '',
            'contact'  => $shop['billingAddress']['phone'] ?? '',
        ];

        $orders = $data['data']['orders']['edges'];
        $count = 0;

        foreach ($orders as $edge) {
            $node = $edge['node'];

            // Skip if already imported
            if (Shipment::where('external_order_id', (string)$node['legacyResourceId'])->exists()) {
                continue;
            }

            try {
                $this->createShipment($node, $storeSender);
                $count++;
            } catch (\Exception $e) {
                Log::error("Failed to import Shopify Order {$node['name']}: " . $e->getMessage());
            }
        }

        $this->integration->update(['last_synced_at' => now()]);
        return $count;
    }

    /**
     * FULFILLMENT FLOW: Update Shopify when we book a shipment.
     */
    /**
     * FULFILLMENT FLOW: Update Shopify when we book a shipment.
     */
    public function markOrderFulfilled(Shipment $shipment)
    {
        $shopifyOrderId = $shipment->external_order_id;
        
        Log::info("Shopify Sync: Starting Fulfillment for Order #{$shipment->external_order_number}");

        // 1. Get FulfillmentOrder ID
        $queryIds = <<<'GQL'
        query($id: ID!) {
          order(id: $id) {
            fulfillmentOrders(first: 5) {
              edges {
                node {
                  id
                  status
                }
              }
            }
          }
        }
        GQL;

        $gqlOrderId = str_starts_with($shopifyOrderId, 'gid://') 
            ? $shopifyOrderId 
            : "gid://shopify/Order/{$shopifyOrderId}";

        $response = $this->query($queryIds, ['id' => $gqlOrderId]);
        
        $fulfillmentOrders = $response['data']['order']['fulfillmentOrders']['edges'] ?? [];
        
        // Find the first OPEN fulfillment order
        $fulfillmentOrderId = null;
        foreach($fulfillmentOrders as $edge) {
            if ($edge['node']['status'] === 'OPEN') {
                $fulfillmentOrderId = $edge['node']['id'];
                break;
            }
        }

        if (!$fulfillmentOrderId) {
            Log::info("Shopify Sync: Order {$shipment->external_order_number} has no OPEN fulfillment orders. It might already be fulfilled.");
            return;
        }

        // 2. Resolve the correct Tracking URL
        $trackingUrl = $this->getTrackingUrl($shipment);

        // 3. Create Fulfillment
        $mutation = <<<'GQL'
        mutation fulfillmentCreateV2($fulfillment: FulfillmentV2Input!) {
          fulfillmentCreateV2(fulfillment: $fulfillment) {
            fulfillment {
              status
              displayStatus
            }
            userErrors {
              field
              message
            }
          }
        }
        GQL;

        $variables = [
            'fulfillment' => [
                'lineItemsByFulfillmentOrder' => [
                    [
                        'fulfillmentOrderId' => $fulfillmentOrderId
                    ]
                ],
                'notifyCustomer' => true,
                'trackingInfo' => [
                    // We map the correct courier name and dynamic URL here
                    'company' => $shipment->courier_name ?? 'Other', 
                    'number' => $shipment->tracking_number,
                    'url' => $trackingUrl
                ]
            ]
        ];

        $result = $this->query($mutation, $variables);

        if (!empty($result['data']['fulfillmentCreateV2']['userErrors'])) {
            $errors = json_encode($result['data']['fulfillmentCreateV2']['userErrors']);
            
            // Retry logic: If "Courier not valid", retry as "Other"
            if (str_contains($errors, "tracking company is invalid")) {
                Log::warning("Shopify rejected courier '{$shipment->courier_name}'. Retrying as 'Other'.");
                $variables['fulfillment']['trackingInfo']['company'] = 'Other';
                $this->query($mutation, $variables); // Retry once
            } else {
                throw new \Exception("Shopify Fulfillment Failed: " . $errors);
            }
        }

        Log::info(" Shopify Sync: Successfully marked {$shipment->external_order_number} as Fulfilled with URL: {$trackingUrl}");
    }

    /**
     * Helper: Generate specific tracking URLs for Australian Couriers
     */
    private function getTrackingUrl(Shipment $shipment): string
    {
        $number = $shipment->tracking_number;
        $courier = strtolower($shipment->courier_name ?? '');

        return match (true) {
            str_contains($courier, 'hunter') => "https://www.hunterexpress.com.au/home/tracking?connote={$number}",
            str_contains($courier, 'couriers please') => "https://www.couriersplease.com.au/tools-track/tracking-result?no={$number}",
            str_contains($courier, 'tnt') => "https://www.tnt.com/express/en_au/site/shipping-tools/tracking.html?searchType=con&cons={$number}",
            str_contains($courier, 'aramex') || str_contains($courier, 'fastway') => "https://www.aramex.com.au/tools/track?id={$number}",
            str_contains($courier, 'startrack') => "https://startrack.com.au/track/search?q={$number}",
            str_contains($courier, 'auspost') || str_contains($courier, 'australia post') => "https://auspost.com.au/mypost/track/#/details/{$number}",
            str_contains($courier, 'allied') => "http://www.alliedexpress.com.au/cgi-bin/search.cgi?{$number}",
            default => "https://www.google.com/search?q={$number}" // Fallback
        };
    }

    /**
     * Internal Helper to create the shipment locally
     */
    private function createShipment($order, $storeSender)
    {
        $addressNode = $order['shippingAddress'] ?? null;
        if (!$addressNode) return; 

        $userId = $this->integration->user_id ?? Auth::id();
        if (!$userId) {
            $userId = User::where('company_id', $this->integration->company_id)->value('id') ?? 1;
        }

        if (empty($storeSender['address'])) {
             $dbCompany = Company::find($this->integration->company_id);
             $sender = [
                'name' => $dbCompany->entity_name,
                'address' => $dbCompany->address,
                'suburb' => $dbCompany->suburb,
                'state' => $dbCompany->state,
                'postcode' => $dbCompany->postcode,
                'contact' => $dbCompany->phone,
             ];
        } else {
             $sender = $storeSender;
        }

        DB::beginTransaction();
        try {
            $shipment = Shipment::create([
                'company_id' => $this->integration->company_id,
                'user_id'    => $userId,
                'source'     => 'shopify',
                'external_order_id'     => (string)$order['legacyResourceId'],
                'external_order_number' => (string)$order['name'],
                'status'     => 'draft',
                'sender_name'    => $sender['name'],
                'sender_address' => $sender['address'],
                'sender_suburb'  => $sender['suburb'],
                'sender_state'   => $sender['state'],
                'sender_postcode'=> $sender['postcode'],
                'sender_contact' => $sender['contact'],
                'receiver_name'    => trim(($addressNode['firstName'] ?? '') . ' ' . ($addressNode['lastName'] ?? '')),
                'receiver_address' => trim(($addressNode['address1'] ?? '') . ' ' . ($addressNode['address2'] ?? '')),
                'receiver_suburb'  => $addressNode['city'] ?? '',
                'receiver_state'   => $addressNode['provinceCode'] ?? '',
                'receiver_postcode'=> $addressNode['zip'] ?? '',
                'receiver_contact' => $addressNode['phone'] ?? ($order['email'] ?? ''),
            ]);

            $weightKg = max(0.5, ($order['totalWeight'] ?? 1000) / 1000);

            $shipment->items()->create([
                'description' => 'Order ' . $order['name'],
                'type'        => 'carton',
                'length'      => 20, 'width' => 20, 'height' => 20,
                'weight'      => $weightKg,
                'quantity'    => 1
            ]);

            DB::commit();
            Log::info(" Imported {$order['name']} - Shipment ID: {$shipment->id}");

            // Background Job for Rates
            FetchShipmentRates::dispatch($shipment);

        } catch (\Exception $e) {
            DB::rollBack();
            throw $e;
        }
    }

    private function query($query, $variables = [])
    {
        $payload = ['query' => $query];
        if (!empty($variables)) $payload['variables'] = $variables;

        $response = Http::withHeaders([
            'X-Shopify-Access-Token' => $this->integration->api_secret,
            'Content-Type' => 'application/json'
        ])->post($this->graphqlUrl, $payload);

        return $response->json();
    }
}

--- FILE: ./config/database.php ---

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Database Connection Name
    |--------------------------------------------------------------------------
    |
    | Here you may specify which of the database connections below you wish
    | to use as your default connection for database operations. This is
    | the connection which will be utilized unless another connection
    | is explicitly specified when you execute a query / statement.
    |
    */

    'default' => env('DB_CONNECTION', 'sqlite'),

    /*
    |--------------------------------------------------------------------------
    | Database Connections
    |--------------------------------------------------------------------------
    |
    | Below are all of the database connections defined for your application.
    | An example configuration is provided for each database system which
    | is supported by Laravel. You're free to add / remove connections.
    |
    */

    'connections' => [

        'sqlite' => [
            'driver' => 'sqlite',
            'url' => env('DB_URL'),
            'database' => env('DB_DATABASE', database_path('database.sqlite')),
            'prefix' => '',
            'foreign_key_constraints' => env('DB_FOREIGN_KEYS', true),
            'busy_timeout' => null,
            'journal_mode' => null,
            'synchronous' => null,
            'transaction_mode' => 'DEFERRED',
        ],

        'mysql' => [
            'driver' => 'mysql',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'unix_socket' => env('DB_SOCKET', ''),
            'charset' => env('DB_CHARSET', 'utf8mb4'),
            'collation' => env('DB_COLLATION', 'utf8mb4_unicode_ci'),
            'prefix' => '',
            'prefix_indexes' => true,
            'strict' => true,
            'engine' => null,
            'options' => extension_loaded('pdo_mysql') ? array_filter([
                (PHP_VERSION_ID >= 80500 ? \Pdo\Mysql::ATTR_SSL_CA : \PDO::MYSQL_ATTR_SSL_CA) => env('MYSQL_ATTR_SSL_CA'),
            ]) : [],
        ],

        'mariadb' => [
            'driver' => 'mariadb',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'unix_socket' => env('DB_SOCKET', ''),
            'charset' => env('DB_CHARSET', 'utf8mb4'),
            'collation' => env('DB_COLLATION', 'utf8mb4_unicode_ci'),
            'prefix' => '',
            'prefix_indexes' => true,
            'strict' => true,
            'engine' => null,
            'options' => extension_loaded('pdo_mysql') ? array_filter([
                (PHP_VERSION_ID >= 80500 ? \Pdo\Mysql::ATTR_SSL_CA : \PDO::MYSQL_ATTR_SSL_CA) => env('MYSQL_ATTR_SSL_CA'),
            ]) : [],
        ],

        'pgsql' => [
            'driver' => 'pgsql',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '5432'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => env('DB_CHARSET', 'utf8'),
            'prefix' => '',
            'prefix_indexes' => true,
            'search_path' => 'public',
            'sslmode' => 'prefer',
        ],

        'sqlsrv' => [
            'driver' => 'sqlsrv',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', 'localhost'),
            'port' => env('DB_PORT', '1433'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => env('DB_CHARSET', 'utf8'),
            'prefix' => '',
            'prefix_indexes' => true,
            // 'encrypt' => env('DB_ENCRYPT', 'yes'),
            // 'trust_server_certificate' => env('DB_TRUST_SERVER_CERTIFICATE', 'false'),
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Migration Repository Table
    |--------------------------------------------------------------------------
    |
    | This table keeps track of all the migrations that have already run for
    | your application. Using this information, we can determine which of
    | the migrations on disk haven't actually been run on the database.
    |
    */

    'migrations' => [
        'table' => 'migrations',
        'update_date_on_publish' => true,
    ],

    /*
    |--------------------------------------------------------------------------
    | Redis Databases
    |--------------------------------------------------------------------------
    |
    | Redis is an open source, fast, and advanced key-value store that also
    | provides a richer body of commands than a typical key-value system
    | such as Memcached. You may define your connection settings here.
    |
    */

    'redis' => [

        'client' => env('REDIS_CLIENT', 'phpredis'),

        'options' => [
            'cluster' => env('REDIS_CLUSTER', 'redis'),
            'prefix' => env('REDIS_PREFIX', Str::slug((string) env('APP_NAME', 'laravel')).'-database-'),
            'persistent' => env('REDIS_PERSISTENT', false),
        ],

        'default' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_DB', '0'),
            'max_retries' => env('REDIS_MAX_RETRIES', 3),
            'backoff_algorithm' => env('REDIS_BACKOFF_ALGORITHM', 'decorrelated_jitter'),
            'backoff_base' => env('REDIS_BACKOFF_BASE', 100),
            'backoff_cap' => env('REDIS_BACKOFF_CAP', 1000),
        ],

        'cache' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_CACHE_DB', '1'),
            'max_retries' => env('REDIS_MAX_RETRIES', 3),
            'backoff_algorithm' => env('REDIS_BACKOFF_ALGORITHM', 'decorrelated_jitter'),
            'backoff_base' => env('REDIS_BACKOFF_BASE', 100),
            'backoff_cap' => env('REDIS_BACKOFF_CAP', 1000),
        ],

    ],

];


--- FILE: ./config/cache.php ---

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Cache Store
    |--------------------------------------------------------------------------
    |
    | This option controls the default cache store that will be used by the
    | framework. This connection is utilized if another isn't explicitly
    | specified when running a cache operation inside the application.
    |
    */

    'default' => env('CACHE_STORE', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Cache Stores
    |--------------------------------------------------------------------------
    |
    | Here you may define all of the cache "stores" for your application as
    | well as their drivers. You may even define multiple stores for the
    | same cache driver to group types of items stored in your caches.
    |
    | Supported drivers: "array", "database", "file", "memcached",
    |                    "redis", "dynamodb", "octane",
    |                    "failover", "null"
    |
    */

    'stores' => [

        'array' => [
            'driver' => 'array',
            'serialize' => false,
        ],

        'database' => [
            'driver' => 'database',
            'connection' => env('DB_CACHE_CONNECTION'),
            'table' => env('DB_CACHE_TABLE', 'cache'),
            'lock_connection' => env('DB_CACHE_LOCK_CONNECTION'),
            'lock_table' => env('DB_CACHE_LOCK_TABLE'),
        ],

        'file' => [
            'driver' => 'file',
            'path' => storage_path('framework/cache/data'),
            'lock_path' => storage_path('framework/cache/data'),
        ],

        'memcached' => [
            'driver' => 'memcached',
            'persistent_id' => env('MEMCACHED_PERSISTENT_ID'),
            'sasl' => [
                env('MEMCACHED_USERNAME'),
                env('MEMCACHED_PASSWORD'),
            ],
            'options' => [
                // Memcached::OPT_CONNECT_TIMEOUT => 2000,
            ],
            'servers' => [
                [
                    'host' => env('MEMCACHED_HOST', '127.0.0.1'),
                    'port' => env('MEMCACHED_PORT', 11211),
                    'weight' => 100,
                ],
            ],
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => env('REDIS_CACHE_CONNECTION', 'cache'),
            'lock_connection' => env('REDIS_CACHE_LOCK_CONNECTION', 'default'),
        ],

        'dynamodb' => [
            'driver' => 'dynamodb',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'table' => env('DYNAMODB_CACHE_TABLE', 'cache'),
            'endpoint' => env('DYNAMODB_ENDPOINT'),
        ],

        'octane' => [
            'driver' => 'octane',
        ],

        'failover' => [
            'driver' => 'failover',
            'stores' => [
                'database',
                'array',
            ],
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Cache Key Prefix
    |--------------------------------------------------------------------------
    |
    | When utilizing the APC, database, memcached, Redis, and DynamoDB cache
    | stores, there might be other applications using the same cache. For
    | that reason, you may prefix every cache key to avoid collisions.
    |
    */

    'prefix' => env('CACHE_PREFIX', Str::slug((string) env('APP_NAME', 'laravel')).'-cache-'),

];


--- FILE: ./config/app.php ---

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Application Name
    |--------------------------------------------------------------------------
    |
    | This value is the name of your application, which will be used when the
    | framework needs to place the application's name in a notification or
    | other UI elements where an application name needs to be displayed.
    |
    */

    'name' => env('APP_NAME', 'Laravel'),

    /*
    |--------------------------------------------------------------------------
    | Application Environment
    |--------------------------------------------------------------------------
    |
    | This value determines the "environment" your application is currently
    | running in. This may determine how you prefer to configure various
    | services the application utilizes. Set this in your ".env" file.
    |
    */

    'env' => env('APP_ENV', 'production'),

    /*
    |--------------------------------------------------------------------------
    | Application Debug Mode
    |--------------------------------------------------------------------------
    |
    | When your application is in debug mode, detailed error messages with
    | stack traces will be shown on every error that occurs within your
    | application. If disabled, a simple generic error page is shown.
    |
    */

    'debug' => (bool) env('APP_DEBUG', false),

    /*
    |--------------------------------------------------------------------------
    | Application URL
    |--------------------------------------------------------------------------
    |
    | This URL is used by the console to properly generate URLs when using
    | the Artisan command line tool. You should set this to the root of
    | the application so that it's available within Artisan commands.
    |
    */

    'url' => env('APP_URL', 'http://localhost'),

    /*
    |--------------------------------------------------------------------------
    | Application Timezone
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default timezone for your application, which
    | will be used by the PHP date and date-time functions. The timezone
    | is set to "UTC" by default as it is suitable for most use cases.
    |
    */

    'timezone' => 'UTC',

    /*
    |--------------------------------------------------------------------------
    | Application Locale Configuration
    |--------------------------------------------------------------------------
    |
    | The application locale determines the default locale that will be used
    | by Laravel's translation / localization methods. This option can be
    | set to any locale for which you plan to have translation strings.
    |
    */

    'locale' => env('APP_LOCALE', 'en'),

    'fallback_locale' => env('APP_FALLBACK_LOCALE', 'en'),

    'faker_locale' => env('APP_FAKER_LOCALE', 'en_US'),

    /*
    |--------------------------------------------------------------------------
    | Encryption Key
    |--------------------------------------------------------------------------
    |
    | This key is utilized by Laravel's encryption services and should be set
    | to a random, 32 character string to ensure that all encrypted values
    | are secure. You should do this prior to deploying the application.
    |
    */

    'cipher' => 'AES-256-CBC',

    'key' => env('APP_KEY'),

    'previous_keys' => [
        ...array_filter(
            explode(',', (string) env('APP_PREVIOUS_KEYS', ''))
        ),
    ],

    /*
    |--------------------------------------------------------------------------
    | Maintenance Mode Driver
    |--------------------------------------------------------------------------
    |
    | These configuration options determine the driver used to determine and
    | manage Laravel's "maintenance mode" status. The "cache" driver will
    | allow maintenance mode to be controlled across multiple machines.
    |
    | Supported drivers: "file", "cache"
    |
    */

    'maintenance' => [
        'driver' => env('APP_MAINTENANCE_DRIVER', 'file'),
        'store' => env('APP_MAINTENANCE_STORE', 'database'),
    ],

    'frontend_url' => env('FRONTEND_URL', 'http://localhost:5174'),

];


--- FILE: ./config/session.php ---

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Session Driver
    |--------------------------------------------------------------------------
    |
    | This option determines the default session driver that is utilized for
    | incoming requests. Laravel supports a variety of storage options to
    | persist session data. Database storage is a great default choice.
    |
    | Supported: "file", "cookie", "database", "memcached",
    |            "redis", "dynamodb", "array"
    |
    */

    'driver' => env('SESSION_DRIVER', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Session Lifetime
    |--------------------------------------------------------------------------
    |
    | Here you may specify the number of minutes that you wish the session
    | to be allowed to remain idle before it expires. If you want them
    | to expire immediately when the browser is closed then you may
    | indicate that via the expire_on_close configuration option.
    |
    */

    'lifetime' => (int) env('SESSION_LIFETIME', 120),

    'expire_on_close' => env('SESSION_EXPIRE_ON_CLOSE', false),

    /*
    |--------------------------------------------------------------------------
    | Session Encryption
    |--------------------------------------------------------------------------
    |
    | This option allows you to easily specify that all of your session data
    | should be encrypted before it's stored. All encryption is performed
    | automatically by Laravel and you may use the session like normal.
    |
    */

    'encrypt' => env('SESSION_ENCRYPT', false),

    /*
    |--------------------------------------------------------------------------
    | Session File Location
    |--------------------------------------------------------------------------
    |
    | When utilizing the "file" session driver, the session files are placed
    | on disk. The default storage location is defined here; however, you
    | are free to provide another location where they should be stored.
    |
    */

    'files' => storage_path('framework/sessions'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Connection
    |--------------------------------------------------------------------------
    |
    | When using the "database" or "redis" session drivers, you may specify a
    | connection that should be used to manage these sessions. This should
    | correspond to a connection in your database configuration options.
    |
    */

    'connection' => env('SESSION_CONNECTION'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Table
    |--------------------------------------------------------------------------
    |
    | When using the "database" session driver, you may specify the table to
    | be used to store sessions. Of course, a sensible default is defined
    | for you; however, you're welcome to change this to another table.
    |
    */

    'table' => env('SESSION_TABLE', 'sessions'),

    /*
    |--------------------------------------------------------------------------
    | Session Cache Store
    |--------------------------------------------------------------------------
    |
    | When using one of the framework's cache driven session backends, you may
    | define the cache store which should be used to store the session data
    | between requests. This must match one of your defined cache stores.
    |
    | Affects: "dynamodb", "memcached", "redis"
    |
    */

    'store' => env('SESSION_STORE'),

    /*
    |--------------------------------------------------------------------------
    | Session Sweeping Lottery
    |--------------------------------------------------------------------------
    |
    | Some session drivers must manually sweep their storage location to get
    | rid of old sessions from storage. Here are the chances that it will
    | happen on a given request. By default, the odds are 2 out of 100.
    |
    */

    'lottery' => [2, 100],

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Name
    |--------------------------------------------------------------------------
    |
    | Here you may change the name of the session cookie that is created by
    | the framework. Typically, you should not need to change this value
    | since doing so does not grant a meaningful security improvement.
    |
    */

    'cookie' => env(
        'SESSION_COOKIE',
        Str::slug((string) env('APP_NAME', 'laravel')).'-session'
    ),

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Path
    |--------------------------------------------------------------------------
    |
    | The session cookie path determines the path for which the cookie will
    | be regarded as available. Typically, this will be the root path of
    | your application, but you're free to change this when necessary.
    |
    */

    'path' => env('SESSION_PATH', '/'),

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Domain
    |--------------------------------------------------------------------------
    |
    | This value determines the domain and subdomains the session cookie is
    | available to. By default, the cookie will be available to the root
    | domain without subdomains. Typically, this shouldn't be changed.
    |
    */

    'domain' => env('SESSION_DOMAIN'),

    /*
    |--------------------------------------------------------------------------
    | HTTPS Only Cookies
    |--------------------------------------------------------------------------
    |
    | By setting this option to true, session cookies will only be sent back
    | to the server if the browser has a HTTPS connection. This will keep
    | the cookie from being sent to you when it can't be done securely.
    |
    */

    'secure' => env('SESSION_SECURE_COOKIE'),

    /*
    |--------------------------------------------------------------------------
    | HTTP Access Only
    |--------------------------------------------------------------------------
    |
    | Setting this value to true will prevent JavaScript from accessing the
    | value of the cookie and the cookie will only be accessible through
    | the HTTP protocol. It's unlikely you should disable this option.
    |
    */

    'http_only' => env('SESSION_HTTP_ONLY', true),

    /*
    |--------------------------------------------------------------------------
    | Same-Site Cookies
    |--------------------------------------------------------------------------
    |
    | This option determines how your cookies behave when cross-site requests
    | take place, and can be used to mitigate CSRF attacks. By default, we
    | will set this value to "lax" to permit secure cross-site requests.
    |
    | See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#samesitesamesite-value
    |
    | Supported: "lax", "strict", "none", null
    |
    */

    'same_site' => env('SESSION_SAME_SITE', 'lax'),

    /*
    |--------------------------------------------------------------------------
    | Partitioned Cookies
    |--------------------------------------------------------------------------
    |
    | Setting this value to true will tie the cookie to the top-level site for
    | a cross-site context. Partitioned cookies are accepted by the browser
    | when flagged "secure" and the Same-Site attribute is set to "none".
    |
    */

    'partitioned' => env('SESSION_PARTITIONED_COOKIE', false),

];


--- FILE: ./config/logging.php ---

<?php

use Monolog\Handler\NullHandler;
use Monolog\Handler\StreamHandler;
use Monolog\Handler\SyslogUdpHandler;
use Monolog\Processor\PsrLogMessageProcessor;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Log Channel
    |--------------------------------------------------------------------------
    |
    | This option defines the default log channel that is utilized to write
    | messages to your logs. The value provided here should match one of
    | the channels present in the list of "channels" configured below.
    |
    */

    'default' => env('LOG_CHANNEL', 'stack'),

    /*
    |--------------------------------------------------------------------------
    | Deprecations Log Channel
    |--------------------------------------------------------------------------
    |
    | This option controls the log channel that should be used to log warnings
    | regarding deprecated PHP and library features. This allows you to get
    | your application ready for upcoming major versions of dependencies.
    |
    */

    'deprecations' => [
        'channel' => env('LOG_DEPRECATIONS_CHANNEL', 'null'),
        'trace' => env('LOG_DEPRECATIONS_TRACE', false),
    ],

    /*
    |--------------------------------------------------------------------------
    | Log Channels
    |--------------------------------------------------------------------------
    |
    | Here you may configure the log channels for your application. Laravel
    | utilizes the Monolog PHP logging library, which includes a variety
    | of powerful log handlers and formatters that you're free to use.
    |
    | Available drivers: "single", "daily", "slack", "syslog",
    |                    "errorlog", "monolog", "custom", "stack"
    |
    */

    'channels' => [

        'stack' => [
            'driver' => 'stack',
            'channels' => explode(',', (string) env('LOG_STACK', 'single')),
            'ignore_exceptions' => false,
        ],

        'single' => [
            'driver' => 'single',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
            'replace_placeholders' => true,
        ],

        'daily' => [
            'driver' => 'daily',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
            'days' => env('LOG_DAILY_DAYS', 14),
            'replace_placeholders' => true,
        ],

        'slack' => [
            'driver' => 'slack',
            'url' => env('LOG_SLACK_WEBHOOK_URL'),
            'username' => env('LOG_SLACK_USERNAME', 'Laravel Log'),
            'emoji' => env('LOG_SLACK_EMOJI', ':boom:'),
            'level' => env('LOG_LEVEL', 'critical'),
            'replace_placeholders' => true,
        ],

        'papertrail' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => env('LOG_PAPERTRAIL_HANDLER', SyslogUdpHandler::class),
            'handler_with' => [
                'host' => env('PAPERTRAIL_URL'),
                'port' => env('PAPERTRAIL_PORT'),
                'connectionString' => 'tls://'.env('PAPERTRAIL_URL').':'.env('PAPERTRAIL_PORT'),
            ],
            'processors' => [PsrLogMessageProcessor::class],
        ],

        'stderr' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => StreamHandler::class,
            'handler_with' => [
                'stream' => 'php://stderr',
            ],
            'formatter' => env('LOG_STDERR_FORMATTER'),
            'processors' => [PsrLogMessageProcessor::class],
        ],

        'syslog' => [
            'driver' => 'syslog',
            'level' => env('LOG_LEVEL', 'debug'),
            'facility' => env('LOG_SYSLOG_FACILITY', LOG_USER),
            'replace_placeholders' => true,
        ],

        'errorlog' => [
            'driver' => 'errorlog',
            'level' => env('LOG_LEVEL', 'debug'),
            'replace_placeholders' => true,
        ],

        'null' => [
            'driver' => 'monolog',
            'handler' => NullHandler::class,
        ],

        'emergency' => [
            'path' => storage_path('logs/laravel.log'),
        ],

    ],

];


--- FILE: ./config/scramble.php ---

<?php

use Dedoc\Scramble\Http\Middleware\RestrictedDocsAccess;

return [
    /*
     * Your API path. By default, all routes starting with this path will be added to the docs.
     * If you need to change this behavior, you can add your custom routes resolver using `Scramble::routes()`.
     */
    'api_path' => 'api',

    /*
     * Your API domain. By default, app domain is used. This is also a part of the default API routes
     * matcher, so when implementing your own, make sure you use this config if needed.
     */
    'api_domain' => null,

    /*
     * The path where your OpenAPI specification will be exported.
     */
    'export_path' => 'api.json',

    'info' => [
        /*
         * API version.
         */
        'version' => env('API_VERSION', '0.0.1'),

        /*
         * Description rendered on the home page of the API documentation (`/docs/api`).
         */
        'description' => '',
    ],

    /*
     * Customize Stoplight Elements UI
     */
    'ui' => [
        /*
         * Define the title of the documentation's website. App name is used when this config is `null`.
         */
        'title' => null,

        /*
         * Define the theme of the documentation. Available options are `light`, `dark`, and `system`.
         */
        'theme' => 'light',

        /*
         * Hide the `Try It` feature. Enabled by default.
         */
        'hide_try_it' => false,

        /*
         * Hide the schemas in the Table of Contents. Enabled by default.
         */
        'hide_schemas' => false,

        /*
         * URL to an image that displays as a small square logo next to the title, above the table of contents.
         */
        'logo' => '',

        /*
         * Use to fetch the credential policy for the Try It feature. Options are: omit, include (default), and same-origin
         */
        'try_it_credentials_policy' => 'include',

        /*
         * There are three layouts for Elements:
         * - sidebar - (Elements default) Three-column design with a sidebar that can be resized.
         * - responsive - Like sidebar, except at small screen sizes it collapses the sidebar into a drawer that can be toggled open.
         * - stacked - Everything in a single column, making integrations with existing websites that have their own sidebar or other columns already.
         */
        'layout' => 'responsive',
    ],

    /*
     * The list of servers of the API. By default, when `null`, server URL will be created from
     * `scramble.api_path` and `scramble.api_domain` config variables. When providing an array, you
     * will need to specify the local server URL manually (if needed).
     *
     * Example of non-default config (final URLs are generated using Laravel `url` helper):
     *
     * ```php
     * 'servers' => [
     *     'Live' => 'api',
     *     'Prod' => 'https://scramble.dedoc.co/api',
     * ],
     * ```
     */
    'servers' => null,

    /**
     * Determines how Scramble stores the descriptions of enum cases.
     * Available options:
     * - 'description'  Case descriptions are stored as the enum schema's description using table formatting.
     * - 'extension'  Case descriptions are stored in the `x-enumDescriptions` enum schema extension.
     *
     *    @see https://redocly.com/docs-legacy/api-reference-docs/specification-extensions/x-enum-descriptions
     * - false - Case descriptions are ignored.
     */
    'enum_cases_description_strategy' => 'description',

    /**
     * Determines how Scramble stores the names of enum cases.
     * Available options:
     * - 'names'  Case names are stored in the `x-enumNames` enum schema extension.
     * - 'varnames' - Case names are stored in the `x-enum-varnames` enum schema extension.
     * - false - Case names are not stored.
     */
    'enum_cases_names_strategy' => false,

    /**
     * When Scramble encounters deep objects in query parameters, it flattens the parameters so the generated
     * OpenAPI document correctly describes the API. Flattening deep query parameters is relevant until
     * OpenAPI 3.2 is released and query string structure can be described properly.
     *
     * For example, this nested validation rule describes the object with `bar` property:
     * `['foo.bar' => ['required', 'int']]`.
     *
     * When `flatten_deep_query_parameters` is `true`, Scramble will document the parameter like so:
     * `{"name":"foo[bar]", "schema":{"type":"int"}, "required":true}`.
     *
     * When `flatten_deep_query_parameters` is `false`, Scramble will document the parameter like so:
     *  `{"name":"foo", "schema": {"type":"object", "properties":{"bar":{"type": "int"}}, "required": ["bar"]}, "required":true}`.
     */
    'flatten_deep_query_parameters' => true,

    'middleware' => [
        'web',
        RestrictedDocsAccess::class,
    ],

    'extensions' => [],
];


--- FILE: ./config/queue.php ---

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Queue Connection Name
    |--------------------------------------------------------------------------
    |
    | Laravel's queue supports a variety of backends via a single, unified
    | API, giving you convenient access to each backend using identical
    | syntax for each. The default queue connection is defined below.
    |
    */

    'default' => env('QUEUE_CONNECTION', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Queue Connections
    |--------------------------------------------------------------------------
    |
    | Here you may configure the connection options for every queue backend
    | used by your application. An example configuration is provided for
    | each backend supported by Laravel. You're also free to add more.
    |
    | Drivers: "sync", "database", "beanstalkd", "sqs", "redis",
    |          "deferred", "background", "failover", "null"
    |
    */

    'connections' => [

        'sync' => [
            'driver' => 'sync',
        ],

        'database' => [
            'driver' => 'database',
            'connection' => env('DB_QUEUE_CONNECTION'),
            'table' => env('DB_QUEUE_TABLE', 'jobs'),
            'queue' => env('DB_QUEUE', 'default'),
            'retry_after' => (int) env('DB_QUEUE_RETRY_AFTER', 90),
            'after_commit' => false,
        ],

        'beanstalkd' => [
            'driver' => 'beanstalkd',
            'host' => env('BEANSTALKD_QUEUE_HOST', 'localhost'),
            'queue' => env('BEANSTALKD_QUEUE', 'default'),
            'retry_after' => (int) env('BEANSTALKD_QUEUE_RETRY_AFTER', 90),
            'block_for' => 0,
            'after_commit' => false,
        ],

        'sqs' => [
            'driver' => 'sqs',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'prefix' => env('SQS_PREFIX', 'https://sqs.us-east-1.amazonaws.com/your-account-id'),
            'queue' => env('SQS_QUEUE', 'default'),
            'suffix' => env('SQS_SUFFIX'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'after_commit' => false,
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => env('REDIS_QUEUE_CONNECTION', 'default'),
            'queue' => env('REDIS_QUEUE', 'default'),
            'retry_after' => (int) env('REDIS_QUEUE_RETRY_AFTER', 90),
            'block_for' => null,
            'after_commit' => false,
        ],

        'deferred' => [
            'driver' => 'deferred',
        ],

        'background' => [
            'driver' => 'background',
        ],

        'failover' => [
            'driver' => 'failover',
            'connections' => [
                'database',
                'deferred',
            ],
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Job Batching
    |--------------------------------------------------------------------------
    |
    | The following options configure the database and table that store job
    | batching information. These options can be updated to any database
    | connection and table which has been defined by your application.
    |
    */

    'batching' => [
        'database' => env('DB_CONNECTION', 'sqlite'),
        'table' => 'job_batches',
    ],

    /*
    |--------------------------------------------------------------------------
    | Failed Queue Jobs
    |--------------------------------------------------------------------------
    |
    | These options configure the behavior of failed queue job logging so you
    | can control how and where failed jobs are stored. Laravel ships with
    | support for storing failed jobs in a simple file or in a database.
    |
    | Supported drivers: "database-uuids", "dynamodb", "file", "null"
    |
    */

    'failed' => [
        'driver' => env('QUEUE_FAILED_DRIVER', 'database-uuids'),
        'database' => env('DB_CONNECTION', 'sqlite'),
        'table' => 'failed_jobs',
    ],

];


--- FILE: ./config/filesystems.php ---

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Filesystem Disk
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default filesystem disk that should be used
    | by the framework. The "local" disk, as well as a variety of cloud
    | based disks are available to your application for file storage.
    |
    */

    'default' => env('FILESYSTEM_DISK', 'local'),

    /*
    |--------------------------------------------------------------------------
    | Filesystem Disks
    |--------------------------------------------------------------------------
    |
    | Below you may configure as many filesystem disks as necessary, and you
    | may even configure multiple disks for the same driver. Examples for
    | most supported storage drivers are configured here for reference.
    |
    | Supported drivers: "local", "ftp", "sftp", "s3"
    |
    */

    'disks' => [

        'local' => [
            'driver' => 'local',
            'root' => storage_path('app/private'),
            'serve' => true,
            'throw' => false,
            'report' => false,
        ],

        'public' => [
            'driver' => 'local',
            'root' => storage_path('app/public'),
            'url' => env('APP_URL').'/storage',
            'visibility' => 'public',
            'throw' => false,
            'report' => false,
        ],

        's3' => [
            'driver' => 's3',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION'),
            'bucket' => env('AWS_BUCKET'),
            'url' => env('AWS_URL'),
            'endpoint' => env('AWS_ENDPOINT'),
            'use_path_style_endpoint' => env('AWS_USE_PATH_STYLE_ENDPOINT', false),
            'throw' => false,
            'report' => false,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Symbolic Links
    |--------------------------------------------------------------------------
    |
    | Here you may configure the symbolic links that will be created when the
    | `storage:link` Artisan command is executed. The array keys should be
    | the locations of the links and the values should be their targets.
    |
    */

    'links' => [
        public_path('storage') => storage_path('app/public'),
    ],

];


--- FILE: ./config/services.php ---

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Third Party Services
    |--------------------------------------------------------------------------
    |
    | This file is for storing the credentials for third party services such
    | as Mailgun, Postmark, AWS and more. This file provides the de facto
    | location for this type of information, allowing packages to have
    | a conventional file to locate the various service credentials.
    |
    */

    'postmark' => [
        'key' => env('POSTMARK_API_KEY'),
    ],

    'resend' => [
        'key' => env('RESEND_API_KEY'),
    ],

    'ses' => [
        'key' => env('AWS_ACCESS_KEY_ID'),
        'secret' => env('AWS_SECRET_ACCESS_KEY'),
        'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
    ],

    'slack' => [
        'notifications' => [
            'bot_user_oauth_token' => env('SLACK_BOT_USER_OAUTH_TOKEN'),
            'channel' => env('SLACK_BOT_USER_DEFAULT_CHANNEL'),
        ],
    ],
    'abr' => [
        'guid' => env('ABR_GUID'),
    ],
    'shopify' => [
        'key' => env('SHOPIFY_CLIENT_ID'),
        'secret' => env('SHOPIFY_CLIENT_SECRET'),
        'redirect' => env('SHOPIFY_REDIRECT_URI'),
    ],

];


--- FILE: ./config/mail.php ---

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Mailer
    |--------------------------------------------------------------------------
    |
    | This option controls the default mailer that is used to send all email
    | messages unless another mailer is explicitly specified when sending
    | the message. All additional mailers can be configured within the
    | "mailers" array. Examples of each type of mailer are provided.
    |
    */

    'default' => env('MAIL_MAILER', 'log'),

    /*
    |--------------------------------------------------------------------------
    | Mailer Configurations
    |--------------------------------------------------------------------------
    |
    | Here you may configure all of the mailers used by your application plus
    | their respective settings. Several examples have been configured for
    | you and you are free to add your own as your application requires.
    |
    | Laravel supports a variety of mail "transport" drivers that can be used
    | when delivering an email. You may specify which one you're using for
    | your mailers below. You may also add additional mailers if needed.
    |
    | Supported: "smtp", "sendmail", "mailgun", "ses", "ses-v2",
    |            "postmark", "resend", "log", "array",
    |            "failover", "roundrobin"
    |
    */

    'mailers' => [

        'smtp' => [
            'transport' => 'smtp',
            'scheme' => env('MAIL_SCHEME'),
            'url' => env('MAIL_URL'),
            'host' => env('MAIL_HOST', '127.0.0.1'),
            'port' => env('MAIL_PORT', 2525),
            'username' => env('MAIL_USERNAME'),
            'password' => env('MAIL_PASSWORD'),
            'timeout' => null,
            'local_domain' => env('MAIL_EHLO_DOMAIN', parse_url((string) env('APP_URL', 'http://localhost'), PHP_URL_HOST)),
        ],

        'ses' => [
            'transport' => 'ses',
        ],

        'postmark' => [
            'transport' => 'postmark',
            // 'message_stream_id' => env('POSTMARK_MESSAGE_STREAM_ID'),
            // 'client' => [
            //     'timeout' => 5,
            // ],
        ],

        'resend' => [
            'transport' => 'resend',
        ],

        'sendmail' => [
            'transport' => 'sendmail',
            'path' => env('MAIL_SENDMAIL_PATH', '/usr/sbin/sendmail -bs -i'),
        ],

        'log' => [
            'transport' => 'log',
            'channel' => env('MAIL_LOG_CHANNEL'),
        ],

        'array' => [
            'transport' => 'array',
        ],

        'failover' => [
            'transport' => 'failover',
            'mailers' => [
                'smtp',
                'log',
            ],
            'retry_after' => 60,
        ],

        'roundrobin' => [
            'transport' => 'roundrobin',
            'mailers' => [
                'ses',
                'postmark',
            ],
            'retry_after' => 60,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Global "From" Address
    |--------------------------------------------------------------------------
    |
    | You may wish for all emails sent by your application to be sent from
    | the same address. Here you may specify a name and address that is
    | used globally for all emails that are sent by your application.
    |
    */

    'from' => [
        'address' => env('MAIL_FROM_ADDRESS', 'hello@example.com'),
        'name' => env('MAIL_FROM_NAME', 'Example'),
    ],

];


--- FILE: ./config/auth.php ---

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Authentication Defaults
    |--------------------------------------------------------------------------
    |
    | This option defines the default authentication "guard" and password
    | reset "broker" for your application. You may change these values
    | as required, but they're a perfect start for most applications.
    |
    */

    'defaults' => [
        'guard' => env('AUTH_GUARD', 'web'),
        'passwords' => env('AUTH_PASSWORD_BROKER', 'users'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Authentication Guards
    |--------------------------------------------------------------------------
    |
    | Next, you may define every authentication guard for your application.
    | Of course, a great default configuration has been defined for you
    | which utilizes session storage plus the Eloquent user provider.
    |
    | All authentication guards have a user provider, which defines how the
    | users are actually retrieved out of your database or other storage
    | system used by the application. Typically, Eloquent is utilized.
    |
    | Supported: "session"
    |
    */

    'guards' => [
        'web' => [
            'driver' => 'session',
            'provider' => 'users',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | User Providers
    |--------------------------------------------------------------------------
    |
    | All authentication guards have a user provider, which defines how the
    | users are actually retrieved out of your database or other storage
    | system used by the application. Typically, Eloquent is utilized.
    |
    | If you have multiple user tables or models you may configure multiple
    | providers to represent the model / table. These providers may then
    | be assigned to any extra authentication guards you have defined.
    |
    | Supported: "database", "eloquent"
    |
    */

    'providers' => [
        'users' => [
            'driver' => 'eloquent',
            'model' => env('AUTH_MODEL', App\Models\User::class),
        ],

        // 'users' => [
        //     'driver' => 'database',
        //     'table' => 'users',
        // ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Resetting Passwords
    |--------------------------------------------------------------------------
    |
    | These configuration options specify the behavior of Laravel's password
    | reset functionality, including the table utilized for token storage
    | and the user provider that is invoked to actually retrieve users.
    |
    | The expiry time is the number of minutes that each reset token will be
    | considered valid. This security feature keeps tokens short-lived so
    | they have less time to be guessed. You may change this as needed.
    |
    | The throttle setting is the number of seconds a user must wait before
    | generating more password reset tokens. This prevents the user from
    | quickly generating a very large amount of password reset tokens.
    |
    */

    'passwords' => [
        'users' => [
            'provider' => 'users',
            'table' => env('AUTH_PASSWORD_RESET_TOKEN_TABLE', 'password_reset_tokens'),
            'expire' => 60,
            'throttle' => 60,
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Password Confirmation Timeout
    |--------------------------------------------------------------------------
    |
    | Here you may define the number of seconds before a password confirmation
    | window expires and users are asked to re-enter their password via the
    | confirmation screen. By default, the timeout lasts for three hours.
    |
    */

    'password_timeout' => env('AUTH_PASSWORD_TIMEOUT', 10800),

];


--- FILE: ./config/sanctum.php ---

<?php

use Laravel\Sanctum\Sanctum;

return [

    /*
    |--------------------------------------------------------------------------
    | Stateful Domains
    |--------------------------------------------------------------------------
    |
    | Requests from the following domains / hosts will receive stateful API
    | authentication cookies. Typically, these should include your local
    | and production domains which access your API via a frontend SPA.
    |
    */

    'stateful' => explode(',', env('SANCTUM_STATEFUL_DOMAINS', sprintf(
        '%s%s',
        'localhost,localhost:3000,127.0.0.1,127.0.0.1:8000,::1',
        Sanctum::currentApplicationUrlWithPort(),
        // Sanctum::currentRequestHost(),
    ))),

    /*
    |--------------------------------------------------------------------------
    | Sanctum Guards
    |--------------------------------------------------------------------------
    |
    | This array contains the authentication guards that will be checked when
    | Sanctum is trying to authenticate a request. If none of these guards
    | are able to authenticate the request, Sanctum will use the bearer
    | token that's present on an incoming request for authentication.
    |
    */

    'guard' => ['web'],

    /*
    |--------------------------------------------------------------------------
    | Expiration Minutes
    |--------------------------------------------------------------------------
    |
    | This value controls the number of minutes until an issued token will be
    | considered expired. This will override any values set in the token's
    | "expires_at" attribute, but first-party sessions are not affected.
    |
    */

    'expiration' => null,

    /*
    |--------------------------------------------------------------------------
    | Token Prefix
    |--------------------------------------------------------------------------
    |
    | Sanctum can prefix new tokens in order to take advantage of numerous
    | security scanning initiatives maintained by open source platforms
    | that notify developers if they commit tokens into repositories.
    |
    | See: https://docs.github.com/en/code-security/secret-scanning/about-secret-scanning
    |
    */

    'token_prefix' => env('SANCTUM_TOKEN_PREFIX', ''),

    /*
    |--------------------------------------------------------------------------
    | Sanctum Middleware
    |--------------------------------------------------------------------------
    |
    | When authenticating your first-party SPA with Sanctum you may need to
    | customize some of the middleware Sanctum uses while processing the
    | request. You may change the middleware listed below as required.
    |
    */

    'middleware' => [
        'authenticate_session' => Laravel\Sanctum\Http\Middleware\AuthenticateSession::class,
        'encrypt_cookies' => Illuminate\Cookie\Middleware\EncryptCookies::class,
        'validate_csrf_token' => Illuminate\Foundation\Http\Middleware\ValidateCsrfToken::class,
    ],

];


--- FILE: ./compose.yaml ---

services:
    laravel.test:
        build:
            context: './vendor/laravel/sail/runtimes/8.5'
            dockerfile: Dockerfile
            args:
                WWWGROUP: '${WWWGROUP}'
        image: 'sail-8.5/app'
        extra_hosts:
            - 'host.docker.internal:host-gateway'
        ports:
            - '${APP_PORT:-80}:80'
            - '${VITE_PORT:-5173}:${VITE_PORT:-5173}'
        environment:
            WWWUSER: '${WWWUSER}'
            LARAVEL_SAIL: 1
            XDEBUG_MODE: '${SAIL_XDEBUG_MODE:-off}'
            XDEBUG_CONFIG: '${SAIL_XDEBUG_CONFIG:-client_host=host.docker.internal}'
            IGNITION_LOCAL_SITES_PATH: '${PWD}'
        volumes:
            - '.:/var/www/html'
        networks:
            - sail
        depends_on:
            - mysql
            - redis
            - mailpit
    mysql:
        image: 'mysql:8.4'
        ports:
            - '${FORWARD_DB_PORT:-3306}:3306'
        environment:
            MYSQL_ROOT_PASSWORD: '${DB_PASSWORD}'
            MYSQL_ROOT_HOST: '%'
            MYSQL_DATABASE: '${DB_DATABASE}'
            MYSQL_USER: '${DB_USERNAME}'
            MYSQL_PASSWORD: '${DB_PASSWORD}'
            MYSQL_ALLOW_EMPTY_PASSWORD: 1
            MYSQL_EXTRA_OPTIONS: '${MYSQL_EXTRA_OPTIONS:-}'
        volumes:
            - 'sail-mysql:/var/lib/mysql'
            - './vendor/laravel/sail/database/mysql/create-testing-database.sh:/docker-entrypoint-initdb.d/10-create-testing-database.sh'
        networks:
            - sail
        healthcheck:
            test:
                - CMD
                - mysqladmin
                - ping
                - '-p${DB_PASSWORD}'
            retries: 3
            timeout: 5s
    redis:
        image: 'redis:alpine'
        ports:
            - '${FORWARD_REDIS_PORT:-6379}:6379'
        volumes:
            - 'sail-redis:/data'
        networks:
            - sail
        healthcheck:
            test:
                - CMD
                - redis-cli
                - ping
            retries: 3
            timeout: 5s
    mailpit:
        image: 'axllent/mailpit:latest'
        ports:
            - '${FORWARD_MAILPIT_PORT:-1025}:1025'
            - '${FORWARD_MAILPIT_DASHBOARD_PORT:-8025}:8025'
        networks:
            - sail
networks:
    sail:
        driver: bridge
volumes:
    sail-mysql:
        driver: local
    sail-redis:
        driver: local


--- FILE: ./artisan ---

#!/usr/bin/env php
<?php

use Illuminate\Foundation\Application;
use Symfony\Component\Console\Input\ArgvInput;

define('LARAVEL_START', microtime(true));

// Register the Composer autoloader...
require __DIR__.'/vendor/autoload.php';

// Bootstrap Laravel and handle the command...
/** @var Application $app */
$app = require_once __DIR__.'/bootstrap/app.php';

$status = $app->handleCommand(new ArgvInput);

exit($status);


--- FILE: ./database/factories/UserFactory.php ---

<?php

namespace Database\Factories;

use Illuminate\Database\Eloquent\Factories\Factory;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Str;

/**
 * @extends \Illuminate\Database\Eloquent\Factories\Factory<\App\Models\User>
 */
class UserFactory extends Factory
{
    /**
     * The current password being used by the factory.
     */
    protected static ?string $password;

    /**
     * Define the model's default state.
     *
     * @return array<string, mixed>
     */
    public function definition(): array
    {
        return [
            'name' => fake()->name(),
            'email' => fake()->unique()->safeEmail(),
            'email_verified_at' => now(),
            'password' => static::$password ??= Hash::make('password'),
            'remember_token' => Str::random(10),
        ];
    }

    /**
     * Indicate that the model's email address should be unverified.
     */
    public function unverified(): static
    {
        return $this->state(fn (array $attributes) => [
            'email_verified_at' => null,
        ]);
    }
}


--- FILE: ./database/migrations/2026_01_08_103405_create_shipment_quotes_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
{
    Schema::create('shipment_quotes', function (Blueprint $table) {
        $table->id();
        $table->foreignId('shipment_id')->constrained()->onDelete('cascade');
        
        $table->string('courier_name'); // e.g., "Fastway"
        $table->string('service_name'); // e.g., "Overnight Satchel"
        $table->string('service_code'); // e.g., "FW_ON_SATCHEL" (needed for API booking)
        
        $table->integer('price_cents'); // Store as integer (dollars * 100)
        $table->string('eta')->nullable(); // e.g., "1-2 Days"
        
        $table->timestamps();
    });
}

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('shipment_quotes');
    }
};


--- FILE: ./database/migrations/0001_01_01_000000_create_users_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('users', function (Blueprint $table) {
            $table->id();
            
            // --- Foreign Keys ---
            $table->foreignId('company_id')->nullable()->constrained()->onDelete('cascade');
            
            // --- User Details ---
            $table->string('role')->default('user'); 
            $table->string('first_name');
            $table->string('last_name');
            
            // --- Auth Details ---
            $table->string('email')->unique();
            $table->timestamp('email_verified_at')->nullable();
            $table->string('password');
            $table->rememberToken();
            $table->timestamps();
        });

        Schema::create('password_reset_tokens', function (Blueprint $table) {
            $table->string('email')->primary();
            $table->string('token');
            $table->timestamp('created_at')->nullable();
        });

        Schema::create('sessions', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->foreignId('user_id')->nullable()->index();
            $table->string('ip_address', 45)->nullable();
            $table->text('user_agent')->nullable();
            $table->longText('payload');
            $table->integer('last_activity')->index();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('users');
        Schema::dropIfExists('password_reset_tokens');
        Schema::dropIfExists('sessions');
    }
};

--- FILE: ./database/migrations/2026_01_06_085126_create_shipments_tables.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        // 1. Shipments (The Header)
        Schema::create('shipments', function (Blueprint $table) {
            $table->id();
            // Link to Company & User
            $table->foreignId('company_id')->constrained()->cascadeOnDelete();
            $table->foreignId('user_id')->constrained()->cascadeOnDelete();

            // Sender Details (These were missing!)
            $table->string('sender_name');
            $table->string('sender_address')->nullable(); // <--- Added
            $table->string('sender_suburb');              // <--- Made required
            $table->string('sender_state');               // <--- Added
            $table->string('sender_postcode');

            // Receiver Details
            $table->string('receiver_name');
            $table->string('receiver_address');
            $table->string('receiver_suburb');
            $table->string('receiver_state');
            $table->string('receiver_postcode');

            // Logistics Status
            $table->string('status')->default('draft');
            
            // Booking Details (Nullable for drafts)
            $table->string('courier_name')->nullable();
            $table->string('service_name')->nullable();      // <--- Added
            $table->integer('total_price_cents')->nullable(); // <--- Added
            $table->string('tracking_number')->nullable();

            $table->timestamps();
        });

        // 2. Shipment Items (The Rows)
        Schema::create('shipment_items', function (Blueprint $table) {
            $table->id();
            $table->foreignId('shipment_id')->constrained()->cascadeOnDelete();

            $table->string('type')->default('box');
            $table->decimal('length', 10, 2); // Changed to decimal for precision
            $table->decimal('width', 10, 2);
            $table->decimal('height', 10, 2);
            $table->decimal('weight', 10, 2);
            $table->integer('quantity')->default(1);
            
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('shipment_items');
        Schema::dropIfExists('shipments');
    }
};

--- FILE: ./database/migrations/2026_01_12_073936_create_support_tickets_tables.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        // 1. The Ticket Head
        Schema::create('support_tickets', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade'); // Creator
            $table->foreignId('company_id')->constrained()->onDelete('cascade'); // Tenant Context
            $table->foreignId('shipment_id')->nullable()->constrained()->nullOnDelete(); // Optional Context
            
            $table->string('subject');
            $table->enum('status', ['open', 'in_progress', 'resolved', 'closed'])->default('open');
            $table->enum('priority', ['low', 'medium', 'high', 'critical'])->default('medium');
            
            $table->timestamps();
        });

        // 2. The Messages (Chat Stream)
        Schema::create('ticket_messages', function (Blueprint $table) {
            $table->id();
            $table->foreignId('support_ticket_id')->constrained()->onDelete('cascade');
            $table->foreignId('user_id')->constrained(); // Sender (User or Admin)
            
            $table->text('message');
            $table->string('attachment_path')->nullable(); // For files/screenshots
            $table->string('attachment_name')->nullable(); // Original filename
            
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('ticket_messages');
        Schema::dropIfExists('support_tickets');
    }
};

--- FILE: ./database/migrations/2026_01_09_103730_fix_courier_mappings_structure.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;
use Illuminate\Support\Facades\DB;

return new class extends Migration
{
    public function up(): void
    {
        Schema::table('courier_mappings', function (Blueprint $table) {
            // 1. Add 'name_in_app' if missing
            if (!Schema::hasColumn('courier_mappings', 'name_in_app')) {
                $table->string('name_in_app')->nullable()->after('id');
            }
            
            // 2. Add 'carrier_config_id' if missing
            if (!Schema::hasColumn('courier_mappings', 'carrier_config_id')) {
                $table->unsignedBigInteger('carrier_config_id')->nullable()->after('name_in_app');
            }

            // 3. FIX: Add 'is_active' if missing (This caused your error)
            if (!Schema::hasColumn('courier_mappings', 'is_active')) {
                $table->boolean('is_active')->default(true)->after('carrier_config_id');
            }

            // 4. Make existing columns nullable so we can insert partial data
            // This prevents the "Field 'courier_code' doesn't have a default value" error
            if (Schema::hasColumn('courier_mappings', 'courier_code')) {
                $table->string('courier_code')->nullable()->change();
            }
            if (Schema::hasColumn('courier_mappings', 'target_field')) {
                $table->string('target_field')->nullable()->change();
            }
            if (Schema::hasColumn('courier_mappings', 'input_value')) {
                $table->string('input_value')->nullable()->change();
            }
            if (Schema::hasColumn('courier_mappings', 'output_code')) {
                $table->string('output_code')->nullable()->change();
            }
            if (Schema::hasColumn('courier_mappings', 'output_description')) {
                $table->string('output_description')->nullable()->change();
            }
        });

        // Clear old data to prevent duplicates, but DO NOT seed here.
        // Seeding happens in CourierMappingSeeder.php now.
        DB::table('courier_mappings')->truncate();
    }

    public function down(): void
    {
        // No down action needed for dev fixes
    }
};

--- FILE: ./database/migrations/2026_01_05_142436_create_personal_access_tokens_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('personal_access_tokens', function (Blueprint $table) {
            $table->id();
            $table->morphs('tokenable');
            $table->text('name');
            $table->string('token', 64)->unique();
            $table->text('abilities')->nullable();
            $table->timestamp('last_used_at')->nullable();
            $table->timestamp('expires_at')->nullable()->index();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('personal_access_tokens');
    }
};


--- FILE: ./database/migrations/2026_01_06_083150_create_carrier_infrastructure.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        // 1. Store Credentials
        Schema::create('carrier_configs', function (Blueprint $table) {
            $table->id();
            $table->string('carrier_code');
            $table->string('account_code')->nullable();
            
            // --- CHANGE THESE TWO LINES FROM string TO text ---
            $table->text('api_key')->nullable();    // Changed to text to hold encrypted string
            $table->text('api_secret')->nullable(); // Changed to text to hold encrypted string
            // --------------------------------------------------

            $table->string('environment')->default('test');
            $table->json('extra_settings')->nullable();
            $table->boolean('is_active')->default(true);
            $table->timestamps();
        });

        // 2. Store Service Mappings (The "UI" Configuration Layer)
        Schema::create('carrier_mappings', function (Blueprint $table) {
            $table->id();
            $table->string('carrier_code'); // e.g., 'northline'
            $table->string('our_value');    // e.g., 'pallet'
            $table->string('their_value');  // e.g., 'PAL'
            $table->string('field_type');   // e.g., 'package_type', 'service_code'
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('carrier_mappings');
        Schema::dropIfExists('carrier_configs');
    }
};

--- FILE: ./database/migrations/0001_01_01_000001_create_cache_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('cache', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->mediumText('value');
            $table->integer('expiration');
        });

        Schema::create('cache_locks', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->string('owner');
            $table->integer('expiration');
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('cache');
        Schema::dropIfExists('cache_locks');
    }
};


--- FILE: ./database/migrations/2026_01_06_105244_create_courier_mappings_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('courier_mappings', function (Blueprint $table) {
            $table->id();
            $table->string('courier_code')->index(); // e.g., 'hunters'
            $table->string('target_field')->default('item_type'); // e.g., 'item_type', 'service_code'

            // What the user/system sends (e.g., 'box')
            $table->string('input_value'); 

            // What the API needs
            $table->string('output_code');       // e.g., 'CTN'
            $table->string('output_description')->nullable(); // e.g., 'Carton'

            $table->unique(['courier_code', 'target_field', 'input_value'], 'unique_mapping');
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('courier_mappings');
    }
};

--- FILE: ./database/migrations/2026_01_12_080447_add_last_reply_at_to_support_tickets.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;
use Illuminate\Support\Facades\DB;

return new class extends Migration
{
    public function up(): void
    {
        Schema::table('support_tickets', function (Blueprint $table) {
            $table->timestamp('last_reply_at')->nullable()->after('priority');
        });

        // Data Migration: Set initial last_reply_at to created_at for existing tickets
        DB::statement('UPDATE support_tickets SET last_reply_at = created_at');
    }

    public function down(): void
    {
        Schema::table('support_tickets', function (Blueprint $table) {
            $table->dropColumn('last_reply_at');
        });
    }
};

--- FILE: ./database/migrations/2026_01_12_083949_create_integrations_tables.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        // 1. Table to store API Keys
        Schema::create('user_integrations', function (Blueprint $table) {
            $table->id();
            $table->foreignId('company_id')->constrained()->cascadeOnDelete();
            $table->foreignId('user_id')->nullable()->constrained()->nullOnDelete(); // Add this line (it was missing in some versions)
            $table->string('platform'); // 'shopify'
            $table->string('store_url'); 
            $table->string('api_secret')->nullable(); // Encrypted Access Token
            $table->boolean('is_active')->default(true);
            $table->timestamp('last_synced_at')->nullable();
            $table->timestamps();
        });

        // 2. Add columns to shipments table (if not already added)
        if (!Schema::hasColumn('shipments', 'source')) {
            Schema::table('shipments', function (Blueprint $table) {
                $table->string('source')->default('manual'); // 'manual', 'shopify'
                $table->string('external_order_id')->nullable(); 
                $table->string('external_order_number')->nullable(); 
            });
        }
    }

    public function down(): void
    {
        Schema::dropIfExists('user_integrations');
        Schema::table('shipments', function (Blueprint $table) {
            $table->dropColumn(['source', 'external_order_id', 'external_order_number']);
        });
    }
};

--- FILE: ./database/migrations/2026_01_10_000000_create_promotions_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('promotions', function (Blueprint $table) {
            $table->id();
            $table->string('code')->unique(); // e.g., "SUMMER25"
            $table->string('description')->nullable();
            $table->enum('type', ['percentage', 'fixed']);
            $table->decimal('value', 8, 2); // 10.00 or 20.00
            
            // Constraints
            $table->unsignedInteger('max_uses')->nullable();
            $table->unsignedInteger('current_uses')->default(0);
            $table->decimal('min_spend_cents', 10, 0)->nullable();
            $table->dateTime('starts_at')->nullable();
            $table->dateTime('expires_at')->nullable();
            $table->boolean('is_active')->default(true);
            
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('promotions');
    }
};

--- FILE: ./database/migrations/0001_01_01_000002_create_jobs_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('jobs', function (Blueprint $table) {
            $table->id();
            $table->string('queue')->index();
            $table->longText('payload');
            $table->unsignedTinyInteger('attempts');
            $table->unsignedInteger('reserved_at')->nullable();
            $table->unsignedInteger('available_at');
            $table->unsignedInteger('created_at');
        });

        Schema::create('job_batches', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->string('name');
            $table->integer('total_jobs');
            $table->integer('pending_jobs');
            $table->integer('failed_jobs');
            $table->longText('failed_job_ids');
            $table->mediumText('options')->nullable();
            $table->integer('cancelled_at')->nullable();
            $table->integer('created_at');
            $table->integer('finished_at')->nullable();
        });

        Schema::create('failed_jobs', function (Blueprint $table) {
            $table->id();
            $table->string('uuid')->unique();
            $table->text('connection');
            $table->text('queue');
            $table->longText('payload');
            $table->longText('exception');
            $table->timestamp('failed_at')->useCurrent();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('jobs');
        Schema::dropIfExists('job_batches');
        Schema::dropIfExists('failed_jobs');
    }
};


--- FILE: ./database/migrations/2026_01_12_080706_create_notifications_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('notifications', function (Blueprint $table) {
            $table->uuid('id')->primary();
            $table->string('type');
            $table->morphs('notifiable');
            $table->text('data');
            $table->timestamp('read_at')->nullable();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('notifications');
    }
};


--- FILE: ./database/migrations/0000_01_01_000000_create_companies_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('companies', function (Blueprint $table) {
            $table->id();
            
            // Identity
            $table->string('abn')->unique(); // Australian Business Number
            $table->string('abn_status')->default('Active'); 
            $table->string('entity_name'); // Official name from ABR Lookup
            $table->string('trading_name')->nullable();
            
            // Location
            $table->string('address_line_1')->nullable();
            $table->string('suburb')->nullable();
            $table->string('state')->nullable();
            $table->string('postcode')->nullable();
            $table->char('country_code', 2)->default('AU'); // ISO Alpha-2
            
            // Settings
            $table->char('currency', 3)->default('AUD');
            $table->string('timezone')->default('Australia/Sydney');
            
            // Financials
            $table->bigInteger('wallet_balance')->default(0); 
            $table->string('billing_email');
            
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('companies');
    }
};

--- FILE: ./database/migrations/2026_01_08_121749_add_label_to_shipments_table.php ---

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
{
    Schema::table('shipments', function (Blueprint $table) {
        $table->string('label_url')->nullable()->after('tracking_number');
        $table->string('consignment_number')->nullable()->after('courier_name'); // API specific ID
    });
}

public function down(): void
{
    Schema::table('shipments', function (Blueprint $table) {
        $table->dropColumn(['label_url', 'consignment_number']);
    });
}
};


--- FILE: ./database/database.sqlite ---

SQLite format 3   @                                                                     .c T Yz;oI
	
Z	ZT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                v;#indexfailed_jobs_uuid_uniquefailed_jobsCREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid")(##tablefailed_jobsfailed_jobsCREATE TABLE "failed_jobs" ("id" integer primary key autoincrement not null, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime not null default CURRENT_TIMESTAMP)`##tablejob_batchesjob_batchesCREATE TABLE "job_batches" ("id" varchar not null, "name" varchar not null, "total_jobs" integer not null, "pending_jobs" integer not null, "failed_jobs" integer not null, "failed_job_ids" text not null, "options" text, "cancelled_at" integer, "created_at" integer not null, "finished_at" integer, primary key ("id"))5I# indexsqlite_autoindex_job_batches_1job_batchesS-sindexjobs_queue_indexjobsCREATE INDEX "jobs_queue_index" on "jobs" ("queue")etablejobsjobsCREATE TABLE "jobs" ("id" integer primary key autoincrement not null, "queue" varchar not null, "payload" text not null, "attempts" integer not null, "reserved_at" integer, "available_at" integer not null, "created_at" integer not null)$##tablecache_lockscache_locksCREATE TABLE "cache_locks" ("key" varchar not null, "owner" varchar not null, "expiration" integer not null, primary key ("key"))5I# indexsqlite_autoindex_cache_locks_1cache_locks}tablecachecacheCREATE TABLE "cache" ("key" varchar not null, "value" text not null, "expiration" integer not null, primary key ("key")))= indexsqlite_autoindex_cache_1cache|
E#indexsessions_last_activity_indexsessionsCREATE INDEX "sessions_last_activity_index" on "sessions" ("last_activity")j	9indexsessions_user_id_indexsessions
CREATE INDEX "sessions_user_id_index" on "sessions" ("user_id")WtablesessionssessionsCREATE TABLE "sessions" ("id" varchar not null, "user_id" integer, "ip_address" varchar, "user_agent" text, "payload" text not null, "last_activity" integer not null, primary key ("id"))/C indexsqlite_autoindex_sessions_1sessions	>77tablepassword_reset_tokenspassword_reset_tokensCREATE TABLE "password_reset_tokens" ("email" varchar not null, "token" varchar not null, "created_at" datetime, primary key ("email"))I]7 indexsqlite_autoindex_password_reset_tokens_1password_reset_tokens       a1indexusers_email_uniqueusersCREATE UNIQUE INDEX "users_email_unique" on "users" ("email")tableusersusersCREATE TABLE "users" ("id" integer primary key autoincrement not null, "name" varchar not null, "email" varchar not null, "email_verified_at" datetime, "password" varchar not null, "remember_token" varchar, "created_at" datetime, "updated_at" datetime)P++Ytablesqlite_sequencesqlite_sequenceCREATE TABLE sqlite_sequence(name,seq)$!!tablemigrationsmigrationsCREATE TABLE "migrations" ("id" integer primary key autoincrement not null, "migration" varchar not null, "batch" integer not null)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ' S	0001_01_01_000002_create_jobs_table( U	0001_01_01_000001_create_cache_table( U	0001_01_01_000000_create_users_table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          !migrations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

--- FILE: ./database/seeders/CourierMappingSeeder.php ---

<?php

namespace Database\Seeders;

use App\Models\CourierMapping;
use App\Models\CarrierConfig;
use Illuminate\Database\Seeder;

class CourierMappingSeeder extends Seeder
{
    public function run(): void
    {
        // =========================================================
        // PART 1: CARRIER IDENTITY MAPPINGS
        // This fixes the "Booking failed: courier config not found" error.
        // It links the name "Hunter Express" to the correct config ID.
        // =========================================================
        
        $hunterConfig = CarrierConfig::where('carrier_code', 'hunters')->first();
        $cpConfig = CarrierConfig::where('carrier_code', 'couriers_please')->first();
        $tntConfig = CarrierConfig::where('carrier_code', 'tnt')->first();

        // 1. Hunter Express
        if ($hunterConfig) {
            CourierMapping::updateOrCreate(
                ['name_in_app' => 'Hunter Express'],
                [
                    'carrier_config_id' => $hunterConfig->id,
                    'courier_code' => 'hunters',
                    'is_active' => true
                ]
            );
        }

        // 2. Couriers Please
        if ($cpConfig) {
            CourierMapping::updateOrCreate(
                ['name_in_app' => 'Couriers Please'],
                [
                    'carrier_config_id' => $cpConfig->id,
                    'courier_code' => 'couriers_please',
                    'is_active' => true
                ]
            );
        }

        // 3. TNT / FedEx
        if ($tntConfig) {
            CourierMapping::updateOrCreate(
                ['name_in_app' => 'TNT / FedEx'],
                [
                    'carrier_config_id' => $tntConfig->id,
                    'courier_code' => 'tnt',
                    'is_active' => true
                ]
            );
        }

        // =========================================================
        // PART 2: ITEM TYPE MAPPINGS (Your Existing Logic)
        // This ensures "box" becomes "CTN" when sending to Hunter.
        // =========================================================

        $huntersItems = [
            // User Input      => [Code, Description]
            'carton'        => ['CTN', 'Carton'],
            'box'           => ['CTN', 'Carton'], 
            'crate'         => ['CRT', 'Crate'],
            'other'         => ['OTH', 'Other'],
            'pallet'        => ['PLT', 'Pallet'],
            'pallet - half' => ['HPL', 'Pallet - Half'], 
            'half pallet'   => ['HPL', 'Pallet - Half'],
            'roll'          => ['ROL', 'Roll/Tube'],
            'tube'          => ['ROL', 'Roll/Tube'],
            'satchel'       => ['SAT', 'Satchel'],
            'skid'          => ['SKD', 'Skid'],
        ];

        foreach ($huntersItems as $input => $output) {
            CourierMapping::updateOrCreate(
                [
                    'courier_code' => 'hunters',
                    'target_field' => 'item_type',
                    'input_value' => $input
                ],
                [
                    'output_code' => $output[0],
                    'output_description' => $output[1],
                    // We attach the config ID here too for consistency
                    'carrier_config_id' => $hunterConfig?->id
                ]
            );
        }
    }
}

--- FILE: ./database/seeders/CarrierConfigSeeder.php ---

<?php

namespace Database\Seeders;

use App\Models\CarrierConfig;
use Illuminate\Database\Seeder;

class CarrierConfigSeeder extends Seeder
{
    public function run(): void
    {
        // 1. MOCK EXPRESS
        CarrierConfig::create([
            'carrier_code' => 'mock_express',
            'account_code' => 'TEST_ACC',
            'api_key'      => 'TEST_KEY',
            'environment'  => 'test',
            'is_active'    => true,
            'extra_settings' => ['label_format' => 'PDF'],
        ]);

        // 2. HUNTER EXPRESS
        CarrierConfig::create([
            'carrier_code' => 'hunters',
            'account_code' => '55010',
            'api_key'      => 'XXLFNZRLPW',
            'environment'  => 'test',
            'is_active'    => true,
            'extra_settings' => [
                'customer_code' => 'APITEST',
                'label_format' => 'PDF'
            ],
        ]);

        // 3. COURIERS PLEASE (Updated with provided credentials)
        CarrierConfig::create([
            'carrier_code' => 'couriers_please',
            'account_code' => 'WD00000006',
            'api_key'      => 'cc995cb9-38b9-4b40-995a-01f3a427a579',
            'environment'  => 'test',
            'is_active'    => true,
            'extra_settings' => [
                'label_delay_minutes' => 5, // <--- CONFIGURATION, NOT CODE
                'label_format' => 'PDF'
            ],
        ]);
        
        // 4. TNT
        CarrierConfig::create([
            'carrier_code' => 'tnt',
            'account_code' => 'TNT_USER',
            'api_key'      => 'TNT_PASS',
            'api_secret'   => 'TNT_ACC_NUM',
            'environment'  => 'test',
            'is_active'    => false,
        ]);
    }
}

--- FILE: ./database/seeders/DatabaseSeeder.php ---

<?php

namespace Database\Seeders;

use App\Models\User;
use App\Models\Company;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Facades\DB;

class DatabaseSeeder extends Seeder
{
    public function run(): void
    {
        // ==========================================
        // 1. SUPER ADMIN SETUP (Safe Create)
        // ==========================================
        $adminEmail = 'danish@danish.com';
        
        $hq = Company::firstOrCreate(
            ['billing_email' => $adminEmail],
            [
                'entity_name'    => 'TinExpress HQ',
                'abn'            => '00000000000',
                'abn_status'     => 'Active',
                'wallet_balance' => 0,
            ]
        );

        if (!User::where('email', $adminEmail)->exists()) {
            User::create([
                'company_id' => $hq->id,
                'first_name' => 'Danish',
                'last_name'  => 'Ali',
                'email'      => $adminEmail,
                'password'   => Hash::make('123456789'),
                'role'       => 'super_admin',
                'email_verified_at' => now(),
            ]);
            $this->command->info('Super Admin created.');
        }

        // ==========================================
        // 2. STANDARD COMPANY ADMIN (Safe Create)
        // ==========================================
        $companyEmail = 'admin@demo.com';

        $demoCompany = Company::firstOrCreate(
            ['billing_email' => $companyEmail],
            [
                'entity_name'    => 'Demo Logistics Pty Ltd',
                'abn'            => '12345678901',
                'abn_status'     => 'Active',
                'wallet_balance' => 0,
            ]
        );

        if (!User::where('email', $companyEmail)->exists()) {
            User::create([
                'company_id' => $demoCompany->id,
                'first_name' => 'Test',
                'last_name'  => 'User',
                'email'      => $companyEmail,
                'password'   => Hash::make('password'),
                'role'       => User::ROLE_COMPANY_ADMIN, // Ensure this constant exists in User model
            ]);
            $this->command->info('Standard Company Admin created.');
        }

        // ==========================================
        // 3. CARRIER CONFIGURATIONS (PROTECTED)
        // ==========================================
        // We ONLY run this if the table is empty. 
        if (DB::table('carrier_configs')->count() === 0) {
            $this->call([
                CarrierConfigSeeder::class,
                CourierMappingSeeder::class,
            ]);
            $this->command->info('Carrier Configs seeded.');
        } else {
            $this->command->warn('Carrier Configs already exist. Skipped to protect data.');
        }

        // ==========================================
        // 4. DEMO DATA (Safe Populate)
        // ==========================================
        if (Company::count() < 5) {
            $this->seedDemoData();
            $this->command->info('Demo Data seeded.');
        } else {
            $this->command->warn('Demo Data already exists. Skipped.');
        }
    }

    /**
     * Helper to seed demo content without cluttering the run method
     */
    private function seedDemoData()
    {
        $companies = [
            ['Alpha Logistics', 'Active'],
            ['Beta Freight', 'Active'],
            ['Gamma Shipping', 'Suspended'],
            ['Delta Distributions', 'Active'],
            ['Omega Transports', 'Active'],
        ];

        foreach ($companies as [$name, $status]) {
            $email = strtolower(str_replace(' ', '', $name)) . '@demo.com';
            
            if (Company::where('billing_email', $email)->exists()) continue;

            $companyId = DB::table('companies')->insertGetId([
                'entity_name'    => $name,
                'abn'            => rand(10000000000, 99999999999),
                'abn_status'     => $status,
                'billing_email'  => $email,
                'wallet_balance' => rand(100, 5000), 
                'created_at'     => now(),
                'updated_at'     => now(),
            ]);

            DB::table('users')->insert([
                'company_id' => $companyId,
                'first_name' => 'Admin',
                'last_name'  => $name,
                'email'      => $email,
                'password'   => Hash::make('password'),
                'role'       => 'company_admin',
                'created_at' => now(),
                'updated_at' => now(),
            ]);
        }
    }
}

--- FILE: ./package-lock.json ---

{
    "name": "html",
    "lockfileVersion": 3,
    "requires": true,
    "packages": {
        "": {
            "dependencies": {
                "pinia": "^3.0.4",
                "vue-router": "^4.6.4"
            },
            "devDependencies": {
                "@tailwindcss/vite": "^4.0.0",
                "@vitejs/plugin-vue": "^6.0.3",
                "axios": "^1.11.0",
                "concurrently": "^9.0.1",
                "laravel-vite-plugin": "^2.0.0",
                "tailwindcss": "^4.1.18",
                "vite": "^7.0.7",
                "vue": "^3.5.26"
            }
        },
        "node_modules/@babel/helper-string-parser": {
            "version": "7.27.1",
            "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
            "integrity": "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==",
            "license": "MIT",
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@babel/helper-validator-identifier": {
            "version": "7.28.5",
            "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.28.5.tgz",
            "integrity": "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==",
            "license": "MIT",
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@babel/parser": {
            "version": "7.28.5",
            "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
            "integrity": "sha512-KKBU1VGYR7ORr3At5HAtUQ+TV3SzRCXmA/8OdDZiLDBIZxVyzXuztPjfLd3BV1PRAQGCMWWSHYhL0F8d5uHBDQ==",
            "license": "MIT",
            "dependencies": {
                "@babel/types": "^7.28.5"
            },
            "bin": {
                "parser": "bin/babel-parser.js"
            },
            "engines": {
                "node": ">=6.0.0"
            }
        },
        "node_modules/@babel/types": {
            "version": "7.28.5",
            "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
            "integrity": "sha512-qQ5m48eI/MFLQ5PxQj4PFaprjyCTLI37ElWMmNs0K8Lk3dVeOdNpB3ks8jc7yM5CDmVC73eMVk/trk3fgmrUpA==",
            "license": "MIT",
            "dependencies": {
                "@babel/helper-string-parser": "^7.27.1",
                "@babel/helper-validator-identifier": "^7.28.5"
            },
            "engines": {
                "node": ">=6.9.0"
            }
        },
        "node_modules/@esbuild/aix-ppc64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.27.2.tgz",
            "integrity": "sha512-GZMB+a0mOMZs4MpDbj8RJp4cw+w1WV5NYD6xzgvzUJ5Ek2jerwfO2eADyI6ExDSUED+1X8aMbegahsJi+8mgpw==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "aix"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-arm": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.27.2.tgz",
            "integrity": "sha512-DVNI8jlPa7Ujbr1yjU2PfUSRtAUZPG9I1RwW4F4xFB1Imiu2on0ADiI/c3td+KmDtVKNbi+nffGDQMfcIMkwIA==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.27.2.tgz",
            "integrity": "sha512-pvz8ZZ7ot/RBphf8fv60ljmaoydPU12VuXHImtAs0XhLLw+EXBi2BLe3OYSBslR4rryHvweW5gmkKFwTiFy6KA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/android-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.27.2.tgz",
            "integrity": "sha512-z8Ank4Byh4TJJOh4wpz8g2vDy75zFL0TlZlkUkEwYXuPSgX8yzep596n6mT7905kA9uHZsf/o2OJZubl2l3M7A==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/darwin-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.27.2.tgz",
            "integrity": "sha512-davCD2Zc80nzDVRwXTcQP/28fiJbcOwvdolL0sOiOsbwBa72kegmVU0Wrh1MYrbuCL98Omp5dVhQFWRKR2ZAlg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/darwin-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.27.2.tgz",
            "integrity": "sha512-ZxtijOmlQCBWGwbVmwOF/UCzuGIbUkqB1faQRf5akQmxRJ1ujusWsb3CVfk/9iZKr2L5SMU5wPBi1UWbvL+VQA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/freebsd-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.27.2.tgz",
            "integrity": "sha512-lS/9CN+rgqQ9czogxlMcBMGd+l8Q3Nj1MFQwBZJyoEKI50XGxwuzznYdwcav6lpOGv5BqaZXqvBSiB/kJ5op+g==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/freebsd-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.27.2.tgz",
            "integrity": "sha512-tAfqtNYb4YgPnJlEFu4c212HYjQWSO/w/h/lQaBK7RbwGIkBOuNKQI9tqWzx7Wtp7bTPaGC6MJvWI608P3wXYA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-arm": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.27.2.tgz",
            "integrity": "sha512-vWfq4GaIMP9AIe4yj1ZUW18RDhx6EPQKjwe7n8BbIecFtCQG4CfHGaHuh7fdfq+y3LIA2vGS/o9ZBGVxIDi9hw==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.27.2.tgz",
            "integrity": "sha512-hYxN8pr66NsCCiRFkHUAsxylNOcAQaxSSkHMMjcpx0si13t1LHFphxJZUiGwojB1a/Hd5OiPIqDdXONia6bhTw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-ia32": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.27.2.tgz",
            "integrity": "sha512-MJt5BRRSScPDwG2hLelYhAAKh9imjHK5+NE/tvnRLbIqUWa+0E9N4WNMjmp/kXXPHZGqPLxggwVhz7QP8CTR8w==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-loong64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.27.2.tgz",
            "integrity": "sha512-lugyF1atnAT463aO6KPshVCJK5NgRnU4yb3FUumyVz+cGvZbontBgzeGFO1nF+dPueHD367a2ZXe1NtUkAjOtg==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-mips64el": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.27.2.tgz",
            "integrity": "sha512-nlP2I6ArEBewvJ2gjrrkESEZkB5mIoaTswuqNFRv/WYd+ATtUpe9Y09RnJvgvdag7he0OWgEZWhviS1OTOKixw==",
            "cpu": [
                "mips64el"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-ppc64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.27.2.tgz",
            "integrity": "sha512-C92gnpey7tUQONqg1n6dKVbx3vphKtTHJaNG2Ok9lGwbZil6DrfyecMsp9CrmXGQJmZ7iiVXvvZH6Ml5hL6XdQ==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-riscv64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.27.2.tgz",
            "integrity": "sha512-B5BOmojNtUyN8AXlK0QJyvjEZkWwy/FKvakkTDCziX95AowLZKR6aCDhG7LeF7uMCXEJqwa8Bejz5LTPYm8AvA==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-s390x": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.27.2.tgz",
            "integrity": "sha512-p4bm9+wsPwup5Z8f4EpfN63qNagQ47Ua2znaqGH6bqLlmJ4bx97Y9JdqxgGZ6Y8xVTixUnEkoKSHcpRlDnNr5w==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/linux-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.27.2.tgz",
            "integrity": "sha512-uwp2Tip5aPmH+NRUwTcfLb+W32WXjpFejTIOWZFw/v7/KnpCDKG66u4DLcurQpiYTiYwQ9B7KOeMJvLCu/OvbA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/netbsd-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.27.2.tgz",
            "integrity": "sha512-Kj6DiBlwXrPsCRDeRvGAUb/LNrBASrfqAIok+xB0LxK8CHqxZ037viF13ugfsIpePH93mX7xfJp97cyDuTZ3cw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/netbsd-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.27.2.tgz",
            "integrity": "sha512-HwGDZ0VLVBY3Y+Nw0JexZy9o/nUAWq9MlV7cahpaXKW6TOzfVno3y3/M8Ga8u8Yr7GldLOov27xiCnqRZf0tCA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "netbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openbsd-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.27.2.tgz",
            "integrity": "sha512-DNIHH2BPQ5551A7oSHD0CKbwIA/Ox7+78/AWkbS5QoRzaqlev2uFayfSxq68EkonB+IKjiuxBFoV8ESJy8bOHA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openbsd-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.27.2.tgz",
            "integrity": "sha512-/it7w9Nb7+0KFIzjalNJVR5bOzA9Vay+yIPLVHfIQYG/j+j9VTH84aNB8ExGKPU4AzfaEvN9/V4HV+F+vo8OEg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/openharmony-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/openharmony-arm64/-/openharmony-arm64-0.27.2.tgz",
            "integrity": "sha512-LRBbCmiU51IXfeXk59csuX/aSaToeG7w48nMwA6049Y4J4+VbWALAuXcs+qcD04rHDuSCSRKdmY63sruDS5qag==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openharmony"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/sunos-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.27.2.tgz",
            "integrity": "sha512-kMtx1yqJHTmqaqHPAzKCAkDaKsffmXkPHThSfRwZGyuqyIeBvf08KSsYXl+abf5HDAPMJIPnbBfXvP2ZC2TfHg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "sunos"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-arm64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.27.2.tgz",
            "integrity": "sha512-Yaf78O/B3Kkh+nKABUF++bvJv5Ijoy9AN1ww904rOXZFLWVc5OLOfL56W+C8F9xn5JQZa3UX6m+IktJnIb1Jjg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-ia32": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.27.2.tgz",
            "integrity": "sha512-Iuws0kxo4yusk7sw70Xa2E2imZU5HoixzxfGCdxwBdhiDgt9vX9VUCBhqcwY7/uh//78A1hMkkROMJq9l27oLQ==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@esbuild/win32-x64": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.27.2.tgz",
            "integrity": "sha512-sRdU18mcKf7F+YgheI/zGf5alZatMUTKj/jNS6l744f9u3WFu4v7twcUI9vu4mknF4Y9aDlblIie0IM+5xxaqQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">=18"
            }
        },
        "node_modules/@jridgewell/gen-mapping": {
            "version": "0.3.13",
            "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
            "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/sourcemap-codec": "^1.5.0",
                "@jridgewell/trace-mapping": "^0.3.24"
            }
        },
        "node_modules/@jridgewell/remapping": {
            "version": "2.3.5",
            "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
            "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/gen-mapping": "^0.3.5",
                "@jridgewell/trace-mapping": "^0.3.24"
            }
        },
        "node_modules/@jridgewell/resolve-uri": {
            "version": "3.1.2",
            "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
            "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6.0.0"
            }
        },
        "node_modules/@jridgewell/sourcemap-codec": {
            "version": "1.5.5",
            "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
            "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
            "license": "MIT"
        },
        "node_modules/@jridgewell/trace-mapping": {
            "version": "0.3.31",
            "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.31.tgz",
            "integrity": "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/resolve-uri": "^3.1.0",
                "@jridgewell/sourcemap-codec": "^1.4.14"
            }
        },
        "node_modules/@rolldown/pluginutils": {
            "version": "1.0.0-beta.53",
            "resolved": "https://registry.npmjs.org/@rolldown/pluginutils/-/pluginutils-1.0.0-beta.53.tgz",
            "integrity": "sha512-vENRlFU4YbrwVqNDZ7fLvy+JR1CRkyr01jhSiDpE1u6py3OMzQfztQU2jxykW3ALNxO4kSlqIDeYyD0Y9RcQeQ==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@rollup/rollup-android-arm-eabi": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.55.1.tgz",
            "integrity": "sha512-9R0DM/ykwfGIlNu6+2U09ga0WXeZ9MRC2Ter8jnz8415VbuIykVuc6bhdrbORFZANDmTDvq26mJrEVTl8TdnDg==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ]
        },
        "node_modules/@rollup/rollup-android-arm64": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.55.1.tgz",
            "integrity": "sha512-eFZCb1YUqhTysgW3sj/55du5cG57S7UTNtdMjCW7LwVcj3dTTcowCsC8p7uBdzKsZYa8J7IDE8lhMI+HX1vQvg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ]
        },
        "node_modules/@rollup/rollup-darwin-arm64": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.55.1.tgz",
            "integrity": "sha512-p3grE2PHcQm2e8PSGZdzIhCKbMCw/xi9XvMPErPhwO17vxtvCN5FEA2mSLgmKlCjHGMQTP6phuQTYWUnKewwGg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ]
        },
        "node_modules/@rollup/rollup-darwin-x64": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.55.1.tgz",
            "integrity": "sha512-rDUjG25C9qoTm+e02Esi+aqTKSBYwVTaoS1wxcN47/Luqef57Vgp96xNANwt5npq9GDxsH7kXxNkJVEsWEOEaQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ]
        },
        "node_modules/@rollup/rollup-freebsd-arm64": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-arm64/-/rollup-freebsd-arm64-4.55.1.tgz",
            "integrity": "sha512-+JiU7Jbp5cdxekIgdte0jfcu5oqw4GCKr6i3PJTlXTCU5H5Fvtkpbs4XJHRmWNXF+hKmn4v7ogI5OQPaupJgOg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ]
        },
        "node_modules/@rollup/rollup-freebsd-x64": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-freebsd-x64/-/rollup-freebsd-x64-4.55.1.tgz",
            "integrity": "sha512-V5xC1tOVWtLLmr3YUk2f6EJK4qksksOYiz/TCsFHu/R+woubcLWdC9nZQmwjOAbmExBIVKsm1/wKmEy4z4u4Bw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.55.1.tgz",
            "integrity": "sha512-Rn3n+FUk2J5VWx+ywrG/HGPTD9jXNbicRtTM11e/uorplArnXZYsVifnPPqNNP5BsO3roI4n8332ukpY/zN7rQ==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm-musleabihf": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.55.1.tgz",
            "integrity": "sha512-grPNWydeKtc1aEdrJDWk4opD7nFtQbMmV7769hiAaYyUKCT1faPRm2av8CX1YJsZ4TLAZcg9gTR1KvEzoLjXkg==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm64-gnu": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.55.1.tgz",
            "integrity": "sha512-a59mwd1k6x8tXKcUxSyISiquLwB5pX+fJW9TkWU46lCqD/GRDe9uDN31jrMmVP3feI3mhAdvcCClhV8V5MhJFQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-arm64-musl": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.55.1.tgz",
            "integrity": "sha512-puS1MEgWX5GsHSoiAsF0TYrpomdvkaXm0CofIMG5uVkP6IBV+ZO9xhC5YEN49nsgYo1DuuMquF9+7EDBVYu4uA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-loong64-gnu": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loong64-gnu/-/rollup-linux-loong64-gnu-4.55.1.tgz",
            "integrity": "sha512-r3Wv40in+lTsULSb6nnoudVbARdOwb2u5fpeoOAZjFLznp6tDU8kd+GTHmJoqZ9lt6/Sys33KdIHUaQihFcu7g==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-loong64-musl": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-loong64-musl/-/rollup-linux-loong64-musl-4.55.1.tgz",
            "integrity": "sha512-MR8c0+UxAlB22Fq4R+aQSPBayvYa3+9DrwG/i1TKQXFYEaoW3B5b/rkSRIypcZDdWjWnpcvxbNaAJDcSbJU3Lw==",
            "cpu": [
                "loong64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-ppc64-gnu": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-ppc64-gnu/-/rollup-linux-ppc64-gnu-4.55.1.tgz",
            "integrity": "sha512-3KhoECe1BRlSYpMTeVrD4sh2Pw2xgt4jzNSZIIPLFEsnQn9gAnZagW9+VqDqAHgm1Xc77LzJOo2LdigS5qZ+gw==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-ppc64-musl": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-ppc64-musl/-/rollup-linux-ppc64-musl-4.55.1.tgz",
            "integrity": "sha512-ziR1OuZx0vdYZZ30vueNZTg73alF59DicYrPViG0NEgDVN8/Jl87zkAPu4u6VjZST2llgEUjaiNl9JM6HH1Vdw==",
            "cpu": [
                "ppc64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-riscv64-gnu": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.55.1.tgz",
            "integrity": "sha512-uW0Y12ih2XJRERZ4jAfKamTyIHVMPQnTZcQjme2HMVDAHY4amf5u414OqNYC+x+LzRdRcnIG1YodLrrtA8xsxw==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-riscv64-musl": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-musl/-/rollup-linux-riscv64-musl-4.55.1.tgz",
            "integrity": "sha512-u9yZ0jUkOED1BFrqu3BwMQoixvGHGZ+JhJNkNKY/hyoEgOwlqKb62qu+7UjbPSHYjiVy8kKJHvXKv5coH4wDeg==",
            "cpu": [
                "riscv64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-s390x-gnu": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.55.1.tgz",
            "integrity": "sha512-/0PenBCmqM4ZUd0190j7J0UsQ/1nsi735iPRakO8iPciE7BQ495Y6msPzaOmvx0/pn+eJVVlZrNrSh4WSYLxNg==",
            "cpu": [
                "s390x"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-x64-gnu": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.55.1.tgz",
            "integrity": "sha512-a8G4wiQxQG2BAvo+gU6XrReRRqj+pLS2NGXKm8io19goR+K8lw269eTrPkSdDTALwMmJp4th2Uh0D8J9bEV1vg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-linux-x64-musl": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.55.1.tgz",
            "integrity": "sha512-bD+zjpFrMpP/hqkfEcnjXWHMw5BIghGisOKPj+2NaNDuVT+8Ds4mPf3XcPHuat1tz89WRL+1wbcxKY3WSbiT7w==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ]
        },
        "node_modules/@rollup/rollup-openbsd-x64": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-openbsd-x64/-/rollup-openbsd-x64-4.55.1.tgz",
            "integrity": "sha512-eLXw0dOiqE4QmvikfQ6yjgkg/xDM+MdU9YJuP4ySTibXU0oAvnEWXt7UDJmD4UkYialMfOGFPJnIHSe/kdzPxg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openbsd"
            ]
        },
        "node_modules/@rollup/rollup-openharmony-arm64": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-openharmony-arm64/-/rollup-openharmony-arm64-4.55.1.tgz",
            "integrity": "sha512-xzm44KgEP11te3S2HCSyYf5zIzWmx3n8HDCc7EE59+lTcswEWNpvMLfd9uJvVX8LCg9QWG67Xt75AuHn4vgsXw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "openharmony"
            ]
        },
        "node_modules/@rollup/rollup-win32-arm64-msvc": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.55.1.tgz",
            "integrity": "sha512-yR6Bl3tMC/gBok5cz/Qi0xYnVbIxGx5Fcf/ca0eB6/6JwOY+SRUcJfI0OpeTpPls7f194as62thCt/2BjxYN8g==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-ia32-msvc": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.55.1.tgz",
            "integrity": "sha512-3fZBidchE0eY0oFZBnekYCfg+5wAB0mbpCBuofh5mZuzIU/4jIVkbESmd2dOsFNS78b53CYv3OAtwqkZZmU5nA==",
            "cpu": [
                "ia32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-x64-gnu": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-gnu/-/rollup-win32-x64-gnu-4.55.1.tgz",
            "integrity": "sha512-xGGY5pXj69IxKb4yv/POoocPy/qmEGhimy/FoTpTSVju3FYXUQQMFCaZZXJVidsmGxRioZAwpThl/4zX41gRKg==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@rollup/rollup-win32-x64-msvc": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.55.1.tgz",
            "integrity": "sha512-SPEpaL6DX4rmcXtnhdrQYgzQ5W2uW3SCJch88lB2zImhJRhIIK44fkUrgIV/Q8yUNfw5oyZ5vkeQsZLhCb06lw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ]
        },
        "node_modules/@tailwindcss/node": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/node/-/node-4.1.18.tgz",
            "integrity": "sha512-DoR7U1P7iYhw16qJ49fgXUlry1t4CpXeErJHnQ44JgTSKMaZUdf17cfn5mHchfJ4KRBZRFA/Coo+MUF5+gOaCQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@jridgewell/remapping": "^2.3.4",
                "enhanced-resolve": "^5.18.3",
                "jiti": "^2.6.1",
                "lightningcss": "1.30.2",
                "magic-string": "^0.30.21",
                "source-map-js": "^1.2.1",
                "tailwindcss": "4.1.18"
            }
        },
        "node_modules/@tailwindcss/oxide": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide/-/oxide-4.1.18.tgz",
            "integrity": "sha512-EgCR5tTS5bUSKQgzeMClT6iCY3ToqE1y+ZB0AKldj809QXk1Y+3jB0upOYZrn9aGIzPtUsP7sX4QQ4XtjBB95A==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 10"
            },
            "optionalDependencies": {
                "@tailwindcss/oxide-android-arm64": "4.1.18",
                "@tailwindcss/oxide-darwin-arm64": "4.1.18",
                "@tailwindcss/oxide-darwin-x64": "4.1.18",
                "@tailwindcss/oxide-freebsd-x64": "4.1.18",
                "@tailwindcss/oxide-linux-arm-gnueabihf": "4.1.18",
                "@tailwindcss/oxide-linux-arm64-gnu": "4.1.18",
                "@tailwindcss/oxide-linux-arm64-musl": "4.1.18",
                "@tailwindcss/oxide-linux-x64-gnu": "4.1.18",
                "@tailwindcss/oxide-linux-x64-musl": "4.1.18",
                "@tailwindcss/oxide-wasm32-wasi": "4.1.18",
                "@tailwindcss/oxide-win32-arm64-msvc": "4.1.18",
                "@tailwindcss/oxide-win32-x64-msvc": "4.1.18"
            }
        },
        "node_modules/@tailwindcss/oxide-android-arm64": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-android-arm64/-/oxide-android-arm64-4.1.18.tgz",
            "integrity": "sha512-dJHz7+Ugr9U/diKJA0W6N/6/cjI+ZTAoxPf9Iz9BFRF2GzEX8IvXxFIi/dZBloVJX/MZGvRuFA9rqwdiIEZQ0Q==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-darwin-arm64": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-arm64/-/oxide-darwin-arm64-4.1.18.tgz",
            "integrity": "sha512-Gc2q4Qhs660bhjyBSKgq6BYvwDz4G+BuyJ5H1xfhmDR3D8HnHCmT/BSkvSL0vQLy/nkMLY20PQ2OoYMO15Jd0A==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-darwin-x64": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-x64/-/oxide-darwin-x64-4.1.18.tgz",
            "integrity": "sha512-FL5oxr2xQsFrc3X9o1fjHKBYBMD1QZNyc1Xzw/h5Qu4XnEBi3dZn96HcHm41c/euGV+GRiXFfh2hUCyKi/e+yw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-freebsd-x64": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-freebsd-x64/-/oxide-freebsd-x64-4.1.18.tgz",
            "integrity": "sha512-Fj+RHgu5bDodmV1dM9yAxlfJwkkWvLiRjbhuO2LEtwtlYlBgiAT4x/j5wQr1tC3SANAgD+0YcmWVrj8R9trVMA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-linux-arm-gnueabihf": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm-gnueabihf/-/oxide-linux-arm-gnueabihf-4.1.18.tgz",
            "integrity": "sha512-Fp+Wzk/Ws4dZn+LV2Nqx3IilnhH51YZoRaYHQsVq3RQvEl+71VGKFpkfHrLM/Li+kt5c0DJe/bHXK1eHgDmdiA==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-linux-arm64-gnu": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-gnu/-/oxide-linux-arm64-gnu-4.1.18.tgz",
            "integrity": "sha512-S0n3jboLysNbh55Vrt7pk9wgpyTTPD0fdQeh7wQfMqLPM/Hrxi+dVsLsPrycQjGKEQk85Kgbx+6+QnYNiHalnw==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-linux-arm64-musl": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-musl/-/oxide-linux-arm64-musl-4.1.18.tgz",
            "integrity": "sha512-1px92582HkPQlaaCkdRcio71p8bc8i/ap5807tPRDK/uw953cauQBT8c5tVGkOwrHMfc2Yh6UuxaH4vtTjGvHg==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-linux-x64-gnu": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-gnu/-/oxide-linux-x64-gnu-4.1.18.tgz",
            "integrity": "sha512-v3gyT0ivkfBLoZGF9LyHmts0Isc8jHZyVcbzio6Wpzifg/+5ZJpDiRiUhDLkcr7f/r38SWNe7ucxmGW3j3Kb/g==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-linux-x64-musl": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-musl/-/oxide-linux-x64-musl-4.1.18.tgz",
            "integrity": "sha512-bhJ2y2OQNlcRwwgOAGMY0xTFStt4/wyU6pvI6LSuZpRgKQwxTec0/3Scu91O8ir7qCR3AuepQKLU/kX99FouqQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-wasm32-wasi": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-wasm32-wasi/-/oxide-wasm32-wasi-4.1.18.tgz",
            "integrity": "sha512-LffYTvPjODiP6PT16oNeUQJzNVyJl1cjIebq/rWWBF+3eDst5JGEFSc5cWxyRCJ0Mxl+KyIkqRxk1XPEs9x8TA==",
            "bundleDependencies": [
                "@napi-rs/wasm-runtime",
                "@emnapi/core",
                "@emnapi/runtime",
                "@tybys/wasm-util",
                "@emnapi/wasi-threads",
                "tslib"
            ],
            "cpu": [
                "wasm32"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "dependencies": {
                "@emnapi/core": "^1.7.1",
                "@emnapi/runtime": "^1.7.1",
                "@emnapi/wasi-threads": "^1.1.0",
                "@napi-rs/wasm-runtime": "^1.1.0",
                "@tybys/wasm-util": "^0.10.1",
                "tslib": "^2.4.0"
            },
            "engines": {
                "node": ">=14.0.0"
            }
        },
        "node_modules/@tailwindcss/oxide-win32-arm64-msvc": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-arm64-msvc/-/oxide-win32-arm64-msvc-4.1.18.tgz",
            "integrity": "sha512-HjSA7mr9HmC8fu6bdsZvZ+dhjyGCLdotjVOgLA2vEqxEBZaQo9YTX4kwgEvPCpRh8o4uWc4J/wEoFzhEmjvPbA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/oxide-win32-x64-msvc": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-x64-msvc/-/oxide-win32-x64-msvc-4.1.18.tgz",
            "integrity": "sha512-bJWbyYpUlqamC8dpR7pfjA0I7vdF6t5VpUGMWRkXVE3AXgIZjYUYAK7II1GNaxR8J1SSrSrppRar8G++JekE3Q==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">= 10"
            }
        },
        "node_modules/@tailwindcss/vite": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/@tailwindcss/vite/-/vite-4.1.18.tgz",
            "integrity": "sha512-jVA+/UpKL1vRLg6Hkao5jldawNmRo7mQYrZtNHMIVpLfLhDml5nMRUo/8MwoX2vNXvnaXNNMedrMfMugAVX1nA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@tailwindcss/node": "4.1.18",
                "@tailwindcss/oxide": "4.1.18",
                "tailwindcss": "4.1.18"
            },
            "peerDependencies": {
                "vite": "^5.2.0 || ^6 || ^7"
            }
        },
        "node_modules/@types/estree": {
            "version": "1.0.8",
            "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.8.tgz",
            "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/@vitejs/plugin-vue": {
            "version": "6.0.3",
            "resolved": "https://registry.npmjs.org/@vitejs/plugin-vue/-/plugin-vue-6.0.3.tgz",
            "integrity": "sha512-TlGPkLFLVOY3T7fZrwdvKpjprR3s4fxRln0ORDo1VQ7HHyxJwTlrjKU3kpVWTlaAjIEuCTokmjkZnr8Tpc925w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@rolldown/pluginutils": "1.0.0-beta.53"
            },
            "engines": {
                "node": "^20.19.0 || >=22.12.0"
            },
            "peerDependencies": {
                "vite": "^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0",
                "vue": "^3.2.25"
            }
        },
        "node_modules/@vue/compiler-core": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/compiler-core/-/compiler-core-3.5.26.tgz",
            "integrity": "sha512-vXyI5GMfuoBCnv5ucIT7jhHKl55Y477yxP6fc4eUswjP8FG3FFVFd41eNDArR+Uk3QKn2Z85NavjaxLxOC19/w==",
            "license": "MIT",
            "dependencies": {
                "@babel/parser": "^7.28.5",
                "@vue/shared": "3.5.26",
                "entities": "^7.0.0",
                "estree-walker": "^2.0.2",
                "source-map-js": "^1.2.1"
            }
        },
        "node_modules/@vue/compiler-dom": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/compiler-dom/-/compiler-dom-3.5.26.tgz",
            "integrity": "sha512-y1Tcd3eXs834QjswshSilCBnKGeQjQXB6PqFn/1nxcQw4pmG42G8lwz+FZPAZAby6gZeHSt/8LMPfZ4Rb+Bd/A==",
            "license": "MIT",
            "dependencies": {
                "@vue/compiler-core": "3.5.26",
                "@vue/shared": "3.5.26"
            }
        },
        "node_modules/@vue/compiler-sfc": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/compiler-sfc/-/compiler-sfc-3.5.26.tgz",
            "integrity": "sha512-egp69qDTSEZcf4bGOSsprUr4xI73wfrY5oRs6GSgXFTiHrWj4Y3X5Ydtip9QMqiCMCPVwLglB9GBxXtTadJ3mA==",
            "license": "MIT",
            "dependencies": {
                "@babel/parser": "^7.28.5",
                "@vue/compiler-core": "3.5.26",
                "@vue/compiler-dom": "3.5.26",
                "@vue/compiler-ssr": "3.5.26",
                "@vue/shared": "3.5.26",
                "estree-walker": "^2.0.2",
                "magic-string": "^0.30.21",
                "postcss": "^8.5.6",
                "source-map-js": "^1.2.1"
            }
        },
        "node_modules/@vue/compiler-ssr": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/compiler-ssr/-/compiler-ssr-3.5.26.tgz",
            "integrity": "sha512-lZT9/Y0nSIRUPVvapFJEVDbEXruZh2IYHMk2zTtEgJSlP5gVOqeWXH54xDKAaFS4rTnDeDBQUYDtxKyoW9FwDw==",
            "license": "MIT",
            "dependencies": {
                "@vue/compiler-dom": "3.5.26",
                "@vue/shared": "3.5.26"
            }
        },
        "node_modules/@vue/devtools-api": {
            "version": "6.6.4",
            "resolved": "https://registry.npmjs.org/@vue/devtools-api/-/devtools-api-6.6.4.tgz",
            "integrity": "sha512-sGhTPMuXqZ1rVOk32RylztWkfXTRhuS7vgAKv0zjqk8gbsHkJ7xfFf+jbySxt7tWObEJwyKaHMikV/WGDiQm8g==",
            "license": "MIT"
        },
        "node_modules/@vue/devtools-kit": {
            "version": "7.7.9",
            "resolved": "https://registry.npmjs.org/@vue/devtools-kit/-/devtools-kit-7.7.9.tgz",
            "integrity": "sha512-PyQ6odHSgiDVd4hnTP+aDk2X4gl2HmLDfiyEnn3/oV+ckFDuswRs4IbBT7vacMuGdwY/XemxBoh302ctbsptuA==",
            "license": "MIT",
            "dependencies": {
                "@vue/devtools-shared": "^7.7.9",
                "birpc": "^2.3.0",
                "hookable": "^5.5.3",
                "mitt": "^3.0.1",
                "perfect-debounce": "^1.0.0",
                "speakingurl": "^14.0.1",
                "superjson": "^2.2.2"
            }
        },
        "node_modules/@vue/devtools-shared": {
            "version": "7.7.9",
            "resolved": "https://registry.npmjs.org/@vue/devtools-shared/-/devtools-shared-7.7.9.tgz",
            "integrity": "sha512-iWAb0v2WYf0QWmxCGy0seZNDPdO3Sp5+u78ORnyeonS6MT4PC7VPrryX2BpMJrwlDeaZ6BD4vP4XKjK0SZqaeA==",
            "license": "MIT",
            "dependencies": {
                "rfdc": "^1.4.1"
            }
        },
        "node_modules/@vue/reactivity": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/reactivity/-/reactivity-3.5.26.tgz",
            "integrity": "sha512-9EnYB1/DIiUYYnzlnUBgwU32NNvLp/nhxLXeWRhHUEeWNTn1ECxX8aGO7RTXeX6PPcxe3LLuNBFoJbV4QZ+CFQ==",
            "license": "MIT",
            "dependencies": {
                "@vue/shared": "3.5.26"
            }
        },
        "node_modules/@vue/runtime-core": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/runtime-core/-/runtime-core-3.5.26.tgz",
            "integrity": "sha512-xJWM9KH1kd201w5DvMDOwDHYhrdPTrAatn56oB/LRG4plEQeZRQLw0Bpwih9KYoqmzaxF0OKSn6swzYi84e1/Q==",
            "license": "MIT",
            "dependencies": {
                "@vue/reactivity": "3.5.26",
                "@vue/shared": "3.5.26"
            }
        },
        "node_modules/@vue/runtime-dom": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/runtime-dom/-/runtime-dom-3.5.26.tgz",
            "integrity": "sha512-XLLd/+4sPC2ZkN/6+V4O4gjJu6kSDbHAChvsyWgm1oGbdSO3efvGYnm25yCjtFm/K7rrSDvSfPDgN1pHgS4VNQ==",
            "license": "MIT",
            "dependencies": {
                "@vue/reactivity": "3.5.26",
                "@vue/runtime-core": "3.5.26",
                "@vue/shared": "3.5.26",
                "csstype": "^3.2.3"
            }
        },
        "node_modules/@vue/server-renderer": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/server-renderer/-/server-renderer-3.5.26.tgz",
            "integrity": "sha512-TYKLXmrwWKSodyVuO1WAubucd+1XlLg4set0YoV+Hu8Lo79mp/YMwWV5mC5FgtsDxX3qo1ONrxFaTP1OQgy1uA==",
            "license": "MIT",
            "dependencies": {
                "@vue/compiler-ssr": "3.5.26",
                "@vue/shared": "3.5.26"
            },
            "peerDependencies": {
                "vue": "3.5.26"
            }
        },
        "node_modules/@vue/shared": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/@vue/shared/-/shared-3.5.26.tgz",
            "integrity": "sha512-7Z6/y3uFI5PRoKeorTOSXKcDj0MSasfNNltcslbFrPpcw6aXRUALq4IfJlaTRspiWIUOEZbrpM+iQGmCOiWe4A==",
            "license": "MIT"
        },
        "node_modules/ansi-regex": {
            "version": "5.0.1",
            "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
            "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/ansi-styles": {
            "version": "4.3.0",
            "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
            "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-convert": "^2.0.1"
            },
            "engines": {
                "node": ">=8"
            },
            "funding": {
                "url": "https://github.com/chalk/ansi-styles?sponsor=1"
            }
        },
        "node_modules/asynckit": {
            "version": "0.4.0",
            "resolved": "https://registry.npmjs.org/asynckit/-/asynckit-0.4.0.tgz",
            "integrity": "sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/axios": {
            "version": "1.13.2",
            "resolved": "https://registry.npmjs.org/axios/-/axios-1.13.2.tgz",
            "integrity": "sha512-VPk9ebNqPcy5lRGuSlKx752IlDatOjT9paPlm8A7yOuW2Fbvp4X3JznJtT4f0GzGLLiWE9W8onz51SqLYwzGaA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "follow-redirects": "^1.15.6",
                "form-data": "^4.0.4",
                "proxy-from-env": "^1.1.0"
            }
        },
        "node_modules/birpc": {
            "version": "2.9.0",
            "resolved": "https://registry.npmjs.org/birpc/-/birpc-2.9.0.tgz",
            "integrity": "sha512-KrayHS5pBi69Xi9JmvoqrIgYGDkD6mcSe/i6YKi3w5kekCLzrX4+nawcXqrj2tIp50Kw/mT/s3p+GVK0A0sKxw==",
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/antfu"
            }
        },
        "node_modules/call-bind-apply-helpers": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
            "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "es-errors": "^1.3.0",
                "function-bind": "^1.1.2"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/chalk": {
            "version": "4.1.2",
            "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
            "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-styles": "^4.1.0",
                "supports-color": "^7.1.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/chalk?sponsor=1"
            }
        },
        "node_modules/chalk/node_modules/supports-color": {
            "version": "7.2.0",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
            "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-flag": "^4.0.0"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/cliui": {
            "version": "8.0.1",
            "resolved": "https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz",
            "integrity": "sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==",
            "dev": true,
            "license": "ISC",
            "dependencies": {
                "string-width": "^4.2.0",
                "strip-ansi": "^6.0.1",
                "wrap-ansi": "^7.0.0"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/color-convert": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
            "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "color-name": "~1.1.4"
            },
            "engines": {
                "node": ">=7.0.0"
            }
        },
        "node_modules/color-name": {
            "version": "1.1.4",
            "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
            "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/combined-stream": {
            "version": "1.0.8",
            "resolved": "https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz",
            "integrity": "sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "delayed-stream": "~1.0.0"
            },
            "engines": {
                "node": ">= 0.8"
            }
        },
        "node_modules/concurrently": {
            "version": "9.2.1",
            "resolved": "https://registry.npmjs.org/concurrently/-/concurrently-9.2.1.tgz",
            "integrity": "sha512-fsfrO0MxV64Znoy8/l1vVIjjHa29SZyyqPgQBwhiDcaW8wJc2W3XWVOGx4M3oJBnv/zdUZIIp1gDeS98GzP8Ng==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "chalk": "4.1.2",
                "rxjs": "7.8.2",
                "shell-quote": "1.8.3",
                "supports-color": "8.1.1",
                "tree-kill": "1.2.2",
                "yargs": "17.7.2"
            },
            "bin": {
                "conc": "dist/bin/concurrently.js",
                "concurrently": "dist/bin/concurrently.js"
            },
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "url": "https://github.com/open-cli-tools/concurrently?sponsor=1"
            }
        },
        "node_modules/copy-anything": {
            "version": "4.0.5",
            "resolved": "https://registry.npmjs.org/copy-anything/-/copy-anything-4.0.5.tgz",
            "integrity": "sha512-7Vv6asjS4gMOuILabD3l739tsaxFQmC+a7pLZm02zyvs8p977bL3zEgq3yDk5rn9B0PbYgIv++jmHcuUab4RhA==",
            "license": "MIT",
            "dependencies": {
                "is-what": "^5.2.0"
            },
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "url": "https://github.com/sponsors/mesqueeb"
            }
        },
        "node_modules/csstype": {
            "version": "3.2.3",
            "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.2.3.tgz",
            "integrity": "sha512-z1HGKcYy2xA8AGQfwrn0PAy+PB7X/GSj3UVJW9qKyn43xWa+gl5nXmU4qqLMRzWVLFC8KusUX8T/0kCiOYpAIQ==",
            "license": "MIT"
        },
        "node_modules/delayed-stream": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz",
            "integrity": "sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.4.0"
            }
        },
        "node_modules/detect-libc": {
            "version": "2.1.2",
            "resolved": "https://registry.npmjs.org/detect-libc/-/detect-libc-2.1.2.tgz",
            "integrity": "sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ==",
            "dev": true,
            "license": "Apache-2.0",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/dunder-proto": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
            "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "call-bind-apply-helpers": "^1.0.1",
                "es-errors": "^1.3.0",
                "gopd": "^1.2.0"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/emoji-regex": {
            "version": "8.0.0",
            "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
            "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/enhanced-resolve": {
            "version": "5.18.4",
            "resolved": "https://registry.npmjs.org/enhanced-resolve/-/enhanced-resolve-5.18.4.tgz",
            "integrity": "sha512-LgQMM4WXU3QI+SYgEc2liRgznaD5ojbmY3sb8LxyguVkIg5FxdpTkvk72te2R38/TGKxH634oLxXRGY6d7AP+Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "graceful-fs": "^4.2.4",
                "tapable": "^2.2.0"
            },
            "engines": {
                "node": ">=10.13.0"
            }
        },
        "node_modules/entities": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/entities/-/entities-7.0.0.tgz",
            "integrity": "sha512-FDWG5cmEYf2Z00IkYRhbFrwIwvdFKH07uV8dvNy0omp/Qb1xcyCWp2UDtcwJF4QZZvk0sLudP6/hAu42TaqVhQ==",
            "license": "BSD-2-Clause",
            "engines": {
                "node": ">=0.12"
            },
            "funding": {
                "url": "https://github.com/fb55/entities?sponsor=1"
            }
        },
        "node_modules/es-define-property": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
            "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/es-errors": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
            "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/es-object-atoms": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
            "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "es-errors": "^1.3.0"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/es-set-tostringtag": {
            "version": "2.1.0",
            "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
            "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "es-errors": "^1.3.0",
                "get-intrinsic": "^1.2.6",
                "has-tostringtag": "^1.0.2",
                "hasown": "^2.0.2"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/esbuild": {
            "version": "0.27.2",
            "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.27.2.tgz",
            "integrity": "sha512-HyNQImnsOC7X9PMNaCIeAm4ISCQXs5a5YasTXVliKv4uuBo1dKrG0A+uQS8M5eXjVMnLg3WgXaKvprHlFJQffw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "bin": {
                "esbuild": "bin/esbuild"
            },
            "engines": {
                "node": ">=18"
            },
            "optionalDependencies": {
                "@esbuild/aix-ppc64": "0.27.2",
                "@esbuild/android-arm": "0.27.2",
                "@esbuild/android-arm64": "0.27.2",
                "@esbuild/android-x64": "0.27.2",
                "@esbuild/darwin-arm64": "0.27.2",
                "@esbuild/darwin-x64": "0.27.2",
                "@esbuild/freebsd-arm64": "0.27.2",
                "@esbuild/freebsd-x64": "0.27.2",
                "@esbuild/linux-arm": "0.27.2",
                "@esbuild/linux-arm64": "0.27.2",
                "@esbuild/linux-ia32": "0.27.2",
                "@esbuild/linux-loong64": "0.27.2",
                "@esbuild/linux-mips64el": "0.27.2",
                "@esbuild/linux-ppc64": "0.27.2",
                "@esbuild/linux-riscv64": "0.27.2",
                "@esbuild/linux-s390x": "0.27.2",
                "@esbuild/linux-x64": "0.27.2",
                "@esbuild/netbsd-arm64": "0.27.2",
                "@esbuild/netbsd-x64": "0.27.2",
                "@esbuild/openbsd-arm64": "0.27.2",
                "@esbuild/openbsd-x64": "0.27.2",
                "@esbuild/openharmony-arm64": "0.27.2",
                "@esbuild/sunos-x64": "0.27.2",
                "@esbuild/win32-arm64": "0.27.2",
                "@esbuild/win32-ia32": "0.27.2",
                "@esbuild/win32-x64": "0.27.2"
            }
        },
        "node_modules/escalade": {
            "version": "3.2.0",
            "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
            "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            }
        },
        "node_modules/estree-walker": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz",
            "integrity": "sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==",
            "license": "MIT"
        },
        "node_modules/fdir": {
            "version": "6.5.0",
            "resolved": "https://registry.npmjs.org/fdir/-/fdir-6.5.0.tgz",
            "integrity": "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=12.0.0"
            },
            "peerDependencies": {
                "picomatch": "^3 || ^4"
            },
            "peerDependenciesMeta": {
                "picomatch": {
                    "optional": true
                }
            }
        },
        "node_modules/follow-redirects": {
            "version": "1.15.11",
            "resolved": "https://registry.npmjs.org/follow-redirects/-/follow-redirects-1.15.11.tgz",
            "integrity": "sha512-deG2P0JfjrTxl50XGCDyfI97ZGVCxIpfKYmfyrQ54n5FO/0gfIES8C/Psl6kWVDolizcaaxZJnTS0QSMxvnsBQ==",
            "dev": true,
            "funding": [
                {
                    "type": "individual",
                    "url": "https://github.com/sponsors/RubenVerborgh"
                }
            ],
            "license": "MIT",
            "engines": {
                "node": ">=4.0"
            },
            "peerDependenciesMeta": {
                "debug": {
                    "optional": true
                }
            }
        },
        "node_modules/form-data": {
            "version": "4.0.5",
            "resolved": "https://registry.npmjs.org/form-data/-/form-data-4.0.5.tgz",
            "integrity": "sha512-8RipRLol37bNs2bhoV67fiTEvdTrbMUYcFTiy3+wuuOnUog2QBHCZWXDRijWQfAkhBj2Uf5UnVaiWwA5vdd82w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "asynckit": "^0.4.0",
                "combined-stream": "^1.0.8",
                "es-set-tostringtag": "^2.1.0",
                "hasown": "^2.0.2",
                "mime-types": "^2.1.12"
            },
            "engines": {
                "node": ">= 6"
            }
        },
        "node_modules/fsevents": {
            "version": "2.3.3",
            "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
            "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
            "dev": true,
            "hasInstallScript": true,
            "license": "MIT",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
            }
        },
        "node_modules/function-bind": {
            "version": "1.1.2",
            "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
            "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
            "dev": true,
            "license": "MIT",
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/get-caller-file": {
            "version": "2.0.5",
            "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
            "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": "6.* || 8.* || >= 10.*"
            }
        },
        "node_modules/get-intrinsic": {
            "version": "1.3.0",
            "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
            "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "call-bind-apply-helpers": "^1.0.2",
                "es-define-property": "^1.0.1",
                "es-errors": "^1.3.0",
                "es-object-atoms": "^1.1.1",
                "function-bind": "^1.1.2",
                "get-proto": "^1.0.1",
                "gopd": "^1.2.0",
                "has-symbols": "^1.1.0",
                "hasown": "^2.0.2",
                "math-intrinsics": "^1.1.0"
            },
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/get-proto": {
            "version": "1.0.1",
            "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
            "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "dunder-proto": "^1.0.1",
                "es-object-atoms": "^1.0.0"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/gopd": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
            "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/graceful-fs": {
            "version": "4.2.11",
            "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
            "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
            "dev": true,
            "license": "ISC"
        },
        "node_modules/has-flag": {
            "version": "4.0.0",
            "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
            "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/has-symbols": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
            "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/has-tostringtag": {
            "version": "1.0.2",
            "resolved": "https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz",
            "integrity": "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-symbols": "^1.0.3"
            },
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/hasown": {
            "version": "2.0.2",
            "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
            "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "function-bind": "^1.1.2"
            },
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/hookable": {
            "version": "5.5.3",
            "resolved": "https://registry.npmjs.org/hookable/-/hookable-5.5.3.tgz",
            "integrity": "sha512-Yc+BQe8SvoXH1643Qez1zqLRmbA5rCL+sSmk6TVos0LWVfNIB7PGncdlId77WzLGSIB5KaWgTaNTs2lNVEI6VQ==",
            "license": "MIT"
        },
        "node_modules/is-fullwidth-code-point": {
            "version": "3.0.0",
            "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
            "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/is-what": {
            "version": "5.5.0",
            "resolved": "https://registry.npmjs.org/is-what/-/is-what-5.5.0.tgz",
            "integrity": "sha512-oG7cgbmg5kLYae2N5IVd3jm2s+vldjxJzK1pcu9LfpGuQ93MQSzo0okvRna+7y5ifrD+20FE8FvjusyGaz14fw==",
            "license": "MIT",
            "engines": {
                "node": ">=18"
            },
            "funding": {
                "url": "https://github.com/sponsors/mesqueeb"
            }
        },
        "node_modules/jiti": {
            "version": "2.6.1",
            "resolved": "https://registry.npmjs.org/jiti/-/jiti-2.6.1.tgz",
            "integrity": "sha512-ekilCSN1jwRvIbgeg/57YFh8qQDNbwDb9xT/qu2DAHbFFZUicIl4ygVaAvzveMhMVr3LnpSKTNnwt8PoOfmKhQ==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "jiti": "lib/jiti-cli.mjs"
            }
        },
        "node_modules/laravel-vite-plugin": {
            "version": "2.0.1",
            "resolved": "https://registry.npmjs.org/laravel-vite-plugin/-/laravel-vite-plugin-2.0.1.tgz",
            "integrity": "sha512-zQuvzWfUKQu9oNVi1o0RZAJCwhGsdhx4NEOyrVQwJHaWDseGP9tl7XUPLY2T8Cj6+IrZ6lmyxlR1KC8unf3RLA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "picocolors": "^1.0.0",
                "vite-plugin-full-reload": "^1.1.0"
            },
            "bin": {
                "clean-orphaned-assets": "bin/clean.js"
            },
            "engines": {
                "node": "^20.19.0 || >=22.12.0"
            },
            "peerDependencies": {
                "vite": "^7.0.0"
            }
        },
        "node_modules/lightningcss": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss/-/lightningcss-1.30.2.tgz",
            "integrity": "sha512-utfs7Pr5uJyyvDETitgsaqSyjCb2qNRAtuqUeWIAKztsOYdcACf2KtARYXg2pSvhkt+9NfoaNY7fxjl6nuMjIQ==",
            "dev": true,
            "license": "MPL-2.0",
            "dependencies": {
                "detect-libc": "^2.0.3"
            },
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            },
            "optionalDependencies": {
                "lightningcss-android-arm64": "1.30.2",
                "lightningcss-darwin-arm64": "1.30.2",
                "lightningcss-darwin-x64": "1.30.2",
                "lightningcss-freebsd-x64": "1.30.2",
                "lightningcss-linux-arm-gnueabihf": "1.30.2",
                "lightningcss-linux-arm64-gnu": "1.30.2",
                "lightningcss-linux-arm64-musl": "1.30.2",
                "lightningcss-linux-x64-gnu": "1.30.2",
                "lightningcss-linux-x64-musl": "1.30.2",
                "lightningcss-win32-arm64-msvc": "1.30.2",
                "lightningcss-win32-x64-msvc": "1.30.2"
            }
        },
        "node_modules/lightningcss-android-arm64": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-android-arm64/-/lightningcss-android-arm64-1.30.2.tgz",
            "integrity": "sha512-BH9sEdOCahSgmkVhBLeU7Hc9DWeZ1Eb6wNS6Da8igvUwAe0sqROHddIlvU06q3WyXVEOYDZ6ykBZQnjTbmo4+A==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "android"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-darwin-arm64": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-darwin-arm64/-/lightningcss-darwin-arm64-1.30.2.tgz",
            "integrity": "sha512-ylTcDJBN3Hp21TdhRT5zBOIi73P6/W0qwvlFEk22fkdXchtNTOU4Qc37SkzV+EKYxLouZ6M4LG9NfZ1qkhhBWA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-darwin-x64": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-darwin-x64/-/lightningcss-darwin-x64-1.30.2.tgz",
            "integrity": "sha512-oBZgKchomuDYxr7ilwLcyms6BCyLn0z8J0+ZZmfpjwg9fRVZIR5/GMXd7r9RH94iDhld3UmSjBM6nXWM2TfZTQ==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "darwin"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-freebsd-x64": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-freebsd-x64/-/lightningcss-freebsd-x64-1.30.2.tgz",
            "integrity": "sha512-c2bH6xTrf4BDpK8MoGG4Bd6zAMZDAXS569UxCAGcA7IKbHNMlhGQ89eRmvpIUGfKWNVdbhSbkQaWhEoMGmGslA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "freebsd"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-linux-arm-gnueabihf": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-linux-arm-gnueabihf/-/lightningcss-linux-arm-gnueabihf-1.30.2.tgz",
            "integrity": "sha512-eVdpxh4wYcm0PofJIZVuYuLiqBIakQ9uFZmipf6LF/HRj5Bgm0eb3qL/mr1smyXIS1twwOxNWndd8z0E374hiA==",
            "cpu": [
                "arm"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-linux-arm64-gnu": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-gnu/-/lightningcss-linux-arm64-gnu-1.30.2.tgz",
            "integrity": "sha512-UK65WJAbwIJbiBFXpxrbTNArtfuznvxAJw4Q2ZGlU8kPeDIWEX1dg3rn2veBVUylA2Ezg89ktszWbaQnxD/e3A==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-linux-arm64-musl": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-musl/-/lightningcss-linux-arm64-musl-1.30.2.tgz",
            "integrity": "sha512-5Vh9dGeblpTxWHpOx8iauV02popZDsCYMPIgiuw97OJ5uaDsL86cnqSFs5LZkG3ghHoX5isLgWzMs+eD1YzrnA==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-linux-x64-gnu": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-gnu/-/lightningcss-linux-x64-gnu-1.30.2.tgz",
            "integrity": "sha512-Cfd46gdmj1vQ+lR6VRTTadNHu6ALuw2pKR9lYq4FnhvgBc4zWY1EtZcAc6EffShbb1MFrIPfLDXD6Xprbnni4w==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-linux-x64-musl": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-musl/-/lightningcss-linux-x64-musl-1.30.2.tgz",
            "integrity": "sha512-XJaLUUFXb6/QG2lGIW6aIk6jKdtjtcffUT0NKvIqhSBY3hh9Ch+1LCeH80dR9q9LBjG3ewbDjnumefsLsP6aiA==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "linux"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-win32-arm64-msvc": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-win32-arm64-msvc/-/lightningcss-win32-arm64-msvc-1.30.2.tgz",
            "integrity": "sha512-FZn+vaj7zLv//D/192WFFVA0RgHawIcHqLX9xuWiQt7P0PtdFEVaxgF9rjM/IRYHQXNnk61/H/gb2Ei+kUQ4xQ==",
            "cpu": [
                "arm64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/lightningcss-win32-x64-msvc": {
            "version": "1.30.2",
            "resolved": "https://registry.npmjs.org/lightningcss-win32-x64-msvc/-/lightningcss-win32-x64-msvc-1.30.2.tgz",
            "integrity": "sha512-5g1yc73p+iAkid5phb4oVFMB45417DkRevRbt/El/gKXJk4jid+vPFF/AXbxn05Aky8PapwzZrdJShv5C0avjw==",
            "cpu": [
                "x64"
            ],
            "dev": true,
            "license": "MPL-2.0",
            "optional": true,
            "os": [
                "win32"
            ],
            "engines": {
                "node": ">= 12.0.0"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/parcel"
            }
        },
        "node_modules/magic-string": {
            "version": "0.30.21",
            "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
            "integrity": "sha512-vd2F4YUyEXKGcLHoq+TEyCjxueSeHnFxyyjNp80yg0XV4vUhnDer/lvvlqM/arB5bXQN5K2/3oinyCRyx8T2CQ==",
            "license": "MIT",
            "dependencies": {
                "@jridgewell/sourcemap-codec": "^1.5.5"
            }
        },
        "node_modules/math-intrinsics": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
            "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            }
        },
        "node_modules/mime-db": {
            "version": "1.52.0",
            "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
            "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/mime-types": {
            "version": "2.1.35",
            "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
            "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "mime-db": "1.52.0"
            },
            "engines": {
                "node": ">= 0.6"
            }
        },
        "node_modules/mitt": {
            "version": "3.0.1",
            "resolved": "https://registry.npmjs.org/mitt/-/mitt-3.0.1.tgz",
            "integrity": "sha512-vKivATfr97l2/QBCYAkXYDbrIWPM2IIKEl7YPhjCvKlG3kE2gm+uBo6nEXK3M5/Ffh/FLpKExzOQ3JJoJGFKBw==",
            "license": "MIT"
        },
        "node_modules/nanoid": {
            "version": "3.3.11",
            "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
            "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
            "funding": [
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "bin": {
                "nanoid": "bin/nanoid.cjs"
            },
            "engines": {
                "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
            }
        },
        "node_modules/perfect-debounce": {
            "version": "1.0.0",
            "resolved": "https://registry.npmjs.org/perfect-debounce/-/perfect-debounce-1.0.0.tgz",
            "integrity": "sha512-xCy9V055GLEqoFaHoC1SoLIaLmWctgCUaBaWxDZ7/Zx4CTyX7cJQLJOok/orfjZAh9kEYpjJa4d0KcJmCbctZA==",
            "license": "MIT"
        },
        "node_modules/picocolors": {
            "version": "1.1.1",
            "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
            "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
            "license": "ISC"
        },
        "node_modules/picomatch": {
            "version": "4.0.3",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-4.0.3.tgz",
            "integrity": "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=12"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/pinia": {
            "version": "3.0.4",
            "resolved": "https://registry.npmjs.org/pinia/-/pinia-3.0.4.tgz",
            "integrity": "sha512-l7pqLUFTI/+ESXn6k3nu30ZIzW5E2WZF/LaHJEpoq6ElcLD+wduZoB2kBN19du6K/4FDpPMazY2wJr+IndBtQw==",
            "license": "MIT",
            "dependencies": {
                "@vue/devtools-api": "^7.7.7"
            },
            "funding": {
                "url": "https://github.com/sponsors/posva"
            },
            "peerDependencies": {
                "typescript": ">=4.5.0",
                "vue": "^3.5.11"
            },
            "peerDependenciesMeta": {
                "typescript": {
                    "optional": true
                }
            }
        },
        "node_modules/pinia/node_modules/@vue/devtools-api": {
            "version": "7.7.9",
            "resolved": "https://registry.npmjs.org/@vue/devtools-api/-/devtools-api-7.7.9.tgz",
            "integrity": "sha512-kIE8wvwlcZ6TJTbNeU2HQNtaxLx3a84aotTITUuL/4bzfPxzajGBOoqjMhwZJ8L9qFYDU/lAYMEEm11dnZOD6g==",
            "license": "MIT",
            "dependencies": {
                "@vue/devtools-kit": "^7.7.9"
            }
        },
        "node_modules/postcss": {
            "version": "8.5.6",
            "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
            "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
            "funding": [
                {
                    "type": "opencollective",
                    "url": "https://opencollective.com/postcss/"
                },
                {
                    "type": "tidelift",
                    "url": "https://tidelift.com/funding/github/npm/postcss"
                },
                {
                    "type": "github",
                    "url": "https://github.com/sponsors/ai"
                }
            ],
            "license": "MIT",
            "dependencies": {
                "nanoid": "^3.3.11",
                "picocolors": "^1.1.1",
                "source-map-js": "^1.2.1"
            },
            "engines": {
                "node": "^10 || ^12 || >=14"
            }
        },
        "node_modules/proxy-from-env": {
            "version": "1.1.0",
            "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
            "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/require-directory": {
            "version": "2.1.1",
            "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
            "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/rfdc": {
            "version": "1.4.1",
            "resolved": "https://registry.npmjs.org/rfdc/-/rfdc-1.4.1.tgz",
            "integrity": "sha512-q1b3N5QkRUWUl7iyylaaj3kOpIT0N2i9MqIEQXP73GVsN9cw3fdx8X63cEmWhJGi2PPCF23Ijp7ktmd39rawIA==",
            "license": "MIT"
        },
        "node_modules/rollup": {
            "version": "4.55.1",
            "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.55.1.tgz",
            "integrity": "sha512-wDv/Ht1BNHB4upNbK74s9usvl7hObDnvVzknxqY/E/O3X6rW1U1rV1aENEfJ54eFZDTNo7zv1f5N4edCluH7+A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "@types/estree": "1.0.8"
            },
            "bin": {
                "rollup": "dist/bin/rollup"
            },
            "engines": {
                "node": ">=18.0.0",
                "npm": ">=8.0.0"
            },
            "optionalDependencies": {
                "@rollup/rollup-android-arm-eabi": "4.55.1",
                "@rollup/rollup-android-arm64": "4.55.1",
                "@rollup/rollup-darwin-arm64": "4.55.1",
                "@rollup/rollup-darwin-x64": "4.55.1",
                "@rollup/rollup-freebsd-arm64": "4.55.1",
                "@rollup/rollup-freebsd-x64": "4.55.1",
                "@rollup/rollup-linux-arm-gnueabihf": "4.55.1",
                "@rollup/rollup-linux-arm-musleabihf": "4.55.1",
                "@rollup/rollup-linux-arm64-gnu": "4.55.1",
                "@rollup/rollup-linux-arm64-musl": "4.55.1",
                "@rollup/rollup-linux-loong64-gnu": "4.55.1",
                "@rollup/rollup-linux-loong64-musl": "4.55.1",
                "@rollup/rollup-linux-ppc64-gnu": "4.55.1",
                "@rollup/rollup-linux-ppc64-musl": "4.55.1",
                "@rollup/rollup-linux-riscv64-gnu": "4.55.1",
                "@rollup/rollup-linux-riscv64-musl": "4.55.1",
                "@rollup/rollup-linux-s390x-gnu": "4.55.1",
                "@rollup/rollup-linux-x64-gnu": "4.55.1",
                "@rollup/rollup-linux-x64-musl": "4.55.1",
                "@rollup/rollup-openbsd-x64": "4.55.1",
                "@rollup/rollup-openharmony-arm64": "4.55.1",
                "@rollup/rollup-win32-arm64-msvc": "4.55.1",
                "@rollup/rollup-win32-ia32-msvc": "4.55.1",
                "@rollup/rollup-win32-x64-gnu": "4.55.1",
                "@rollup/rollup-win32-x64-msvc": "4.55.1",
                "fsevents": "~2.3.2"
            }
        },
        "node_modules/rxjs": {
            "version": "7.8.2",
            "resolved": "https://registry.npmjs.org/rxjs/-/rxjs-7.8.2.tgz",
            "integrity": "sha512-dhKf903U/PQZY6boNNtAGdWbG85WAbjT/1xYoZIC7FAY0yWapOBQVsVrDl58W86//e1VpMNBtRV4MaXfdMySFA==",
            "dev": true,
            "license": "Apache-2.0",
            "dependencies": {
                "tslib": "^2.1.0"
            }
        },
        "node_modules/shell-quote": {
            "version": "1.8.3",
            "resolved": "https://registry.npmjs.org/shell-quote/-/shell-quote-1.8.3.tgz",
            "integrity": "sha512-ObmnIF4hXNg1BqhnHmgbDETF8dLPCggZWBjkQfhZpbszZnYur5DUljTcCHii5LC3J5E0yeO/1LIMyH+UvHQgyw==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">= 0.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/ljharb"
            }
        },
        "node_modules/source-map-js": {
            "version": "1.2.1",
            "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
            "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
            "license": "BSD-3-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/speakingurl": {
            "version": "14.0.1",
            "resolved": "https://registry.npmjs.org/speakingurl/-/speakingurl-14.0.1.tgz",
            "integrity": "sha512-1POYv7uv2gXoyGFpBCmpDVSNV74IfsWlDW216UPjbWufNf+bSU6GdbDsxdcxtfwb4xlI3yxzOTKClUosxARYrQ==",
            "license": "BSD-3-Clause",
            "engines": {
                "node": ">=0.10.0"
            }
        },
        "node_modules/string-width": {
            "version": "4.2.3",
            "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
            "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "emoji-regex": "^8.0.0",
                "is-fullwidth-code-point": "^3.0.0",
                "strip-ansi": "^6.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/strip-ansi": {
            "version": "6.0.1",
            "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
            "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-regex": "^5.0.1"
            },
            "engines": {
                "node": ">=8"
            }
        },
        "node_modules/superjson": {
            "version": "2.2.6",
            "resolved": "https://registry.npmjs.org/superjson/-/superjson-2.2.6.tgz",
            "integrity": "sha512-H+ue8Zo4vJmV2nRjpx86P35lzwDT3nItnIsocgumgr0hHMQ+ZGq5vrERg9kJBo5AWGmxZDhzDo+WVIJqkB0cGA==",
            "license": "MIT",
            "dependencies": {
                "copy-anything": "^4"
            },
            "engines": {
                "node": ">=16"
            }
        },
        "node_modules/supports-color": {
            "version": "8.1.1",
            "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-8.1.1.tgz",
            "integrity": "sha512-MpUEN2OodtUzxvKQl72cUF7RQ5EiHsGvSsVG0ia9c5RbWGL2CI4C7EpPS8UTBIplnlzZiNuV56w+FuNxy3ty2Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "has-flag": "^4.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/supports-color?sponsor=1"
            }
        },
        "node_modules/tailwindcss": {
            "version": "4.1.18",
            "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-4.1.18.tgz",
            "integrity": "sha512-4+Z+0yiYyEtUVCScyfHCxOYP06L5Ne+JiHhY2IjR2KWMIWhJOYZKLSGZaP5HkZ8+bY0cxfzwDE5uOmzFXyIwxw==",
            "dev": true,
            "license": "MIT"
        },
        "node_modules/tapable": {
            "version": "2.3.0",
            "resolved": "https://registry.npmjs.org/tapable/-/tapable-2.3.0.tgz",
            "integrity": "sha512-g9ljZiwki/LfxmQADO3dEY1CbpmXT5Hm2fJ+QaGKwSXUylMybePR7/67YW7jOrrvjEgL1Fmz5kzyAjWVWLlucg==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=6"
            },
            "funding": {
                "type": "opencollective",
                "url": "https://opencollective.com/webpack"
            }
        },
        "node_modules/tinyglobby": {
            "version": "0.2.15",
            "resolved": "https://registry.npmjs.org/tinyglobby/-/tinyglobby-0.2.15.tgz",
            "integrity": "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "fdir": "^6.5.0",
                "picomatch": "^4.0.3"
            },
            "engines": {
                "node": ">=12.0.0"
            },
            "funding": {
                "url": "https://github.com/sponsors/SuperchupuDev"
            }
        },
        "node_modules/tree-kill": {
            "version": "1.2.2",
            "resolved": "https://registry.npmjs.org/tree-kill/-/tree-kill-1.2.2.tgz",
            "integrity": "sha512-L0Orpi8qGpRG//Nd+H90vFB+3iHnue1zSSGmNOOCh1GLJ7rUKVwV2HvijphGQS2UmhUZewS9VgvxYIdgr+fG1A==",
            "dev": true,
            "license": "MIT",
            "bin": {
                "tree-kill": "cli.js"
            }
        },
        "node_modules/tslib": {
            "version": "2.8.1",
            "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
            "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
            "dev": true,
            "license": "0BSD"
        },
        "node_modules/vite": {
            "version": "7.3.0",
            "resolved": "https://registry.npmjs.org/vite/-/vite-7.3.0.tgz",
            "integrity": "sha512-dZwN5L1VlUBewiP6H9s2+B3e3Jg96D0vzN+Ry73sOefebhYr9f94wwkMNN/9ouoU8pV1BqA1d1zGk8928cx0rg==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "esbuild": "^0.27.0",
                "fdir": "^6.5.0",
                "picomatch": "^4.0.3",
                "postcss": "^8.5.6",
                "rollup": "^4.43.0",
                "tinyglobby": "^0.2.15"
            },
            "bin": {
                "vite": "bin/vite.js"
            },
            "engines": {
                "node": "^20.19.0 || >=22.12.0"
            },
            "funding": {
                "url": "https://github.com/vitejs/vite?sponsor=1"
            },
            "optionalDependencies": {
                "fsevents": "~2.3.3"
            },
            "peerDependencies": {
                "@types/node": "^20.19.0 || >=22.12.0",
                "jiti": ">=1.21.0",
                "less": "^4.0.0",
                "lightningcss": "^1.21.0",
                "sass": "^1.70.0",
                "sass-embedded": "^1.70.0",
                "stylus": ">=0.54.8",
                "sugarss": "^5.0.0",
                "terser": "^5.16.0",
                "tsx": "^4.8.1",
                "yaml": "^2.4.2"
            },
            "peerDependenciesMeta": {
                "@types/node": {
                    "optional": true
                },
                "jiti": {
                    "optional": true
                },
                "less": {
                    "optional": true
                },
                "lightningcss": {
                    "optional": true
                },
                "sass": {
                    "optional": true
                },
                "sass-embedded": {
                    "optional": true
                },
                "stylus": {
                    "optional": true
                },
                "sugarss": {
                    "optional": true
                },
                "terser": {
                    "optional": true
                },
                "tsx": {
                    "optional": true
                },
                "yaml": {
                    "optional": true
                }
            }
        },
        "node_modules/vite-plugin-full-reload": {
            "version": "1.2.0",
            "resolved": "https://registry.npmjs.org/vite-plugin-full-reload/-/vite-plugin-full-reload-1.2.0.tgz",
            "integrity": "sha512-kz18NW79x0IHbxRSHm0jttP4zoO9P9gXh+n6UTwlNKnviTTEpOlum6oS9SmecrTtSr+muHEn5TUuC75UovQzcA==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "picocolors": "^1.0.0",
                "picomatch": "^2.3.1"
            }
        },
        "node_modules/vite-plugin-full-reload/node_modules/picomatch": {
            "version": "2.3.1",
            "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
            "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
            "dev": true,
            "license": "MIT",
            "engines": {
                "node": ">=8.6"
            },
            "funding": {
                "url": "https://github.com/sponsors/jonschlinkert"
            }
        },
        "node_modules/vue": {
            "version": "3.5.26",
            "resolved": "https://registry.npmjs.org/vue/-/vue-3.5.26.tgz",
            "integrity": "sha512-SJ/NTccVyAoNUJmkM9KUqPcYlY+u8OVL1X5EW9RIs3ch5H2uERxyyIUI4MRxVCSOiEcupX9xNGde1tL9ZKpimA==",
            "license": "MIT",
            "dependencies": {
                "@vue/compiler-dom": "3.5.26",
                "@vue/compiler-sfc": "3.5.26",
                "@vue/runtime-dom": "3.5.26",
                "@vue/server-renderer": "3.5.26",
                "@vue/shared": "3.5.26"
            },
            "peerDependencies": {
                "typescript": "*"
            },
            "peerDependenciesMeta": {
                "typescript": {
                    "optional": true
                }
            }
        },
        "node_modules/vue-router": {
            "version": "4.6.4",
            "resolved": "https://registry.npmjs.org/vue-router/-/vue-router-4.6.4.tgz",
            "integrity": "sha512-Hz9q5sa33Yhduglwz6g9skT8OBPii+4bFn88w6J+J4MfEo4KRRpmiNG/hHHkdbRFlLBOqxN8y8gf2Fb0MTUgVg==",
            "license": "MIT",
            "dependencies": {
                "@vue/devtools-api": "^6.6.4"
            },
            "funding": {
                "url": "https://github.com/sponsors/posva"
            },
            "peerDependencies": {
                "vue": "^3.5.0"
            }
        },
        "node_modules/wrap-ansi": {
            "version": "7.0.0",
            "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
            "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "ansi-styles": "^4.0.0",
                "string-width": "^4.1.0",
                "strip-ansi": "^6.0.0"
            },
            "engines": {
                "node": ">=10"
            },
            "funding": {
                "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
            }
        },
        "node_modules/y18n": {
            "version": "5.0.8",
            "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
            "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=10"
            }
        },
        "node_modules/yargs": {
            "version": "17.7.2",
            "resolved": "https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz",
            "integrity": "sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",
            "dev": true,
            "license": "MIT",
            "dependencies": {
                "cliui": "^8.0.1",
                "escalade": "^3.1.1",
                "get-caller-file": "^2.0.5",
                "require-directory": "^2.1.1",
                "string-width": "^4.2.3",
                "y18n": "^5.0.5",
                "yargs-parser": "^21.1.1"
            },
            "engines": {
                "node": ">=12"
            }
        },
        "node_modules/yargs-parser": {
            "version": "21.1.1",
            "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz",
            "integrity": "sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==",
            "dev": true,
            "license": "ISC",
            "engines": {
                "node": ">=12"
            }
        }
    }
}


--- FILE: ./composer.json ---

{
    "$schema": "https://getcomposer.org/schema.json",
    "name": "laravel/laravel",
    "type": "project",
    "description": "The skeleton application for the Laravel framework.",
    "keywords": [
        "laravel",
        "framework"
    ],
    "license": "MIT",
    "require": {
        "php": "^8.2",
        "dedoc/scramble": "^0.13.10",
        "laravel/framework": "^12.0",
        "laravel/sanctum": "^4.0",
        "laravel/tinker": "^2.10.1"
    },
    "require-dev": {
        "fakerphp/faker": "^1.23",
        "laravel/pail": "^1.2.2",
        "laravel/pint": "^1.24",
        "laravel/sail": "^1.41",
        "mockery/mockery": "^1.6",
        "nunomaduro/collision": "^8.6",
        "phpunit/phpunit": "^11.5.3"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/",
            "Database\\Factories\\": "database/factories/",
            "Database\\Seeders\\": "database/seeders/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "setup": [
            "composer install",
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\"",
            "@php artisan key:generate",
            "@php artisan migrate --force",
            "npm install",
            "npm run build"
        ],
        "dev": [
            "Composer\\Config::disableProcessTimeout",
            "npx concurrently -c \"#93c5fd,#c4b5fd,#fb7185,#fdba74\" \"php artisan serve\" \"php artisan queue:listen --tries=1\" \"php artisan pail --timeout=0\" \"npm run dev\" --names=server,queue,logs,vite --kill-others"
        ],
        "test": [
            "@php artisan config:clear --ansi",
            "@php artisan test"
        ],
        "post-autoload-dump": [
            "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump",
            "@php artisan package:discover --ansi"
        ],
        "post-update-cmd": [
            "@php artisan vendor:publish --tag=laravel-assets --ansi --force"
        ],
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php artisan key:generate --ansi",
            "@php -r \"file_exists('database/database.sqlite') || touch('database/database.sqlite');\"",
            "@php artisan migrate --graceful --ansi"
        ],
        "pre-package-uninstall": [
            "Illuminate\\Foundation\\ComposerScripts::prePackageUninstall"
        ]
    },
    "extra": {
        "laravel": {
            "dont-discover": []
        }
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true,
        "allow-plugins": {
            "pestphp/pest-plugin": true,
            "php-http/discovery": true
        }
    },
    "minimum-stability": "stable",
    "prefer-stable": true
}


--- FILE: ./routes/web.php ---

<?php

use Illuminate\Support\Facades\Route;
use App\Http\Controllers\Api\V1\ShopifyAuthController;


Route::group(['middleware' => ['web']], function () {
    
    // 2. Callback (Redirected from Shopify)
    Route::get('/api/v1/shopify/callback', [ShopifyAuthController::class, 'callback']);

});

// Update this section
Route::get('/{any}', function () {
    return view('dashboard');
})->where('any', '^(?!docs|api|storage|sanctum).*$');

--- FILE: ./routes/console.php ---

<?php

use Illuminate\Support\Facades\Schedule;
use Illuminate\Support\Facades\Log;
use Illuminate\Support\Facades\Artisan;
use Illuminate\Support\Facades\Http;
use App\Models\Shipment;
use App\Models\UserIntegration;

// Test command
Schedule::command('inspire')->hourly();

// --- ENTERPRISE SCHEDULER ---
// Run the sync manager every 15 minutes.
// withoutOverlapping() ensures we don't spawn 10 processes if one is stuck.
Schedule::command('integrations:sync-shopify')
    ->everyFifteenMinutes()
    ->withoutOverlapping()
    ->onOneServer(); // Important if you ever scale to multiple servers (AWS/DigitalOcean)

    Artisan::command('debug:shopify {shipment_id}', function ($shipment_id) {
    $this->info("--- STARTING SHOPIFY DIAGNOSTICS FOR SHIPMENT #{$shipment_id} ---");

    // 1. Load Data
    $shipment = Shipment::find($shipment_id);
    if (!$shipment) {
        $this->error("Shipment not found.");
        return;
    }

    $integration = UserIntegration::where('company_id', $shipment->company_id)
        ->where('platform', 'shopify')
        ->first();

    if (!$integration) {
        $this->error("No Shopify integration found.");
        return;
    }

    $headers = [
        'X-Shopify-Access-Token' => $integration->api_secret,
        'Content-Type' => 'application/json'
    ];
    $url = "https://{$integration->store_url}/admin/api/2024-01/graphql.json";

    $this->info("Target Store: {$integration->store_url}");
    $this->info("External Order ID: {$shipment->external_order_id}");

    // 2. Fetch Fulfillment Order ID
    $this->comment("Fetching Fulfillment Order Data...");
    
    $queryId = '{ 
        order(id: "gid://shopify/Order/' . $shipment->external_order_id . '") { 
            name
            displayFulfillmentStatus
            fulfillmentOrders(first: 5) { 
                edges { 
                    node { 
                        id 
                        status 
                    } 
                } 
            } 
        } 
    }';

    $response = Http::withHeaders($headers)->post($url, ['query' => $queryId])->json();
    
    // Dump Raw Response for analysis
    $this->line("--- RAW SHOPIFY RESPONSE ---");
    dump($response); 

    // Extract Data
    $fulfillmentOrderId = $response['data']['order']['fulfillmentOrders']['edges'][0]['node']['id'] ?? null;
    $status = $response['data']['order']['fulfillmentOrders']['edges'][0]['node']['status'] ?? 'UNKNOWN';
    $displayStatus = $response['data']['order']['displayFulfillmentStatus'] ?? 'UNKNOWN';

    $this->info("Fulfillment Order ID: " . ($fulfillmentOrderId ?? "NULL"));
    $this->info("Internal Status: {$status}");
    $this->info("Display Status: {$displayStatus}");

    // 3. Attempt Fulfillment if Valid
    if ($fulfillmentOrderId && $status === 'OPEN') {
        $this->comment("Attempting to Push Fulfillment...");
        
        $mutation = 'mutation fulfillmentCreateV2($fulfillment: FulfillmentV2Input!) { 
            fulfillmentCreateV2(fulfillment: $fulfillment) { 
                fulfillment { 
                    status 
                    displayStatus 
                } 
                userErrors { 
                    field 
                    message 
                } 
            } 
        }';
        
        $variables = [
            'fulfillment' => [
                'lineItemsByFulfillmentOrder' => [['fulfillmentOrderId' => $fulfillmentOrderId]],
                'notifyCustomer' => true,
                'trackingInfo' => [
                    'company' => 'Other', // Hardcoded 'Other' for safety
                    'number' => $shipment->tracking_number, 
                    'url' => 'https://google.com'
                ]
            ]
        ];

        $res2 = Http::withHeaders($headers)->post($url, ['query' => $mutation, 'variables' => $variables])->json();
        
        $this->line("--- FULFILLMENT RESPONSE ---");
        dump($res2);
    } else {
        $this->warn("Skipping fulfillment push. Status must be 'OPEN', but got '{$status}'.");
    }

    $this->info("--- DIAGNOSTICS COMPLETE ---");
});

--- FILE: ./routes/api.php ---

<?php

use Illuminate\Http\Request;
use Illuminate\Support\Facades\Route;

// Controllers
use App\Http\Controllers\Api\V1\AuthController;
use App\Http\Controllers\Api\V1\AdminController;
use App\Http\Controllers\Api\V1\CompanyController;
use App\Http\Controllers\Api\V1\TeamController;
use App\Http\Controllers\Api\V1\RateController;
use App\Http\Controllers\Api\V1\ShipmentController;
use App\Http\Controllers\Api\V1\PromoController;
use App\Http\Controllers\Api\V1\SupportController;
use App\Http\Controllers\Api\V1\NotificationController;
use App\Http\Controllers\Api\V1\IntegrationController;
use App\Http\Controllers\Api\V1\ShopifyAuthController;

// Middleware
use App\Http\Middleware\EnsureSuperAdmin;

Route::prefix('v1')->group(function () {

    // 1. PUBLIC ROUTES
    Route::controller(AuthController::class)->group(function () {
        Route::post('/register', 'register');
        Route::post('/login', 'login')->name('login');
    });
    Route::get('/abn-lookup/{abn}', [CompanyController::class, 'verifyAbn']);

    // 2. PROTECTED ROUTES
    Route::middleware('auth:sanctum')->group(function () {

        Route::post('/logout', [AuthController::class, 'logout']);
        Route::get('/user', fn(Request $request) => $request->user());

        // Company & Team
        Route::controller(CompanyController::class)->group(function () {
            Route::get('/company', 'show');
            Route::put('/company', 'update');
        });
        Route::controller(TeamController::class)->group(function () {
            Route::get('/team', 'index');
            Route::post('/team', 'store');
        });

        // Shipments
        Route::post('/rates', [RateController::class, 'store']);
        Route::controller(ShipmentController::class)->group(function () {
            Route::get('/shipments', 'index');
            Route::get('/shipments/{shipment}', 'show');
            Route::post('/shipments/{shipment}/book', 'book');
            Route::get('/shipments/{shipment}/label', 'downloadLabel')->name('api.v1.shipments.label');
        });
        Route::post('/promotions/validate', [PromoController::class, 'validateCode']);

        // --- INTEGRATIONS ---
        Route::post('/shopify/install', [ShopifyAuthController::class, 'install']);
        Route::get('/integrations', [IntegrationController::class, 'index']);
        Route::post('/integrations', [IntegrationController::class, 'store']);
        Route::post('/integrations/{id}/sync', [IntegrationController::class, 'sync']);
        Route::delete('/integrations/{id}', [IntegrationController::class, 'destroy']); // <--- NEW

        // Support & Notifications
        Route::controller(SupportController::class)->group(function () {
            Route::get('/support', 'index');
            Route::post('/support', 'store');
            Route::get('/support/{id}', 'show');
            Route::post('/support/{id}/reply', 'reply');
        });
        Route::controller(NotificationController::class)->group(function () {
            Route::get('/notifications', 'index');
            Route::post('/notifications/read-all', 'markAllRead');
            Route::post('/notifications/{id}/read', 'markRead');
        });
    });


    // ==============================================================================
    // 3. SUPER ADMIN ROUTES
    // ==============================================================================
    Route::middleware(['auth:sanctum', EnsureSuperAdmin::class])->prefix('admin')->group(function () {

        Route::get('/stats', [AdminController::class, 'stats']);

        // Company Management
        Route::controller(AdminController::class)->group(function () {
            Route::get('/companies', 'companies');
            Route::get('/admin/companies-list', 'companiesList');
            Route::put('/companies/{company}', 'updateCompany');
            Route::post('/companies/{company}/top-up', 'topUpWallet');
            Route::post('/companies/{company}/toggle-status', 'toggleStatus');
            Route::get('/companies/{company}/shipments', 'companyShipments');

            // Company Users
            Route::get('/companies/{company}/users', 'companyUsers');
            Route::post('/companies/{company}/users', 'storeCompanyUser');
        });

        // Carrier Management
        Route::controller(AdminController::class)->group(function () {
            Route::get('/carriers', 'carriers');
            Route::post('/carriers/{carrier}/toggle', 'toggleCarrier');
            Route::put('/carriers/{carrier}', 'updateCarrier');
        });

        // User Management
        Route::get('/users', [AdminController::class, 'users']);
        Route::delete('/users/{user}', [AdminController::class, 'deleteUser']);

        // Shipment Management
        Route::get('/shipments', [AdminController::class, 'shipments']);
        Route::get('/shipments/{id}', [AdminController::class, 'showShipment']);

        // Promotions
        Route::controller(PromoController::class)->group(function () {
            Route::get('/promotions', 'index');
            Route::post('/promotions', 'store');
            Route::post('/promotions/{promotion}/toggle', 'toggle');
        });
    });

});

--- FILE: ./test_api.http ---

### Test Registration
POST http://localhost/api/v1/register
Content-Type: application/json
Accept: application/json

{
    "abn": "51824753556",
    "company_name": "My Logistics Co",
    "first_name": "Danish",
    "last_name": "Afzal",
    "email": "danish.test@example.com",
    "password": "password123",
    "password_confirmation": "password123"
}

--- FILE: ./bootstrap/app.php ---

<?php

use Illuminate\Foundation\Application;
use Illuminate\Foundation\Configuration\Exceptions;
use Illuminate\Foundation\Configuration\Middleware;

return Application::configure(basePath: dirname(__DIR__))
    ->withRouting(
        web: __DIR__.'/../routes/web.php',
        api: __DIR__.'/../routes/api.php',
        commands: __DIR__.'/../routes/console.php',
        health: '/up',
    )
    ->withMiddleware(function (Middleware $middleware): void {

      // 1. TRUST ALL PROXIES (Fixes Ngrok HTTPS detection)
        $middleware->trustProxies(at: '*');

        // 2. FORCE SECURE COOKIES
        $middleware->encryptCookies(except: []);
        
        // 3. EXCLUDE OAUTH ROUTES FROM CSRF (Optional, but good for install endpoint)
        $middleware->validateCsrfTokens(except: [
            '/api/v1/shopify/install'
        ]);
    })
    ->withExceptions(function (Exceptions $exceptions): void {
        //
    })->create();


--- FILE: ./bootstrap/providers.php ---

<?php

return [
    App\Providers\AppServiceProvider::class,
];


--- FILE: ./bootstrap/cache/packages.php ---

<?php return array (
  'dedoc/scramble' => 
  array (
    'providers' => 
    array (
      0 => 'Dedoc\\Scramble\\ScrambleServiceProvider',
    ),
  ),
  'laravel/pail' => 
  array (
    'providers' => 
    array (
      0 => 'Laravel\\Pail\\PailServiceProvider',
    ),
  ),
  'laravel/sail' => 
  array (
    'providers' => 
    array (
      0 => 'Laravel\\Sail\\SailServiceProvider',
    ),
  ),
  'laravel/sanctum' => 
  array (
    'providers' => 
    array (
      0 => 'Laravel\\Sanctum\\SanctumServiceProvider',
    ),
  ),
  'laravel/tinker' => 
  array (
    'providers' => 
    array (
      0 => 'Laravel\\Tinker\\TinkerServiceProvider',
    ),
  ),
  'nesbot/carbon' => 
  array (
    'providers' => 
    array (
      0 => 'Carbon\\Laravel\\ServiceProvider',
    ),
  ),
  'nunomaduro/collision' => 
  array (
    'providers' => 
    array (
      0 => 'NunoMaduro\\Collision\\Adapters\\Laravel\\CollisionServiceProvider',
    ),
  ),
  'nunomaduro/termwind' => 
  array (
    'providers' => 
    array (
      0 => 'Termwind\\Laravel\\TermwindServiceProvider',
    ),
  ),
);

--- FILE: ./bootstrap/cache/services.php ---

<?php return array (
  'providers' => 
  array (
    0 => 'Illuminate\\Auth\\AuthServiceProvider',
    1 => 'Illuminate\\Broadcasting\\BroadcastServiceProvider',
    2 => 'Illuminate\\Bus\\BusServiceProvider',
    3 => 'Illuminate\\Cache\\CacheServiceProvider',
    4 => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    5 => 'Illuminate\\Concurrency\\ConcurrencyServiceProvider',
    6 => 'Illuminate\\Cookie\\CookieServiceProvider',
    7 => 'Illuminate\\Database\\DatabaseServiceProvider',
    8 => 'Illuminate\\Encryption\\EncryptionServiceProvider',
    9 => 'Illuminate\\Filesystem\\FilesystemServiceProvider',
    10 => 'Illuminate\\Foundation\\Providers\\FoundationServiceProvider',
    11 => 'Illuminate\\Hashing\\HashServiceProvider',
    12 => 'Illuminate\\Mail\\MailServiceProvider',
    13 => 'Illuminate\\Notifications\\NotificationServiceProvider',
    14 => 'Illuminate\\Pagination\\PaginationServiceProvider',
    15 => 'Illuminate\\Auth\\Passwords\\PasswordResetServiceProvider',
    16 => 'Illuminate\\Pipeline\\PipelineServiceProvider',
    17 => 'Illuminate\\Queue\\QueueServiceProvider',
    18 => 'Illuminate\\Redis\\RedisServiceProvider',
    19 => 'Illuminate\\Session\\SessionServiceProvider',
    20 => 'Illuminate\\Translation\\TranslationServiceProvider',
    21 => 'Illuminate\\Validation\\ValidationServiceProvider',
    22 => 'Illuminate\\View\\ViewServiceProvider',
    23 => 'Dedoc\\Scramble\\ScrambleServiceProvider',
    24 => 'Laravel\\Pail\\PailServiceProvider',
    25 => 'Laravel\\Sail\\SailServiceProvider',
    26 => 'Laravel\\Sanctum\\SanctumServiceProvider',
    27 => 'Laravel\\Tinker\\TinkerServiceProvider',
    28 => 'Carbon\\Laravel\\ServiceProvider',
    29 => 'NunoMaduro\\Collision\\Adapters\\Laravel\\CollisionServiceProvider',
    30 => 'Termwind\\Laravel\\TermwindServiceProvider',
    31 => 'App\\Providers\\AppServiceProvider',
  ),
  'eager' => 
  array (
    0 => 'Illuminate\\Auth\\AuthServiceProvider',
    1 => 'Illuminate\\Cookie\\CookieServiceProvider',
    2 => 'Illuminate\\Database\\DatabaseServiceProvider',
    3 => 'Illuminate\\Encryption\\EncryptionServiceProvider',
    4 => 'Illuminate\\Filesystem\\FilesystemServiceProvider',
    5 => 'Illuminate\\Foundation\\Providers\\FoundationServiceProvider',
    6 => 'Illuminate\\Notifications\\NotificationServiceProvider',
    7 => 'Illuminate\\Pagination\\PaginationServiceProvider',
    8 => 'Illuminate\\Session\\SessionServiceProvider',
    9 => 'Illuminate\\View\\ViewServiceProvider',
    10 => 'Dedoc\\Scramble\\ScrambleServiceProvider',
    11 => 'Laravel\\Pail\\PailServiceProvider',
    12 => 'Laravel\\Sanctum\\SanctumServiceProvider',
    13 => 'Carbon\\Laravel\\ServiceProvider',
    14 => 'NunoMaduro\\Collision\\Adapters\\Laravel\\CollisionServiceProvider',
    15 => 'Termwind\\Laravel\\TermwindServiceProvider',
    16 => 'App\\Providers\\AppServiceProvider',
  ),
  'deferred' => 
  array (
    'Illuminate\\Broadcasting\\BroadcastManager' => 'Illuminate\\Broadcasting\\BroadcastServiceProvider',
    'Illuminate\\Contracts\\Broadcasting\\Factory' => 'Illuminate\\Broadcasting\\BroadcastServiceProvider',
    'Illuminate\\Contracts\\Broadcasting\\Broadcaster' => 'Illuminate\\Broadcasting\\BroadcastServiceProvider',
    'Illuminate\\Bus\\Dispatcher' => 'Illuminate\\Bus\\BusServiceProvider',
    'Illuminate\\Contracts\\Bus\\Dispatcher' => 'Illuminate\\Bus\\BusServiceProvider',
    'Illuminate\\Contracts\\Bus\\QueueingDispatcher' => 'Illuminate\\Bus\\BusServiceProvider',
    'Illuminate\\Bus\\BatchRepository' => 'Illuminate\\Bus\\BusServiceProvider',
    'Illuminate\\Bus\\DatabaseBatchRepository' => 'Illuminate\\Bus\\BusServiceProvider',
    'cache' => 'Illuminate\\Cache\\CacheServiceProvider',
    'cache.store' => 'Illuminate\\Cache\\CacheServiceProvider',
    'cache.psr6' => 'Illuminate\\Cache\\CacheServiceProvider',
    'memcached.connector' => 'Illuminate\\Cache\\CacheServiceProvider',
    'Illuminate\\Cache\\RateLimiter' => 'Illuminate\\Cache\\CacheServiceProvider',
    'Illuminate\\Foundation\\Console\\AboutCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Cache\\Console\\ClearCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Cache\\Console\\ForgetCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ClearCompiledCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Auth\\Console\\ClearResetsCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ConfigCacheCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ConfigClearCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ConfigShowCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\DbCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\MonitorCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\PruneCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\ShowCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\TableCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\WipeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\DownCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EnvironmentCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EnvironmentDecryptCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EnvironmentEncryptCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EventCacheCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EventClearCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EventListCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Concurrency\\Console\\InvokeSerializedClosureCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\KeyGenerateCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\OptimizeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\OptimizeClearCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\PackageDiscoverCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Cache\\Console\\PruneStaleTagsCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\ClearCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\ListFailedCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\FlushFailedCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\ForgetFailedCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\ListenCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\MonitorCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\PauseCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\PruneBatchesCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\PruneFailedJobsCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\RestartCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\ResumeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\RetryCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\RetryBatchCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\WorkCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ReloadCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\RouteCacheCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\RouteClearCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\RouteListCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\DumpCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Seeds\\SeedCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Console\\Scheduling\\ScheduleFinishCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Console\\Scheduling\\ScheduleListCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Console\\Scheduling\\ScheduleRunCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Console\\Scheduling\\ScheduleClearCacheCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Console\\Scheduling\\ScheduleTestCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Console\\Scheduling\\ScheduleWorkCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Console\\Scheduling\\ScheduleInterruptCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\ShowModelCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\StorageLinkCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\StorageUnlinkCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\UpCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ViewCacheCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ViewClearCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ApiInstallCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\BroadcastingInstallCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Cache\\Console\\CacheTableCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\CastMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ChannelListCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ChannelMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ClassMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ComponentMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ConfigMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ConfigPublishCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ConsoleMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Routing\\Console\\ControllerMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\DocsCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EnumMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EventGenerateCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\EventMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ExceptionMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Factories\\FactoryMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\InterfaceMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\JobMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\JobMiddlewareMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\LangPublishCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ListenerMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\MailMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Routing\\Console\\MiddlewareMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ModelMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\NotificationMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Notifications\\Console\\NotificationTableCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ObserverMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\PolicyMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ProviderMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\FailedTableCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\TableCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Queue\\Console\\BatchesTableCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\RequestMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ResourceMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\RuleMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ScopeMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Seeds\\SeederMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Session\\Console\\SessionTableCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ServeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\StubPublishCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\TestMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\TraitMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\VendorPublishCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Foundation\\Console\\ViewMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'migrator' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'migration.repository' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'migration.creator' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Migrations\\Migrator' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\MigrateCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\FreshCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\InstallCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\RefreshCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\ResetCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\RollbackCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\StatusCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Database\\Console\\Migrations\\MigrateMakeCommand' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'composer' => 'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider',
    'Illuminate\\Concurrency\\ConcurrencyManager' => 'Illuminate\\Concurrency\\ConcurrencyServiceProvider',
    'hash' => 'Illuminate\\Hashing\\HashServiceProvider',
    'hash.driver' => 'Illuminate\\Hashing\\HashServiceProvider',
    'mail.manager' => 'Illuminate\\Mail\\MailServiceProvider',
    'mailer' => 'Illuminate\\Mail\\MailServiceProvider',
    'Illuminate\\Mail\\Markdown' => 'Illuminate\\Mail\\MailServiceProvider',
    'auth.password' => 'Illuminate\\Auth\\Passwords\\PasswordResetServiceProvider',
    'auth.password.broker' => 'Illuminate\\Auth\\Passwords\\PasswordResetServiceProvider',
    'Illuminate\\Contracts\\Pipeline\\Hub' => 'Illuminate\\Pipeline\\PipelineServiceProvider',
    'pipeline' => 'Illuminate\\Pipeline\\PipelineServiceProvider',
    'queue' => 'Illuminate\\Queue\\QueueServiceProvider',
    'queue.connection' => 'Illuminate\\Queue\\QueueServiceProvider',
    'queue.failer' => 'Illuminate\\Queue\\QueueServiceProvider',
    'queue.listener' => 'Illuminate\\Queue\\QueueServiceProvider',
    'queue.worker' => 'Illuminate\\Queue\\QueueServiceProvider',
    'redis' => 'Illuminate\\Redis\\RedisServiceProvider',
    'redis.connection' => 'Illuminate\\Redis\\RedisServiceProvider',
    'translator' => 'Illuminate\\Translation\\TranslationServiceProvider',
    'translation.loader' => 'Illuminate\\Translation\\TranslationServiceProvider',
    'validator' => 'Illuminate\\Validation\\ValidationServiceProvider',
    'validation.presence' => 'Illuminate\\Validation\\ValidationServiceProvider',
    'Illuminate\\Contracts\\Validation\\UncompromisedVerifier' => 'Illuminate\\Validation\\ValidationServiceProvider',
    'Laravel\\Sail\\Console\\InstallCommand' => 'Laravel\\Sail\\SailServiceProvider',
    'Laravel\\Sail\\Console\\PublishCommand' => 'Laravel\\Sail\\SailServiceProvider',
    'command.tinker' => 'Laravel\\Tinker\\TinkerServiceProvider',
  ),
  'when' => 
  array (
    'Illuminate\\Broadcasting\\BroadcastServiceProvider' => 
    array (
    ),
    'Illuminate\\Bus\\BusServiceProvider' => 
    array (
    ),
    'Illuminate\\Cache\\CacheServiceProvider' => 
    array (
    ),
    'Illuminate\\Foundation\\Providers\\ConsoleSupportServiceProvider' => 
    array (
    ),
    'Illuminate\\Concurrency\\ConcurrencyServiceProvider' => 
    array (
    ),
    'Illuminate\\Hashing\\HashServiceProvider' => 
    array (
    ),
    'Illuminate\\Mail\\MailServiceProvider' => 
    array (
    ),
    'Illuminate\\Auth\\Passwords\\PasswordResetServiceProvider' => 
    array (
    ),
    'Illuminate\\Pipeline\\PipelineServiceProvider' => 
    array (
    ),
    'Illuminate\\Queue\\QueueServiceProvider' => 
    array (
    ),
    'Illuminate\\Redis\\RedisServiceProvider' => 
    array (
    ),
    'Illuminate\\Translation\\TranslationServiceProvider' => 
    array (
    ),
    'Illuminate\\Validation\\ValidationServiceProvider' => 
    array (
    ),
    'Laravel\\Sail\\SailServiceProvider' => 
    array (
    ),
    'Laravel\\Tinker\\TinkerServiceProvider' => 
    array (
    ),
  ),
);

--- FILE: ./README.md ---

<p align="center"><a href="https://laravel.com" target="_blank"><img src="https://raw.githubusercontent.com/laravel/art/master/logo-lockup/5%20SVG/2%20CMYK/1%20Full%20Color/laravel-logolockup-cmyk-red.svg" width="400" alt="Laravel Logo"></a></p>

<p align="center">
<a href="https://github.com/laravel/framework/actions"><img src="https://github.com/laravel/framework/workflows/tests/badge.svg" alt="Build Status"></a>
<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/dt/laravel/framework" alt="Total Downloads"></a>
<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/v/laravel/framework" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/laravel/framework"><img src="https://img.shields.io/packagist/l/laravel/framework" alt="License"></a>
</p>

## About Laravel

Laravel is a web application framework with expressive, elegant syntax. We believe development must be an enjoyable and creative experience to be truly fulfilling. Laravel takes the pain out of development by easing common tasks used in many web projects, such as:

- [Simple, fast routing engine](https://laravel.com/docs/routing).
- [Powerful dependency injection container](https://laravel.com/docs/container).
- Multiple back-ends for [session](https://laravel.com/docs/session) and [cache](https://laravel.com/docs/cache) storage.
- Expressive, intuitive [database ORM](https://laravel.com/docs/eloquent).
- Database agnostic [schema migrations](https://laravel.com/docs/migrations).
- [Robust background job processing](https://laravel.com/docs/queues).
- [Real-time event broadcasting](https://laravel.com/docs/broadcasting).

Laravel is accessible, powerful, and provides tools required for large, robust applications.

## Learning Laravel

Laravel has the most extensive and thorough [documentation](https://laravel.com/docs) and video tutorial library of all modern web application frameworks, making it a breeze to get started with the framework. You can also check out [Laravel Learn](https://laravel.com/learn), where you will be guided through building a modern Laravel application.

If you don't feel like reading, [Laracasts](https://laracasts.com) can help. Laracasts contains thousands of video tutorials on a range of topics including Laravel, modern PHP, unit testing, and JavaScript. Boost your skills by digging into our comprehensive video library.

## Laravel Sponsors

We would like to extend our thanks to the following sponsors for funding Laravel development. If you are interested in becoming a sponsor, please visit the [Laravel Partners program](https://partners.laravel.com).

### Premium Partners

- **[Vehikl](https://vehikl.com)**
- **[Tighten Co.](https://tighten.co)**
- **[Kirschbaum Development Group](https://kirschbaumdevelopment.com)**
- **[64 Robots](https://64robots.com)**
- **[Curotec](https://www.curotec.com/services/technologies/laravel)**
- **[DevSquad](https://devsquad.com/hire-laravel-developers)**
- **[Redberry](https://redberry.international/laravel-development)**
- **[Active Logic](https://activelogic.com)**

## Contributing

Thank you for considering contributing to the Laravel framework! The contribution guide can be found in the [Laravel documentation](https://laravel.com/docs/contributions).

## Code of Conduct

In order to ensure that the Laravel community is welcoming to all, please review and abide by the [Code of Conduct](https://laravel.com/docs/contributions#code-of-conduct).

## Security Vulnerabilities

If you discover a security vulnerability within Laravel, please send an e-mail to Taylor Otwell via [taylor@laravel.com](mailto:taylor@laravel.com). All security vulnerabilities will be promptly addressed.

## License

The Laravel framework is open-sourced software licensed under the [MIT license](https://opensource.org/licenses/MIT).
